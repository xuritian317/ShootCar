window.__require=function t(e,i,o){function n(a,c){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return n(e[a][1][t]||t)},h,h.exports,t,e,i,o)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({AdUtils:[function(t,e,i){"use strict";cc._RF.push(e,"b5b7brfRlRMGqlazkMEcxZO","AdUtils");var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=t("BILog"),a={banner:!0},c=new(function(){function t(){n(this,t),this.WX_BANNER_ID=["adunit-c0a04d921b66e345"],this.WX_INTERSTITIAL_ID=["adunit-cc105d403a0df57d"],this.WX_VIDEO_IDS=["adunit-71366677a995ce81"],this.BAIDU_APP_ID="e15c9d37",this.BAIDU_BANNER_ID="6343860",this.BAIDU_VIDEO_IDS=["6343861","6343862"],this.TT_BANNER_ID=["1a2123ma37jf46kae8"],this.TT_VIDEO_IDS=["aeiq13lhsod929997l"],this.OPPO_BANNER_ID="139442",this.OPPO_INTERSTITIAL_ID="139443",this.OPPO_VIDEO_IDS=["139445"],this.VIVO_BANNER_ID="1bf8c9412b9541cfbfc4d31e9b9371dd",this.VIVO_INTERSTITIAL_ID="5e85379b4dcb4827ad671c649c3e5769",this.VIVO_VIDEO_IDS=["207b3c85b3444629b2360bef4eede9cf"],this.VIVO_NativeAd_ID="cf825d90cb1047bb98193389e11f2d98",this.QQ_BANNER_ID=["b74e65991b5346b106bc5a15ee11e4d2"],this.QQ_VIDEO_IDS=["c7a90d5f0802368fd5d087be90a9eacc","2fdbc1c3a9ef407932e9c4171da0e33b","4da8ea81f72677b36171ac9cfb0227e0"],this.curBannerId=0,this.wxBannerAd=null,this.oppoBannerAd=null,this.vivoBannerAd=null,this.baiduBannerAd=null,this.wxInterstitialAd=[null,null,null],this.oppoInterstitialAd=null,this.vivoInterstitialAd=null,this.hasShowGameClub=!1,this.isShowBanner=!1,this.bannerTime=0,this.userinfoBtn=null,this.vivoNativeAd=null,this.isoldclicd=!1,this.timeold=0,this.curBannerId=Math.floor(Math.random()*this.WX_BANNER_ID.length)}return o(t,[{key:"showVideo",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(cc.sys.platform===cc.sys.WECHAT_GAME){var o=null;window.isTT?(o=this.TT_VIDEO_IDS[0],this.showWxVideo(t,o,e,i)):(o=this.WX_VIDEO_IDS[t],this.showWxVideo(t,o,e,i))}else{if(window.isQQ){var n=this.QQ_VIDEO_IDS[t];return void this.showWxVideo(t,n,e,i)}cc.sys.platform===cc.sys.VIVO_GAME?this.showVIVOVideo(t,e,i):window.qg?this.showOPPOVideo(t,e,i):cc.sys.platform===cc.sys.BAIDU_GAME?this.showBaiduVideo(t,e,i):(e(!0),console.log("\u64ad\u653e\u89c6\u9891"))}}},{key:"showTTVideo",value:function(t,e,i){tt.getSystemInfoSync();cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll();var o=null;o=tt.createRewardedVideoAd({adUnitId:t}),console.log("\u8fdb\u5165\u5934\u6761");var n=function(){console.log("onLoad")},s=function t(e){i(),console.log("onError"),o.offLoad(n),o.offClose(a),o.offError(t),cc.dlm.soundMgr.resumeAll(),isShowVideo=!1,cc.sg.hideTouchBlock()},a=function t(i){cc.director.resume(),i&&i.isEnded||void 0===i?e(!0):e(!1),cc.sg.hideTouchBlock(),console.log("onClose"),o.offLoad(n),o.offClose(t),o.offError(s),soundMgr.resumeAll(),isShowVideo=!1};o.onLoad(n),o.onError(s),o.onClose(a),o.load().then(function(){return o.show()}).catch(function(t){console.log(t.errMsg),o.load().then(function(){return o.show()}).catch(function(t){console.log(t.errMsg),o.load().then(function(){return o.show()}).catch(function(t){console.log(t.errMsg)})})})}},{key:"showBaiduVideo",value:function(t,e,i){var o={adUnitId:this.BAIDU_VIDEO_IDS[t],appSid:this.BAIDU_APP_ID},n=swan.createRewardedVideoAd(o);cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll(),n.onError(function(t){console.log(t.errMsg+" errCode:"+t.errCode),i(t),n.offLoad(),n.offError(),n.offClose(),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()}),n.onClose(function(t){e(t.isEnded),n.offLoad(),n.offError(),n.offClose(),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()}),n.load().then(function(){return n.show()}).catch(function(t){return console.log(t)})}},{key:"showOPPOVideo",value:function(t,e,i){var o=this;console.log("id"+t);var n=void 0;cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll();var s=function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1",t.code),e(!0),n.offLoad(),n.offVideoStart(),n.offClose(),n.offError(),n.destroy()};try{(n=qg.createRewardedVideoAd({posId:o.OPPO_VIDEO_IDS[0]})).onLoad(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",t.code),n.show()}),n.onError(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u51fa\u9519",t.code),i(),n.offLoad(),n.offVideoStart(),n.offClose(),n.offError(),n=null,cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()}),n.onVideoStart(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u5f00\u59cb\u64ad\u653e",t.code),1}),console.log("1"),n.onClose(function(t){t.isEnded?s(t):(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e(!1)),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()}),console.log("2"),n.load()}catch(t){return console.log("7"),void console.error(t)}}},{key:"showVIVOVideo",value:function(t,e,i){var o=new Date;if(console.log("old",o),0==this.isoldclicd){if(this.timeold=o,qg.getSystemInfoSync().platformVersionCode>=1041){var n=void 0,s=this,a=function(){if(qg.createRewardedVideoAd)return qg.createRewardedVideoAd({posId:s.VIVO_VIDEO_IDS[t],style:{}})},c=function(){cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll(),console.log("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f");var t=n.show();t&&t.catch(function(t){console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})},r=function t(e){console.log("\u89c6\u9891\u5e7f\u544a\u51fa\u9519",e.errCode),i(),n.offLoad(c),n.offClose(l),n.offError(t),n=null,cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()},l=function t(i){console.log("funClose"),i.isEnded?h():(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e(!1),n.offLoad(c),n.offClose(t),n.offError(r)),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()},h=function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e(!0),n.offLoad(c),n.offClose(l),n.offError(r),n=null};try{n=a(),console.log("1"),n.onLoad(c),n.onClose(l),n.onError(r),console.log("2"),n.load()}catch(t){return void console.log("7")}}this.isoldclicd=!0}else{var d=o-this.timeold;if(this.timeold=o,d>1e4){if(qg.getSystemInfoSync().platformVersionCode>=1041){var u=void 0,p=this,f=(a=function(){if(qg.createRewardedVideoAd)return qg.createRewardedVideoAd({posId:p.VIVO_VIDEO_IDS[t],style:{}})},function(){cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll(),console.log("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f");var t=u.show();t&&t.catch(function(t){console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})}),m=function t(e){console.log("\u89c6\u9891\u5e7f\u544a\u51fa\u9519",e.errCode),i(),u.offLoad(f),u.offClose(g),u.offError(t),u=null,cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()},g=function t(i){console.log("funClose"),i.isEnded?v():(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e(!1),u.offLoad(f),u.offClose(t),u.offError(m)),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()},v=function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e(!0),u.offLoad(f),u.offClose(g),u.offError(m),u=null};try{u=a(),console.log("1"),u.onLoad(f),u.onClose(g),u.onError(m),console.log("2"),u.load()}catch(t){return void console.log("7")}}}else i()}}},{key:"showBanner",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t=t||function(){},e=e||function(){},cc.sys.platform===cc.sys.WECHAT_GAME){var i=null;window.isTT?(i=this.TT_BANNER_ID[0],this.showTTBanner(i,t,e)):cc.sys.platform===cc.sys.WECHAT_GAME&&(i=this.WX_BANNER_ID[0],this.showWxBanner(i,t,e))}else window.isQQ?this.showWxBanner(this.QQ_BANNER_ID[0],t,e):cc.sys.platform===cc.sys.VIVO_GAME?(console.log("\u662f\u5426\u81ea\u5df1\u8c03\u7528"),this.showVIVOBanner(t,e)):window.qg?this.showOPPOBanner(t,e):cc.sys.platform===cc.sys.BAIDU_GAME&&this.showBaiduBanner(t,e)}},{key:"showBaiduBanner",value:function(t,e){var i=this,o=swan.getSystemInfoSync(),n={adUnitId:this.BAIDU_BANNER_ID,appSid:this.BAIDU_APP_ID,style:{top:o.windowHeight,left:(o.windowWidth-300)/2,width:0}};baiduBannerAd=swan.createBannerAd(n),this.baiduBannerAd.onLoad(function(){i.baiduBannerAd.show().then().catch(function(t){return console.log(t)})}),this.baiduBannerAd.onResize(function(t){i.baiduBannerAd.style.top=o.windowHeight-t.height}),this.baiduBannerAd.style.width=300}},{key:"showOPPOBanner",value:function(t,e){var i=this;try{console.log("11"),this.oppoBannerAd=qg.createBannerAd({posId:i.OPPO_BANNER_ID}),console.log("22"),this.oppoBannerAd.onShow(function(e){console.log("oppo Banner load",e.code),t()}),this.oppoBannerAd.onHide(function(t){console.log("banner \u5e7f\u544a\u9690\u85cf",t.code),i.oppoBannerAd.offShow(),i.oppoBannerAd.offHide(),i.oppoBannerAd.offError(),i.oppoBannerAd=null}),console.log("33"),this.oppoBannerAd.onError(function(t){console.error("oppo Banner err",t.code),console.error(t),e()}),console.log("44"),this.oppoBannerAd.show(),console.log("55")}catch(t){return void console.log("66")}}},{key:"showVIVOBanner",value:function(t,e){var i=this;if(qg.getSystemInfoSync().platformVersionCode>=1031){var o=function(){console.log("vivo Banner show")};if(null===this.vivoBannerAd){var n=function(t){console.error("vivo Banner err",t)};try{console.log("11"),this.vivoBannerAd=(console.log("VIVO_BANNER_ID,",i.VIVO_BANNER_ID),qg.createBannerAd({posId:i.VIVO_BANNER_ID,style:{}})),this.vivoBannerAd.onLoad(function(){console.log("vivo Banner load");var n=i.vivoBannerAd.show();n&&n.then(o).catch(function(o){console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25",o),3e4===o.code&&(i.vivoBannerAd.destroy(),i.vivoBannerAd=null,i.showVIVOBanner(t,e))}),console.log("55")}),this.vivoBannerAd.onError(n),this.vivoBannerAd.onClose(function t(){console.log("banner \u5e7f\u544a\u5173\u95ed"),i.vivoBannerAd.offError(n),i.vivoBannerAd.offClose(t),i.vivoBannerAd.destroy(),i.vivoBannerAd=null}),console.log("44")}catch(t){return void console.log("66")}}else{var s=this.vivoBannerAd.show();s&&s.then(o).catch(function(o){console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25",o),3e4===o.code&&(i.vivoBannerAd.destroy(),i.vivoBannerAd=null,i.showVIVOBanner(t,e))})}}}},{key:"showNativeAd",value:function(t,e){cc.sys.platform===cc.sys.VIVO_GAME&&(console.log("\u662f\u5426\u81ea\u5df1\u8c03\u7528"),this.showVIVONativeAd(success,fail))}},{key:"showVIVONativeAd",value:function(t,e){if(null===this.vivoNativeAd);else;}},{key:"initGameClub",value:function(t){if(!cc.sys.platform!==cc.sys.WECHAT_GAME){var e=wx.getSystemInfoSync(),i=e.SDKVersion;if(this.compareVersion(i,"2.0.4")>=0)if(this.hasShowGameClub)cc.dlm.gameClub.show();else{var o=e.screenWidth/cc.director.getWinSize().width,n=t.w*o,s=t.h*o,a=t.t*o,c=t.l*o,r=wx.createGameClubButton({icon:"green",style:{left:c,top:a,width:n,height:s}});r.onTap(function(t){}),cc.dlm.gameClub=r,this.hasShowGameClub=!0}}}},{key:"hideGameClub",value:function(){this.hasShowGameClub&&cc.dlm.gameClub.hide()}},{key:"showGameClub",value:function(){this.hasShowGameClub&&cc.dlm.gameClub.show()}},{key:"hideBanner",value:function(){console.log("\u5173\u95ed\u5e7f\u544a"),cc.sys.platform===cc.sys.WECHAT_GAME?this.wxBannerAd&&(this.isShowBanner=!1,this.wxBannerAd.hide()):cc.sys.platform===cc.sys.VIVO_GAME?(console.log("\u5173\u95edvivobanner\u5e7f\u544a"),this.vivoBannerAd&&(console.log("vivobanner\u5e7f\u544a\u5df2\u5173\u95ed"),this.vivoBannerAd.destroy())):window.qg?this.oppoBannerAd&&this.oppoBannerAd.hide():cc.sys.platform===cc.sys.BAIDU_GAME&&this.baiduBannerAd&&this.baiduBannerAd.hide()}},{key:"showTTBanner",value:function(t,e,i){if(a.banner&&this.bannerTime%2&&this.wxBannerAd&&(this.wxBannerAd.destroy(),this.wxBannerAd=null),this.bannerTime++,window.isTT){if(!this.wxBannerAd){var o=tt.getSystemInfoSync(),n=o.windowWidth,c={left:0,top:o.windowHeight-86-10,width:n,height:86};this.wxBannerAd=tt.createBannerAd({adUnitId:t,style:c});var r=this;this.wxBannerAd.onLoad(function(){if(console.log("onLoad"),!window.isTT){var t=r.wxBannerAd.style.realWidth,i=(info.screenWidth-t)/2;r.wxBannerAd.style.left=i,e&&e()}}),this.wxBannerAd.onError(function(t){i&&i(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.error(1,t.errCode))})}this.wxBannerAd.show()}else i&&i()}},{key:"showWxBanner",value:function(t,e,i){var o=this;a.banner&&this.bannerTime%2&&this.wxBannerAd&&(this.wxBannerAd.destroy(),this.wxBannerAd=null),this.bannerTime++;var n=wx.getSystemInfoSync().SDKVersion;if(this.compareVersion(n,"2.0.4")>=0||window.isQQ||window.isTT){if(!this.wxBannerAd){var c=wx.getSystemInfoSync().screenWidth,r=wx.getSystemInfoSync().screenHeight,l=cc.view.getDesignResolutionSize(),h=c/l.width*l.height,d=c/l.width*100+(r-h)/2;this.wxBannerAd=wx.createBannerAd({adUnitId:t,style:{left:0,top:0,width:c}});var u=!1;this.wxBannerAd.onLoad(function(){e&&e()}),this.wxBannerAd.onError(function(t){i&&i(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.error(1,t.errCode))}),this.wxBannerAd.onResize(function(t){if(!u){var e=o.wxBannerAd;if(e.style.realHeight>d){u=!0;var i=c*d/e.style.realHeight;i=cc.misc.clampf(i,300,9999),e.style.width=i,e.style.top=r-e.style.realHeight*(i/e.style.realWidth),e.style.left=c-e.style.width}else e.style.top=r-e.style.realHeight,r/c>2&&(e.style.top=e.style.top-34)}})}this.wxBannerAd.show()}else i&&i()}},{key:"showWxVideo",value:function(t,e,i,o){var n=wx.getSystemInfoSync().SDKVersion;if(this.compareVersion(n,"2.0.4")>=0||window.isQQ||isTT){cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll();var a=null,c=function(){console.log("\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")},r=function t(e){cc.director.resume(),cc.dlm.soundMgr.resumeAll(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.error(0,err.errCode)),o&&o(),console.log("\u5e7f\u544a\u52a0\u8f7d\u9519\u8bef"),console.log(e),a.offLoad(c),a.offClose(l),a.offError(t)},l=function t(e){cc.director.resume(),e&&e.isEnded||void 0===e?i(!0):i(!1),console.log("onClose"),a.offLoad(c),a.offClose(t),a.offError(r),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()};(a=window.isTT?tt.createRewardedVideoAd({adUnitId:e}):wx.createRewardedVideoAd({adUnitId:e})).onLoad(c),a.onError(r),a.onClose(l),a.load().then(function(){return a.show()}).catch(function(t){console.log(t.errMsg),a.load().then(function(){return a.show()}).catch(function(t){console.log(t.errMsg),a.load().then(function(){return a.show()}).catch(function(t){console.log(t.errMsg)})})})}else o&&o(),console.log("\u7248\u672c\u4e0d\u5bf9")}},{key:"showInterstitial",value:function(t,e,i){var o=this;cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.VIVO_GAME?setTimeout(function(){o.showVIVOInterstitial(e,i)},500):window.qg)}},{key:"showWxInterstitial",value:function(t,e,i){e=e||function(){},i=i||function(){};var o=wx.getSystemInfoSync().SDKVersion;if(this.compareVersion(o,"2.6.0")>=0)try{if(this.wxInterstitialAd[t])return void this.wxInterstitialAd[t].show();var n=this.WX_INTERSTITIAL_ID[t];this.wxInterstitialAd[t]=wx.createInterstitialAd({adUnitId:n});this.wxInterstitialAd[t].onLoad(function(){e()}),this.wxInterstitialAd[t].onError(function(t){i()}),this.wxInterstitialAd[t].show()}catch(t){console.log(t)}}},{key:"showOPPOInterstitial",value:function(t,e){var i=this;try{this.oppoInterstitialAd=function(){var t=cc.sys.platform==cc.sys.OPPO_GAME?i.OPPO_INTERSTITIAL_ID:i.VIVO_INTERSTITIAL_ID;return qg.createInsertAd({posId:t})}(),this.oppoInterstitialAd.onLoad(function(){console.log("oppo Interstitial load"),i.oppoInterstitialAd.show()}),this.oppoInterstitialAd.onShow(function(){console.log("oppo Interstitial show"),t()}),this.oppoInterstitialAd.onError(function(t){console.error("oppo Interstitial err",t.code),console.error(t),e()}),this.oppoInterstitialAd.load()}catch(t){return void console.log(t)}}},{key:"showVIVOInterstitial",value:function(t,e){var i=this;if(t=t||function(){},e=e||function(){},qg.getSystemInfoSync().platformVersionCode>=1031){var o=function(t){console.error("vivo Interstitial err",t)},n=function(){console.log("vivo Interstitial load");var t=i.vivoInterstitialAd.show();t&&t.then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",t)})};try{console.log("Interstitial=try"),this.vivoInterstitialAd=qg.createInterstitialAd({posId:i.VIVO_INTERSTITIAL_ID}),this.vivoInterstitialAd.onError(o),this.vivoInterstitialAd.onLoad(n)}catch(t){return void console.log(t)}}}},{key:"compareVersion",value:function(t,e){t=t||[],e=e||[],t=(""+t).split("."),e=(""+e).split(".");for(var i=Math.max(t.length,e.length);t.length<i;)t.push("0");for(;e.length<i;)e.push("0");for(var o=0;o<i;o++){var n=parseInt(t[o]),s=parseInt(e[o]);if(n>s)return 1;if(n<s)return-1}return 0}},{key:"destroyWxLoginBtn",value:function(){this.userinfoBtn&&(this.userinfoBtn.destroy(),this.userinfoBtn=null)}},{key:"createWxLoginBtn",value:function(t,e){var i=this;!cc.sys.platform!==cc.sys.WECHAT_GAME&&(a.isLogin||(this.destroyWxLoginBtn(),console.log("wx.getUserInfo "),wx.getUserInfo({success:function(t){a.isLogin=!0,console.log("\u767b\u9646\u6210\u529f")},fail:function(o){console.log("\u767b\u9646\u5931\u8d25");var n=t.convertToWorldSpace(cc.v2(0,0)),s=n.x,a=n.y,c=t.width,r=t.height,l=cc.winSize,h=s,d=l.height-a-r,u=wx.getSystemInfoSync().screenWidth/l.width;h*=u,d*=u,c*=u,r*=u,i.userinfoBtn=wx.createUserInfoButton({type:"image",image:"https://cdnminigame.lightlygame.com.cn/wherekey/1shouji/"+["btn1.png","btn1.png","btn2.png","btn3.png"][e],style:{left:h,top:d,width:c,height:r,textAlign:"center"}}),i.userinfoBtn.onTap(function(t){"getUserInfo:fail auth deny"==t.errMsg?console.log("\u6388\u6743\u5931\u8d25"):(i.userinfoBtn.destroy(),console.log("\u6388\u6743\u6210\u529f"))})}})))}}]),t}());e.exports=c,cc._RF.pop()},{BILog:"BILog"}],AddGold:[function(t,e,i){"use strict";cc._RF.push(e,"27263ktZVxLs64fH8GwVmrP","AddGold");t("ShareUtils");var o=t("SaveData"),n=(t("EventConst"),t("AdUtils"));cc.Class({extends:cc.Component,properties:{},start:function(){},onshow:function(){this.node.active=!0},onhide:function(){this.node.active=!1},onback:function(){this.onhide()},onbtnaddGold:function(){var t=this;cc.dlm.soundMgr.playSound("click"),n.showVideo(0,function(e){e?(t.onhide(),o.goldChange(1e3),o.save(),cc.dlm.showToast("\u6210\u529f\u83b7\u5f971000\u91d1\u5e01")):cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6")},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})}}),cc._RF.pop()},{AdUtils:"AdUtils",EventConst:"EventConst",SaveData:"SaveData",ShareUtils:"ShareUtils"}],BILog:[function(t,e,i){"use strict";cc._RF.push(e,"47fd4NHwqpApYUXAzrrwQf3","BILog"),e.exports={sharedIn:function(t){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok.sharedIn({type:t})},sharedOut:function(t){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok.sharedOut({type:t})},adVideo:function(t,e){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok.adVideo({type:t,subType:e})},appOnce:function(t){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok.appOnce({actionNumber:t})},adLogin:function(){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok.adLogin()},battle:function(t,e,i){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok.battle({logType:t,battleType:e,battleId:i})},level:function(t,e){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok.level({level:t,newLevel:e})},money:function(t,e){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok.money({sequenceId:0,reason:"",oldMoney:t,newMoney:e,num:0,moneyType:2,itemIdName:0,itemType:0,itemId:0,shop:0})},action:function(t,e,i,o){if(cc.sys.platform===cc.sys.WECHAT_GAME){var n={actionType:t,actionNumber:e};null!=i&&(n.g1=i),null!=o&&(n.s1=o),wx.leuok.action(n)}},error:function(t,e){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.leuok&&wx.leuok.error({errorType:t,errCode:e})}},cc._RF.pop()},{}],BgManager:[function(t,e,i){"use strict";cc._RF.push(e,"ac78duDR55KU79ZlKm7p1RM","BgManager");t("MapData");cc.Class({extends:cc.Component,properties:{prefabs:[cc.Prefab],isFg:!1,_bgs:[]},initLevel:function(t){if(this.node.removeAllChildren(),this._bgs=[],t)for(var e=this.isFg?t.fgs:t.bgs,i=0;i<e.length;i++){var o=cc.instantiate(this.prefabs[e[i]]);this.node.addChild(o);var n=o.getComponent("BgMap");n.init(),this._bgs.push(n)}},updatePos:function(t,e){for(var i=0;i<this._bgs.length;i++)this._bgs[i].updatePos(t,e)},start:function(){}}),cc._RF.pop()},{MapData:"MapData"}],BgMap:[function(t,e,i){"use strict";cc._RF.push(e,"040c7Sb9lxMPK6nZJAyKbxP","BgMap"),cc.Class({extends:cc.Component,properties:{loopWidth:2e3,speedRate:.5,yPercent:1},init:function(){for(var t=cc.visibleRect.width,e=this.node.children,i=e.length,o=0;o<i;o++){var n=e[o];if(n.x-n.width*n.anchorX<t){var s=cc.instantiate(n);this.node.addChild(s),s.x+=this.loopWidth}}},updatePos:function(t,e){var i=t*(1-this.speedRate)%this.loopWidth;i<0&&(i+=this.loopWidth);var o=Math.floor(t/this.loopWidth)*this.loopWidth+i;o>=t&&(o-=this.loopWidth),this.node.x=o,this.node.y=e*this.yPercent},start:function(){}}),cc._RF.pop()},{}],BlockComp:[function(t,e,i){"use strict";cc._RF.push(e,"44d98Ahy0BOfpnk4g7WRd7A","BlockComp");var o=t("EventConst");cc.Class({extends:cc.Component,properties:{},blockOn:function(){var t=this.getComponent(cc.BlockInputEvents);t&&(t.enabled=!0)},blockOff:function(){var t=this.getComponent(cc.BlockInputEvents);t&&(t.enabled=!1)},onLoad:function(){cc.systemEvent.on(o.BLOCK_ON,this.blockOn,this),cc.systemEvent.on(o.BLOCK_OFF,this.blockOff,this)},onDestroy:function(){cc.systemEvent.off(o.BLOCK_ON,this.blockOn,this),cc.systemEvent.off(o.BLOCK_OFF,this.blockOff,this)},start:function(){}}),cc._RF.pop()},{EventConst:"EventConst"}],BtnEffect:[function(t,e,i){"use strict";cc._RF.push(e,"ea8fehy0ORHoIJzUfsuN8Ci","BtnEffect"),cc.Class({extends:cc.Component,properties:{},start:function(){var t=this.node.getComponent(cc.Sprite);if(t){var e=new cc.Node;e.parent=this.node;var i=e.addComponent(cc.Sprite);i.spriteFrame=t.spriteFrame,i.srcBlendFactor=cc.macro.SRC_ALPHA,i.dstBlendFactor=cc.macro.DST_ALPHA,e.opacity=70,e.runAction(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(.7,1.2,1.5),cc.fadeOut(.7)),cc.callFunc(function(){e.opacity=70,e.scale=1}))))}}}),cc._RF.pop()},{}],BtnMove:[function(t,e,i){"use strict";cc._RF.push(e,"fb50fXjHIFJy6m4iQrDVgNr","BtnMove"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.7,0,5),cc.moveBy(1,0,-5))))}}),cc._RF.pop()},{}],BulletManager:[function(t,e,i){"use strict";cc._RF.push(e,"39c51JH12dPfoau8qO+uGC7","BulletManager");var o=t("EventConst"),n=t("MathUtils"),s=t("GameConfig"),a=new cc.NodePool("Bullet");cc.Class({extends:cc.Component,properties:{prefab:cc.Prefab},initPool:function(){for(var t=0;t<10;t++){var e=cc.instantiate(this.prefab);a.put(e)}},getFromPool:function(){return a.get()||cc.instantiate(this.prefab)},putToPool:function(t){a.put(t)},clearBullets:function(){for(var t=this.node.children,e=t.length-1;e>=0;e--)this.putToPool(t[e])},onLoad:function(){cc.systemEvent.on(o.SHOOT,this.onShoot,this)},onDestroy:function(){cc.systemEvent.off(o.SHOOT,this.onShoot,this)},onShoot:function(t){var e=this.getFromPool();e.x=t.node.x,e.y=t.node.y;var i=t._aimCenter+t._aimAngle;e.angle=i;var o=e.getComponent("Bullet");o.init(this),o.setOwner(t),o._cd=2,o._aimAngle=i,this.node.addChild(e);var a=e.getComponent(cc.RigidBody),c=a.getWorldCenter(),r=t._body.linearVelocity;o._isUser?a.linearVelocity=cc.v2(3*r.x/4,3*r.y/4):a.linearVelocity=cc.v2();var l=s.BULLET_POWER,h=cc.v2();h.x=l*n.cos(i),h.y=l*n.sin(i),a.applyLinearImpulse(h,c)},checkBullet:function(){},start:function(){},update:function(t){}}),cc._RF.pop()},{EventConst:"EventConst",GameConfig:"GameConfig",MathUtils:"MathUtils"}],Bullet:[function(t,e,i){"use strict";cc._RF.push(e,"05dbd0CVPZOw4VOWBM7vOPP","Bullet");var o=t("MathUtils");cc.Class({extends:cc.Component,properties:{sprite:cc.Sprite,particle:cc.ParticleSystem,_mgr:null,_owner:null,_isUser:!1,_target:null,_aimSpeed:0,_aimAngle:0,_cd:0,_isBack:!1,_lastPos:null,_isRecycle:!1},reuse:function(){this._cd=0,this._isRecycle=!1,this._isBack=!1,this.sprite.node.active=!0,this.particle.resetSystem()},init:function(t){this._mgr=t,this._target=null,this._lastPos=null},setOwner:function(t){this._owner=t,t&&(this._isUser=t.isUser,this.sprite.spriteFrame=cc.dlm.gameAssets.sfBullets[t.carId])},setTarget:function(t){this._target=t},setAimSpeed:function(t){this._aimSpeed=t},runAim:function(t){if(this._target&&this._target._isAlive&&!this._isRecycle){var e=cc.v2(),i=this._target.node.x,n=this._target.node.y,s=this._owner.node.x,a=this._owner.node.y;e.x=this.node.x,e.y=this.node.y,e.x+=s-this._lastPos.x,e.y+=a-this._lastPos.y,this._lastPos.x=s,this._lastPos.y=a;var c=i-e.x,r=n-e.y,l=o.atan2(cc.v2(c,r)),h=(this._aimAngle-l)%360;h<0&&(h+=360);var d=500*t;h-d<=0||h+d>=360?this._aimAngle=l:h<180?this._aimAngle-=d:this._aimAngle+=d,e.x+=this._aimSpeed*t*o.cos(this._aimAngle),e.y+=this._aimSpeed*t*o.sin(this._aimAngle),this.node.position=e}},onBeginContact:function(t,e,i){var o=this,n=i.getComponent("Car");n&&n.isUser!=this._isUser&&n._isAlive&&!this._isBack&&(this._isBack=!0,n.hpReduce(this._owner),this._owner.isUser&&this._owner.speedUp(),this.getComponent(cc.RigidBody).linearVelocity=cc.v2(),this._target=this._owner,this._aimSpeed=800,this._lastPos=this._owner.node.position);n===this._owner&&this._isBack&&!this._isRecycle&&(this._isRecycle=!0,this.sprite.node.active=!1,this.scheduleOnce(function(){o.recycle()},.2))},runCD:function(t){this._cd<=0||(this._cd-=t*cc.director._gameRate,this._cd<=0&&this.recycle())},unuse:function(){this._target=null,this.unscheduleAllCallbacks()},recycle:function(){this._mgr?this._mgr.putToPool(this.node):this.node.removeFromParent()},start:function(){},update:function(t){this.runAim(t),this.runCD(t)}}),cc._RF.pop()},{MathUtils:"MathUtils"}],CarData:[function(t,e,i){"use strict";cc._RF.push(e,"1d96cvtIJFNDaO/Ir5uOxAA","CarData"),e.exports=[{name:"\u5929\u7130\u608d\u9a6c",price:0,baseGold:109,goldPerLv:23,baseSpeed:95,speedPerLv:1,baseAcc:55,accPerLv:1.54,baseJump:80,jumpPerLv:.74,hp:2,skills:[1]},{name:"\u5bd2\u5149\u98ce\u795e",price:1e3,baseGold:115,goldPerLv:25,baseSpeed:100,speedPerLv:1.25,baseAcc:60,accPerLv:1.77,baseJump:90,jumpPerLv:.95,hp:2,skills:[4]},{name:"\u7eff\u5f71\u6377\u8c79",price:1500,baseGold:127,goldPerLv:28,baseSpeed:95,speedPerLv:1.55,baseAcc:63,accPerLv:1.97,baseJump:100,jumpPerLv:1.15,hp:2,skills:[2]},{name:"\u95ea\u7535\u8d85\u8dd1",price:3e3,baseGold:133,goldPerLv:32,baseSpeed:110,speedPerLv:1.95,baseAcc:71,accPerLv:2.15,baseJump:100,jumpPerLv:1.05,hp:2,skills:[5]},{name:"\u84dd\u66b4\u5a01\u9f99",chip1:30,baseGold:144,goldPerLv:39,baseSpeed:125,speedPerLv:2.2,baseAcc:76,accPerLv:2.65,baseJump:90,jumpPerLv:1.05,hp:2,skills:[0,2]},{name:"\u5929\u7130\u91cd\u7532",video:6,baseGold:156,goldPerLv:42,baseSpeed:120,speedPerLv:2,baseAcc:82,accPerLv:2.52,baseJump:108,jumpPerLv:1.05,hp:2,skills:[2,5]},{name:"\u6781\u5149\u9b45\u5f71",chip2:70,baseGold:161,goldPerLv:47,baseSpeed:110,speedPerLv:2.2,baseAcc:87,accPerLv:2.59,baseJump:115,jumpPerLv:1.22,hp:2,skills:[3]},{name:"\u8d85\u97f3\u5e7b\u8c61",video:10,baseGold:169,goldPerLv:52,baseSpeed:120,speedPerLv:2.7,baseAcc:92,accPerLv:2.65,baseJump:95,jumpPerLv:1.1,hp:2,skills:[6]},{name:"\u72c2\u6c99\u86ee\u725b",chip3:100,baseGold:175,goldPerLv:57,baseSpeed:125,speedPerLv:2.75,baseAcc:98,accPerLv:2.65,baseJump:115,jumpPerLv:1.25,hp:2,skills:[3,6]}],cc._RF.pop()},{}],CarGarage:[function(t,e,i){"use strict";cc._RF.push(e,"b97ea0w3N5Op6uBvIxuHvax","CarGarage");var o=t("CarData"),n=t("SaveData"),s=t("EventConst"),a=t("SkillInfo"),c=t("BILog"),r=t("AddGold");cc.Class({extends:cc.Component,properties:{mainSprite:cc.Sprite,barSpeed:cc.Node,barAcc:cc.Node,barJump:cc.Node,lbName:cc.Label,btnLvUps:[cc.Button],lbPrices:[cc.Label],lbNums:[cc.Label],lbGold:cc.Label,garage:cc.Node,sfOn:cc.SpriteFrame,sfOff:cc.SpriteFrame,skillInfo:a,_inited:!1,_cars:null,_curId:0,addGold:r},show:function(){this.node.active=!0,this._inited||(this.init(),this._inited=!0),this.setCurId(n.data.curCar),this.onGoldChanged();for(var t=0;t<this._cars.length;t++)this._cars[t].setId(t),this._cars[t].updateSelect()},hide:function(){cc.systemEvent.emit(s.YZ),this.node.active=!1},onSpeedLvUpClicked:function(){cc.dlm.soundMgr.playSound("click");var t=n.data.carSpeedLv[this._curId],e=o[this._curId],i=e.baseGold+t*e.goldPerLv;n.data.gold>=i?(n.carSpeedLvUp(this._curId),n.goldChange(-i),n.save(),this.updateView()):(cc.dlm.showToast("\u91d1\u5e01\u4e0d\u8db3"),this.addGold.onshow()),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(105,1))},onAccLvUpClicked:function(){cc.dlm.soundMgr.playSound("click");var t=n.data.carAccLv[this._curId],e=o[this._curId],i=e.baseGold+t*e.goldPerLv;n.data.gold>=i?(n.carAccLvUp(this._curId),n.goldChange(-i),n.save(),this.updateView()):(cc.dlm.showToast("\u91d1\u5e01\u4e0d\u8db3"),this.addGold.onshow()),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(105,2))},onJumpLvUpClicked:function(){cc.dlm.soundMgr.playSound("click");var t=n.data.carJumpLv[this._curId],e=o[this._curId],i=e.baseGold+t*e.goldPerLv;n.data.gold>=i?(n.carJumpLvUp(this._curId),n.goldChange(-i),n.save(),this.updateView()):(cc.dlm.showToast("\u91d1\u5e01\u4e0d\u8db3"),this.addGold.onshow()),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(105,3))},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide()},init:function(){for(var t=this.garage.children[0],e=0;e<o.length-1;e++){var i=cc.instantiate(t);this.garage.addChild(i)}this._cars=this.garage.getComponentsInChildren("CarItem")},onCarChanged:function(t){this.setCurId(t)},onLoad:function(){cc.systemEvent.on(s.CAR_CHANGED,this.onCarChanged,this),cc.systemEvent.on(s.GOLD_CHANGED,this.onGoldChanged,this)},onDestroy:function(){cc.systemEvent.off(s.CAR_CHANGED,this.onCarChanged,this),cc.systemEvent.off(s.GOLD_CHANGED,this.onGoldChanged,this)},onGoldChanged:function(){this.lbGold.string=n.data.gold},start:function(){},setCurId:function(t){this._curId=t,this.updateView()},updateView:function(){var t=o[this._curId];this.mainSprite.spriteFrame=cc.dlm.gameAssets.sfCars[this._curId],this.lbName.string=t.name;for(var e=n.data,i=this.barSpeed.getComponentsInChildren(cc.Sprite),s=e.carSpeedLv[this._curId],a=0;a<i.length;a++)i[a].spriteFrame=a<s?this.sfOn:this.sfOff;var c=t.baseGold+s*t.goldPerLv;this.lbPrices[0].string=s<8?c:"--";var r=Math.floor(2*(t.baseSpeed+s*t.speedPerLv));this.lbNums[0].string=r+" mph",this.btnLvUps[0].interactable=s<8;for(var l=this.barAcc.getComponentsInChildren(cc.Sprite),h=e.carAccLv[this._curId],d=0;d<l.length;d++)l[d].spriteFrame=d<h?this.sfOn:this.sfOff;c=t.baseGold+h*t.goldPerLv,this.lbPrices[1].string=h<8?c:"--",r=Math.floor(t.baseAcc+h*t.accPerLv),this.lbNums[1].string=r+" bar",this.btnLvUps[1].interactable=h<8;for(var u=this.barJump.getComponentsInChildren(cc.Sprite),p=e.carJumpLv[this._curId],f=0;f<u.length;f++)u[f].spriteFrame=f<p?this.sfOn:this.sfOff;c=t.baseGold+p*t.goldPerLv,this.lbPrices[2].string=p<8?c:"--",r=(.03*(t.baseJump+p*t.jumpPerLv)).toFixed(2),this.lbNums[2].string=r+" m",this.btnLvUps[2].interactable=p<8,this.skillInfo.updateSkill(this._curId)}}),cc._RF.pop()},{AddGold:"AddGold",BILog:"BILog",CarData:"CarData",EventConst:"EventConst",SaveData:"SaveData",SkillInfo:"SkillInfo"}],CarItem:[function(t,e,i){"use strict";cc._RF.push(e,"fd9465w9+RJ+YgP7GdE/EbY","CarItem");var o=t("CarData"),n=t("SaveData"),s=t("EventConst"),a=t("AdUtils"),c=t("BILog"),r=t("AddGold");cc.Class({extends:cc.Component,properties:{lbName:cc.Label,newTag:cc.Node,sprite:cc.Sprite,frameL:cc.Node,frameR:cc.Node,lbPrice:cc.Label,btnBuy:cc.Node,btnRecive:cc.Node,btnSelect:cc.Node,selected:cc.Node,locked:cc.Node,mask:cc.Node,lbProgress:cc.Label,iconVideo:cc.Node,iconChip:cc.Sprite,videoMask:cc.Node,_carId:0,addGold:r},setId:function(t){this._carId=t,this.lbName.string=o[t].name,this.sprite.spriteFrame=cc.dlm.gameAssets.sfCars[t],this.updateSelect()},updateSelect:function(){console.log("EventConst.VIDEO_CHANGED");var t=n.data,e=t.curCar==this._carId,i=t.cars[this._carId];this.selected.active=e,this.frameL.active=e,this.frameR.active=e,this.btnSelect.active=!e&&i,this.locked.active=!1,this.btnRecive.active=!1,this.btnBuy.active=!1,this.newTag.active=!1,this.mask.active=!1;var s=o[this._carId];if(s.chip1){var a=!i&&t.chip1>=s.chip1;this.btnRecive.active=a,this.newTag.active=a,i||a||(this.locked.active=!0,this.mask.active=!0,this.iconVideo.active=!1,this.iconChip.node.active=!0,this.iconChip.spriteFrame=cc.dlm.gameAssets.sfChips[0],this.lbProgress.string=t.chip1+"/"+s.chip1)}else if(s.chip2){var c=!i&&t.chip2>=s.chip2;this.btnRecive.active=c,this.newTag.active=c,i||c||(this.locked.active=!0,this.mask.active=!0,this.iconVideo.active=!1,this.iconChip.node.active=!0,this.iconChip.spriteFrame=cc.dlm.gameAssets.sfChips[1],this.lbProgress.string=t.chip2+"/"+s.chip2)}else if(s.chip3){var r=!i&&t.chip3>=s.chip3;this.btnRecive.active=r,this.newTag.active=r,i||r||(this.locked.active=!0,this.mask.active=!0,this.iconVideo.active=!1,this.iconChip.node.active=!0,this.iconChip.spriteFrame=cc.dlm.gameAssets.sfChips[2],this.lbProgress.string=t.chip3+"/"+s.chip3)}else if(s.video){var l=!i&&t.video>=s.video;this.btnRecive.active=l,this.newTag.active=l,this.locked.active=!i&&!l,i||l||(this.locked.active=!0,this.mask.active=!0,this.iconVideo.active=!0,this.iconChip.node.active=!1,this.lbProgress.string=t.video+"/"+s.video)}else s.price&&(this.btnBuy.active=!i,this.lbPrice.string=s.price)},onLoad:function(){cc.systemEvent.on(s.CAR_CHANGED,this.updateSelect,this),cc.systemEvent.on(s.VIDEO_ADD,this.updateSelect,this)},onDestroy:function(){cc.systemEvent.off(s.CAR_CHANGED,this.updateSelect,this),cc.systemEvent.off(s.VIDEO_ADD,this.updateSelect,this)},onReciveClicked:function(){var t=n.data,e=o[this._carId];e.chip1?t.chip1-=e.chip1:e.chip2?t.chip2-=e.chip2:e.chip3&&(t.chip3-=e.chip3),cc.dlm.soundMgr.playSound("click"),n.carUnlock(this._carId),this.updateSelect(),n.save(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(106,this._carId))},onSelectClicked:function(){cc.dlm.soundMgr.playSound("click"),n.setCurCar(this._carId),n.save()},onBuyClicked:function(){cc.dlm.soundMgr.playSound("click");var t=o[this._carId];n.data.gold>=t.price?(n.goldChange(-t.price),n.carUnlock(this._carId),this.updateSelect(),cc.dlm.showToast("\u8d2d\u4e70\u6210\u529f"),n.save()):(cc.dlm.showToast("\u91d1\u5e01\u4e0d\u8db3"),this.addGold.onshow())},onVideoClicked:function(){var t=this,e=n.data,i=e.cars[this._carId],s=o[this._carId];i||!s.video||this.newTag.active||(this.videoMask.active=!0,cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(4,2)),a.showVideo(0,function(e){e?(n.videoAdd(),n.save(),t.updateSelect(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&(c.adVideo(4,4),c.adVideo(4,5))),t.videoMask.active=!1):(t.videoMask.active=!1,cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(4,3)))},function(){t.videoMask.active=!1,cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(4,6))})),!i&&cc.sys.isBrowser&&(s.chip1?(e.chip1+=10,this.updateSelect(),n.save()):s.chip2?(e.chip2+=10,this.updateSelect(),n.save()):s.chip3&&(e.chip3+=10,this.updateSelect(),n.save()))},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",AddGold:"AddGold",BILog:"BILog",CarData:"CarData",EventConst:"EventConst",SaveData:"SaveData"}],CarTry:[function(t,e,i){"use strict";cc._RF.push(e,"25f60W2eyNGLLf23g7sG4IO","CarTry");var o=t("EventConst"),n=t("GameData"),s=t("CarData"),a=t("AdUtils"),c=t("BILog");cc.Class({extends:cc.Component,properties:{dialog:cc.Node,sprite:cc.Sprite,lbSpeed:cc.Label,lbAcc:cc.Label,lbJump:cc.Label,_tryId:-1,_tryCount:0},show:function(){if(this._tryCount=(this._tryCount+1)%2,0!=this._tryCount)return n.setTryId(-1),void cc.systemEvent.emit(o.GAME_START);for(var t=[4,6,8],e=[50,30,20],i=Math.floor(100*Math.random()),a=0,c=0;c<t.length;c++)if(i<(a+=e[c])){this._tryId=t[c];break}this.sprite.spriteFrame=cc.dlm.gameAssets.sfCars[this._tryId];var r=s[this._tryId],l=Math.floor(2*(r.baseSpeed+9*r.speedPerLv));this.lbSpeed.string=l+" mph",l=Math.floor(r.baseAcc+9*r.accPerLv),this.lbAcc.string=l+" bar",l=(.03*(r.baseJump+9*r.jumpPerLv)).toFixed(2),this.lbJump.string=l+" m",this.node.active=!0,this.dialog.stopAllActions(),this.dialog.scale=0,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start()},hide:function(){var t=this;this.dialog.stopAllActions(),this.dialog.scale=1,cc.tween(this.dialog).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1,cc.systemEvent.emit(o.GAME_START)}).start()},onTryClicked:function(){var t=this;cc.dlm.soundMgr.playSound("click"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(6,2)),a.showVideo(0,function(e){e?(t.hide(),n.setTryId(t._tryId),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&(c.adVideo(6,4),c.adVideo(6,5)))):(cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(6,3)))},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(6,6))})},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide()},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",BILog:"BILog",CarData:"CarData",EventConst:"EventConst",GameData:"GameData"}],Car:[function(t,e,i){"use strict";cc._RF.push(e,"664f75icF5M8bieozrjBkkX","Car");var o=t("MathUtils"),n=t("EventConst"),s=t("CarData"),a=t("GameConfig"),c=t("GameData"),r=t("VibrateUtils");cc.Class({extends:cc.Component,properties:{carId:0,carNode:cc.Node,speedUpEff:cc.Node,fireEff:cc.Node,frontWheel:cc.Node,backWheel:cc.Node,aimBg:cc.Node,aimLine:cc.Node,isUser:!1,boomAnim:cc.Animation,_isAlive:!0,_body:cc.RigidBody,_targetSpeed:1e3,_frontOnEarth:!1,_backOnEarth:!1,_isJump:!1,_jumpRotate:!1,_jumpRotateAngle:0,_isRun:!1,_speedUpCD:0,_speedUpEx:0,_isAim:!1,_aimCar:null,_aimCenter:0,_aimAngle:0,_aimDir:1,_aimTime:1,_aimCD:0,_aimed:!1,_isFreeze:!1,_gravityScale:0,_isWin:!1,_beatBy:null,_revivePoint:null,_jumpRate:1,_hp:1,_hpMax:1,_shield:0,_cure:!1,_savedBodyData:null},onLoad:function(){var t=this;this._frontOnEarth=!1,this._backOnEarth=!1,this._body=this.getComponent(cc.RigidBody),this.updateFireEff(),this.boomAnim.on("finished",function(){t.boomAnim.node.active=!1},this)},start:function(){},updateCarY:function(){this._speedUpCD>0||this._frontOnEarth||this._backOnEarth?this.carNode.y=-2:this.carNode.y=0},startRun:function(){this._isRun=!0,this.isUser&&cc.dlm.soundMgr.playSound("drive",!0)},run:function(){if(this._isRun&&!this._isFreeze){var t=this._targetSpeed;this._speedUpCD>0&&(t*=a.SPEED_UP_RATE+this._speedUpEx),this._body.linearVelocity.x<t&&this._body.applyForceToCenter(cc.v2(1e4,0))}},stopRun:function(){this._isRun=!1,this.isUser&&cc.dlm.soundMgr.stopLoopSound("drive")},isOnEarth:function(){this._frontOnEarth&&this._backOnEarth},jump:function(){if(this._isRun&&!this._isFreeze&&(this._jumpRotate=!0,!this._isJump)){var t=this._body.getWorldCenter();this._body.angularVelocity=0,this._body.applyLinearImpulse(cc.v2(0,5e3*this._jumpRate),t),this._isJump=!0,this._jumpRotateAngle=0,this.isUser&&cc.dlm.soundMgr.playSound("jump")}},runJump:function(t){if(this._isJump&&!this._isFreeze)if(this._jumpRotate){var e=270*t;this.node.angle+=e,this._jumpRotateAngle+=e}else{var i=90*t;this._jumpRotateAngle<i?(this.node.angle-=this._jumpRotateAngle,this._jumpRotateAngle=0):(this.node.angle-=i,this._jumpRotateAngle-=i)}},stopJumpRotate:function(){this._jumpRotate=!1},speedUp:function(){this._speedUpCD=a.SPEED_UP_TIME,this.updateFireEff(),this.isUser&&(cc.dlm.soundMgr.playSound("fire"),cc.systemEvent.emit(n.SPEED_LINE,!0),cc.systemEvent.emit(n.CAMERA_RATIO,a.SPEED_UP_CAMERA,a.SPEED_UP_CAMERA_TIME))},runSpeedUp:function(t){this._speedUpCD<=0||(this._speedUpCD-=t,this._speedUpCD<=0&&this.speedUpEnd())},speedUpEnd:function(){this._speedUpCD=0,this.speedUpEff.active=!1,this.updateFireEff(),this.isUser&&(cc.systemEvent.emit(n.SPEED_LINE,!1),cc.systemEvent.emit(n.CAMERA_RATIO,a.NORMAL_CAMERA,a.SPEED_UP_CAMERA_TIME2))},updateFireEff:function(){this._speedUpCD>0?this.fireEff.active=!0:this.fireEff.active=!1},runWheel:function(t){if(!this._isFreeze){var e=this._body.linearVelocity.x*t;this.frontWheel.angle-=e,this.backWheel.angle-=e}},death:function(){var t=this;this._isAlive&&(this._isAlive=!1,this.isUser?(cc.dlm.soundMgr.stopLoopSound("drive"),this.freeze(!0),this._isWin||(this._cure?this.scheduleOnce(function(){t._cure=!1,t.revive()},2):(0==c.data.mode?cc.systemEvent.emit(n.GAME_LOSE):cc.systemEvent.emit(n.GAME_WIN2),r.vibrateShort(),cc.log("\u81ea\u5df1\u6b7b\u4ea1")))):(this._targetSpeed*=.3,this._beatBy&&(cc.systemEvent.emit(n.GOLD_ANIM2,this),c.killAdd(),cc.systemEvent.emit(n.KILL_ADD,this))),cc.dlm.soundMgr.playSound("boom"),cc.log("\u654c\u4eba\u6b7b\u4ea1"),r.vibrateShort(),cc.systemEvent.emit(n.CAMERA_RATIO,a.NORMAL_CAMERA,.5),cc.systemEvent.emit(n.SHAKE,1),this.playBoomAnim(),this._shield>0&&(this._shield=0,cc.systemEvent.emit(n.SHIELD_CHANGED),cc.systemEvent.emit(n.SHIELD_END)))},hpReduce:function(t){this._isAlive&&(this._shield>0?this.shieldReduce():(this._hp--,cc.systemEvent.emit(n.HP_CHANGED,this)),this._hp<=0?(this._beatBy=t,this.death()):(t._isAim=!1,this.freeze(!1)))},hpRecover:function(t){this._isAlive&&(this._hp=Math.min(this._hp+t,this._hpMax),cc.systemEvent.emit(n.HP_CHANGED,this))},shieldAdd:function(t){var e=this._shield;this._shield=Math.min(this._shield+t,3),cc.systemEvent.emit(n.SHIELD_CHANGED),0==e&&this._shield>0&&cc.systemEvent.emit(n.SHIELD_START)},shieldReduce:function(){this._shield<=0||(this._shield--,this._shield<=0&&cc.systemEvent.emit(n.SHIELD_END),cc.systemEvent.emit(n.SHIELD_CHANGED))},revive:function(){this.node.active=!0,this._isAlive=!0,this.freeze(!1),this._hpMax=this._hp=s[this.carId].hp||1,cc.systemEvent.emit(n.HP_CHANGED),this.node.opacity=255,this._revivePoint&&(this.node.position=this._revivePoint,this._revivePoint=null),this.node.angle=0,this._body.linearVelocity=cc.v2(),this._body.angularVelocity=0,this.speedUpEnd(),this.startRun(),this.isUser&&this._beatBy&&(this._beatBy._isAlive=!1,this._beatBy=null)},playBoomAnim:function(){this.boomAnim.node.active=!0,this.boomAnim.play()},startAim:function(t){if(!(this._aimCD>0)){var e=cc.v2(this.node.x,this.node.y),i=cc.v2(t.node.x,t.node.y);if(this._aimCenter=o.atan2ByPoints(i,e),this._aimAngle=0,this._aimCar=t,this._isAim=!0,this._aimTime=a.AIM_TIME,this.isUser){var s=this._aimCenter-this.node.angle;cc.systemEvent.emit(n.GAME_RATE,a.AIM_GAME_RATE),this.aimLine.active=!0,this.aimLine.angle=s,this.aimBg.active=!0,this.aimBg.angle=s,t._aimed=!0,t._aimCD=0,t.startAim(this)}else{this._targetSpeed=.9*t._targetSpeed;var c=this._body.linearVelocity.x,r=this._body.linearVelocity.y;c=Math.max(c,t._body.linearVelocity.x),this._body.linearVelocity=cc.v2(c,r)}}},runAim:function(t){if(this._isAlive&&(cc.director._gameRate>0&&(t/=cc.director._gameRate),this._aimCD>0&&(this._aimCD-=t),this._isAim&&!this._isFreeze))if(this._aimTime-=t,this.isUser)this._aimAngle+=a.AIM_SPEED*t*this._aimDir,this._aimAngle>45?this._aimDir=-1:this._aimAngle<-45&&(this._aimDir=1),this.aimLine.angle=this._aimCenter+this._aimAngle-this.node.angle,this._aimTime<=0&&(this.aimEnd(),cc.systemEvent.emit(n.GAME_RATE,1));else if(this._aimTime<=0){var e=cc.v2(this.node.x,this.node.y),i=cc.v2(this._aimCar.node.x,this._aimCar.node.y);this._aimCenter=o.atan2ByPoints(i,e),this._aimCar.freeze(!0),this._aimCar.speedUpEnd(),this._targetSpeed=.9*this._aimCar._targetSpeed;var s=this._body.linearVelocity.x,c=this._body.linearVelocity.y;s=Math.max(s,this._aimCar._body.linearVelocity.x),this._body.linearVelocity=cc.v2(s,c),this.shoot(),this._aimed=!1}},freeze:function(t){if(this._isFreeze!==t){this._isFreeze=t,cc.log(t,this._body.active);var e=this._body;if(t){var i=e.linearVelocity;this._savedBodyData={gravityScale:e.gravityScale,linearVelocity:cc.v2(i.x,i.y),angularVelocity:e.angularVelocity},e.gravityScale=0,e.linearVelocity=cc.v2(),e.angularVelocity=0}else if(this._savedBodyData){var o=this._savedBodyData;e.gravityScale=o.gravityScale,e.linearVelocity=o.linearVelocity,e.angularVelocity=o.angularVelocity}}},aimEnd:function(){this._isAim=!1,this._aimCar=null,this._aimCD=a.AIM_CD,this.aimLine.active=!1,this.aimBg.active=!1},shoot:function(){if(cc.director._gameRate=.4,cc.systemEvent.emit(n.GAME_RATE1,.3),this.isUser){cc.systemEvent.emit(n.SHOOT,this);var t=this._aimCar;t&&(t._aimTime=.5),cc.dlm.soundMgr.playSound("shoot")}else cc.systemEvent.emit(n.SHOOT,this);this.aimEnd()},onBeginContact:function(t,e,i){var o=i.node.group;if("earth"==o){0==e.tag?this._frontOnEarth=!0:1==e.tag?this._backOnEarth=!0:2==e.tag&&this.death();var s=i.node.children;if(s.length>0)for(var a=0;a<s.length;a++)if("revive"===s[a].name){var r=s[a].convertToWorldSpaceAR(cc.v2());this._revivePoint=this.node.parent.convertToNodeSpaceAR(r);break}if(this._frontOnEarth&&this._backOnEarth){var l=(this.node.angle%360+360)%360;l>90&&l<270?this.death():this._isJump&&(this._isJump=!1,this.isUser&&(cc.dlm.soundMgr.playSound("land"),cc.systemEvent.emit(n.SHAKE,0)),this._jumpRotateAngle>=180&&this.speedUp(),this._jumpRotateAngle=0)}this._body.linearVelocity.y<0&&this.stopJumpRotate()}else"end"==o&&this.isUser&&!this._isWin&&(cc.log("game win"),this.stopRun(),this._body.linearDamping=2,this._isWin=!0,0==c.data.mode?cc.systemEvent.emit(n.GAME_WIN):cc.systemEvent.emit(n.GAME_WIN2))},onEndContact:function(t,e,i){"earth"==i.node.group&&(0==e.tag?this._frontOnEarth=!1:1==e.tag&&(this._backOnEarth=!1))},update:function(t){this.run(),this.runJump(t),this.runSpeedUp(t),this.runWheel(t),this.runAim(t)}}),cc._RF.pop()},{CarData:"CarData",EventConst:"EventConst",GameConfig:"GameConfig",GameData:"GameData",MathUtils:"MathUtils",VibrateUtils:"VibrateUtils"}],DailyBattle:[function(t,e,i){"use strict";cc._RF.push(e,"00ff9syvCJAJbhzTPv6kQYY","DailyBattle");var o=t("SaveData"),n=t("EventConst"),s=t("GameData");cc.Class({extends:cc.Component,properties:{lbYear:cc.Label,lbMonth:cc.Label,lbDays:cc.Label,btnOpen:cc.Button,chestOpen:cc.Node,chestClose:cc.Node,prefabItem:cc.Prefab,items:cc.Node,_curDay:0,_selectedDay:0,_count:0,_maxDay:0,_items:null,_inited:!1,_isOpen:!1,_videos:null},init:function(){if(!this._inited){this._videos=[];for(var t=0;t<31;t++){var e=cc.instantiate(this.prefabItem);e.getComponent("DailyItem").init(t+1),this.items.addChild(e),this._videos.push(!1)}this._items=this.items.getComponentsInChildren("DailyItem"),this._inited=!0}},show:function(){this.node.active=!0,this._isOpen=!1,this.init();var t=o.data;this._count=0,o.updateDailyMonth();var e=new Date,i=e.getDate();e.setMilliseconds(t.dailyTime);var n=e.getFullYear(),s=e.getMonth()+1;this.lbYear.string=n,this.lbMonth.string=s;var a=n%4==0&&n%100!=0||n%400==0;this._maxDay=31,2===s?this._maxDay=a?29:28:4!==s&&6!=s&&9!==s&&11!==s||(this._maxDay=30);for(var c=0;c<this._items.length;c++){var r=t.dailyData[c],l=this._items[c];l.node.active=c<this._maxDay,l.unselect(),l.setBg(r-1),l.setInteractable(c<i),l.setVideo(!r&&c<i-1&&!this._videos[c]),r>0&&this._count++}this._items[i-1].select(),this._selectedDay=this._curDay=i,this.updateChest()},updateChest:function(){var t=7*(o.data.dailyChest+1)-this._count;this.lbDays.string=Math.max(t,0),this.btnOpen.interactable=t<=0,this.btnOpen.node.opacity=t<=0?255:128,this.chestOpen.active=this._isOpen,this.chestClose.active=!this._isOpen},hide:function(){this.node.active=!1},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),cc.systemEvent.emit(n.YZ),this.hide(),cc.systemEvent.emit(n.MAIN_MENU)},onStartClicked:function(){cc.dlm.soundMgr.playSound("click"),s.data.dailyDay=this._selectedDay,s.setMode(1),cc.systemEvent.emit(n.CAR_TRY)},onOpenClicked:function(){cc.dlm.soundMgr.playSound("click"),o.data.dailyChest++,this._isOpen=!0,this.updateChest(),o.goldChange(500),o.data.chip3+=5,cc.dlm.showToast("\u83b7\u5f97\u7d2b\u8272\u788e\u7247x5\uff0c\u91d1\u5e01x500"),o.save()},onDailySelect:function(t){this._items[this._selectedDay-1].unselect(),this._items[t-1].select(),this._selectedDay=t,this._videos[t-1]=!0},onLoad:function(){cc.systemEvent.on(n.DAILY_SELECT,this.onDailySelect,this)},onDestroy:function(){cc.systemEvent.off(n.DAILY_SELECT,this.onDailySelect,this)},start:function(){}}),cc._RF.pop()},{EventConst:"EventConst",GameData:"GameData",SaveData:"SaveData"}],DailyEnergy:[function(t,e,i){"use strict";cc._RF.push(e,"473b1IxTnVMAq4GXq6uKhF5","DailyEnergy");var o=t("ShareUtils"),n=t("SaveData"),s=(t("EventConst"),t("AdUtils"));cc.Class({extends:cc.Component,properties:{dialog:cc.Node,isenergy:!1,btnVideo:cc.Node,btnShare:cc.Node},show:function(){this.node.active=!0,this.btnShare.active=cc.sys.platform===cc.sys.WECHAT_GAME&&!window.isTT,this.btnVideo.active=!this.btnShare.active,this.dialog.stopAllActions(),this.dialog.scale=0,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start()},hide:function(){var t=this;this.dialog.stopAllActions(),this.dialog.scale=1,s.hideBanner(),cc.tween(this.dialog).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1}).start()},onReciveClicked:function(){var t=this;cc.dlm.soundMgr.playSound("click"),o.share(0,!0),cc.dlm.shareTimeCall=function(e){e>=3&&cc.dlm.canShare(0)?(t.hide(),n.energyChange(5),n.updateEnergyDay(),n.save(),cc.dlm.showToast("\u6210\u529f\u83b7\u5f975\u70b9\u4f53\u529b")):cc.dlm.showToast("\u672a\u6b63\u786e\u5206\u4eab\u5230\u597d\u53cb"),cc.dlm.shareTimeCall=null}},onVideoClicked:function(){var t=this;cc.dlm.soundMgr.playSound("click"),s.showVideo(0,function(e){e?0==t.isenergy&&(t.hide(),n.energyChange(5),n.updateEnergyDay(),n.save(),cc.dlm.showToast("\u6210\u529f\u83b7\u5f975\u70b9\u4f53\u529b"),t.isenergy=!0):cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6")},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide()},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",EventConst:"EventConst",SaveData:"SaveData",ShareUtils:"ShareUtils"}],DailyGift:[function(t,e,i){"use strict";cc._RF.push(e,"851bc3QCLdACLG3eZOyaj2/","DailyGift");var o=t("ShareUtils"),n=t("SaveData"),s=(t("EventConst"),t("AdUtils"));cc.Class({extends:cc.Component,properties:{dialog:cc.Node,items:cc.Node,MainGuessNode:cc.Node,MainMoreGameBtnNode:cc.Node,lbNums:[cc.Label],isgold:!1},show:function(){this.node.active=!0,this.dialog.stopAllActions(),this.dialog.scale=0,this.lbNums[0].string="X 200";for(var t=this.items.children,e=1;e<t.length;e++)t[e].active=!1;var i=n.data.giftType+1;t[i].active=!0,this.lbNums[i].string="X "+n.data.giftNum,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start()},hide:function(){var t=this;s.hideBanner(),this.dialog.stopAllActions(),this.dialog.scale=1,cc.tween(this.dialog).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1,t.MainGuessNode.active=!0,t.MainMoreGameBtnNode.active=!0}).start()},onReciveClicked:function(){var t=this;cc.dlm.soundMgr.playSound("click"),o.share(0,!0),cc.dlm.shareTimeCall=function(e){if(e>=3)if(cc.dlm.canShare(0)){var i=n.data.giftType;switch(n.goldChange(200),i){case 0:n.data.chip1+=n.data.giftNum;break;case 1:n.data.chip2+=n.data.giftNum;break;case 2:n.data.chip3+=n.data.giftNum}n.data.giftGet=!0,n.save(),cc.dlm.showToast("\u606d\u559c\u83b7\u5f97\u6bcf\u65e5\u5956\u52b1"),t.hide()}else cc.dlm.showToast("\u672a\u6b63\u786e\u5206\u4eab\u5230\u597d\u53cb");else cc.dlm.showToast("\u672a\u6b63\u786e\u5206\u4eab\u5230\u597d\u53cb");cc.dlm.shareTimeCall=null}},onVideoClicked:function(){var t=this;cc.dlm.soundMgr.playSound("click"),s.showVideo(0,function(e){if(e){if(0==t.isgold){var i=n.data.giftType;switch(n.goldChange(200),i){case 0:n.data.chip1+=n.data.giftNum;break;case 1:n.data.chip2+=n.data.giftNum;break;case 2:n.data.chip3+=n.data.giftNum}n.data.giftGet=!0,n.save(),cc.dlm.showToast("\u606d\u559c\u83b7\u5f97\u6bcf\u65e5\u5956\u52b1"),t.hide(),t.isgold=!0}}else cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6")},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide()},start:function(){this.MainGuessNode.active=!1,this.MainMoreGameBtnNode.active=!1}}),cc._RF.pop()},{AdUtils:"AdUtils",EventConst:"EventConst",SaveData:"SaveData",ShareUtils:"ShareUtils"}],DailyItem:[function(t,e,i){"use strict";cc._RF.push(e,"4b467yNLTBMUqixVEAvU8Yt","DailyItem");var o=t("EventConst"),n=t("AdUtils"),s=t("BILog"),a=t("SaveData");cc.Class({extends:cc.Component,properties:{lbDay:cc.Label,selected:cc.Node,sprite:cc.Sprite,sfBgs:[cc.SpriteFrame],videoIcon:cc.Node,_day:0},init:function(t){this._day=t,this.lbDay.string=t,this.selected.active=!1},select:function(){this.selected.active=!0},unselect:function(){this.selected.active=!1},setBg:function(t){t<0?this.sprite.node.active=!1:(this.sprite.node.active=!0,this.sprite.spriteFrame=this.sfBgs[t])},setVideo:function(t){this.videoIcon.active=t},onClicked:function(){var t=this;cc.dlm.soundMgr.playSound("click"),this.videoIcon.active?(cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.adVideo(5,2)),n.showVideo(0,function(e){e?(a.videoAdd(),a.save(),t.videoIcon.active=!1,cc.systemEvent.emit(o.DAILY_SELECT,t._day),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&(s.adVideo(5,4),s.adVideo(5,5)))):(cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.adVideo(5,3)))},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.adVideo(5,6))})):cc.systemEvent.emit(o.DAILY_SELECT,this._day)},setInteractable:function(t){this.getComponent(cc.Button).interactable=t,this.lbDay.node.color=t?cc.Color.WHITE:cc.Color.GRAY,t||this.setVideo(!1)},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",BILog:"BILog",EventConst:"EventConst",SaveData:"SaveData"}],DailyMapData:[function(t,e,i){"use strict";cc._RF.push(e,"fb32eR+SyND+qF378W17Z4Z","DailyMapData"),e.exports=[{level:1,ids:[0],rnds:[],bgs:[0,2,1],fgs:[0]},{level:2,ids:[1],rnds:[],bgs:[3,5,4],fgs:[1]},{level:3,ids:[2],rnds:[],bgs:[6,8,7],fgs:[2]}],cc._RF.pop()},{}],EnergySupply:[function(t,e,i){"use strict";cc._RF.push(e,"1f1d3J29/5CmIixB1iwXUA9","EnergySupply");t("EventConst");var o=t("SaveData"),n=t("AdUtils"),s=t("BILog");cc.Class({extends:cc.Component,properties:{dialog:cc.Node},show:function(){this.node.active=!0,this.dialog.stopAllActions(),this.dialog.scale=0,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start()},hide:function(){var t=this;this.dialog.stopAllActions(),this.dialog.scale=1,cc.tween(this.dialog).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1}).start()},onReciveClicked:function(){var t=this;cc.dlm.soundMgr.playSound("click"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.adVideo(1,2)),n.showVideo(0,function(e){e?(t.hide(),o.energyChange(5),o.videoAdd(),o.save(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&(s.adVideo(1,4),s.adVideo(1,5)))):(cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.adVideo(1,3)))},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.adVideo(1,6))})},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide()},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",BILog:"BILog",EventConst:"EventConst",SaveData:"SaveData"}],EventConst:[function(t,e,i){"use strict";cc._RF.push(e,"fe75c5JZrhOYqKJiuZZS6wd","EventConst"),e.exports=cc.Enum({GAME_START:-1,GAME_RESTART:-1,TEST_START:-1,COUNT_DOWN:-1,USER_START:-1,GAME_WIN:-1,GAME_WIN2:-1,GAME_LOSE:-1,SHOOT:-1,GAME_RATE:-1,GAME_RATE1:-1,SHAKE:-1,REVIVE:-1,CAMERA_RATIO:-1,SPEED_LINE:-1,SHIELD_START:-1,SHIELD_END:-1,LEVEL_CHANGED:-1,SCORE_CHANGED:-1,GOLD_CHANGED:-1,INTEGRAL_CHANGED:-1,ENERGY_CHANGED:-1,CAR_CHANGED:-1,CAR_UNLOCK:-1,HP_CHANGED:-1,SHIELD_CHANGED:-1,RANK_CHANGED:-1,RANK_UP:-1,KILL_ADD:-1,VIDEO_ADD:-1,MAIN_MENU:-1,SETTING:-1,BLOCK_ON:-1,BLOCK_OFF:-1,CAR_GARAGE:-1,ENERGY_SUPPLY:-1,DAILY_ENERGY:-1,DAILY_GIFT:-1,GOLD_ANIM1:-1,GOLD_ANIM2:-1,DAILY_BATTLE:-1,DAILY_SELECT:-1,CAR_TRY:-1,TEACH:-1,YZ:-1,PAUSE:-1,CONTINUE:-1,YZbanner:-1,MORE_GAME:-1,FULL_SCREEN_ICON:-1}),cc._RF.pop()},{}],GameAssets:[function(t,e,i){"use strict";cc._RF.push(e,"ea46f4np7hIcqHqtGpa9fWH","GameAssets"),cc.Class({extends:cc.Component,properties:{sfCars:[cc.SpriteFrame],sfBullets:[cc.SpriteFrame],sfChips:[cc.SpriteFrame],sfItems:[cc.SpriteFrame]},onLoad:function(){cc.dlm.gameAssets=this},start:function(){}}),cc._RF.pop()},{}],GameConfig:[function(t,e,i){"use strict";cc._RF.push(e,"f2587vi9dtPuYZ5BqUI8H/m","GameConfig"),e.exports={START_CAMERA:1.4,START_CAMERA_TIME:2,AIM_GAME_RATE:.015,AIM_CAMERA:1.2,AIM_CAMERA_TIME:.0015,AIM_TIME:3,AIM_DISTANCE:250,AIM_SPEED:70,AIM_CD:.8,BULLET_POWER:3e3,SPEED_UP_RATE:1.4,SPEED_UP_TIME:3,NORMAL_CAMERA:1.05,SPEED_UP_CAMERA:.92,SPEED_UP_CAMERA_TIME:.5,SPEED_UP_CAMERA_TIME2:.5},cc._RF.pop()},{}],GameData:[function(t,e,i){"use strict";cc._RF.push(e,"001d72gbYJIcIpj4KIY2FdR","GameData");t("EventConst");i.data={mode:0,level:1,score:0,time:0,rank:1,kill:0,dailyDay:0,tryId:-1},i.setMode=function(t){this.data.mode=t},i.addScore=function(t){this.data.score+=t},i.setTryId=function(t){this.data.tryId=t},i.reset=function(){this.data.score=0,this.data.rank=1,this.data.time=0,this.data.kill=0},i.setRank=function(t){this.data.rank=t},i.timeDelta=function(t){this.data.time+=t},i.killAdd=function(){this.data.kill++},cc._RF.pop()},{EventConst:"EventConst"}],GameLose:[function(t,e,i){"use strict";cc._RF.push(e,"d97d4gOpgZLF6A0pSWgcASI","GameLose");var o=t("EventConst"),n=t("SaveData"),s=t("AdUtils"),a=t("BILog"),c=t("TTLogin");cc.Class({extends:cc.Component,properties:{dialog:cc.Node,_cb:null},show:function(){var t=this;cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&c.screencapPause(),this.node.active=!0,this.node.opacity=0,this._cb=null,this.dialog.stopAllActions(),this.dialog.scale=0,this.scheduleOnce(function(){t.node.opacity=255,cc.tween(t.dialog).to(.4,{scale:1},{easing:"backOut"}).start()},1)},hide:function(){var t=this;this.dialog.scale=1,cc.tween(this.dialog).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1,t._cb&&t._cb()}).start()},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide(),cc.systemEvent.emit(o.YZ),this._cb=function(){cc.systemEvent.emit(o.MAIN_MENU)}},onReviveClicked:function(){var t=this;cc.dlm.soundMgr.playSound("click"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&a.adVideo(2,2)),s.showVideo(0,function(e){e?(t.hide(),t._cb=function(){n.videoAdd(),n.save(),cc.systemEvent.emit(o.REVIVE)},cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&(a.adVideo(2,4),a.adVideo(2,5)))):(cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&a.adVideo(2,3)))},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&a.adVideo(2,6))}),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&a.action(108))},onRestartClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide(),cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&c.screencapStarat(),this._cb=function(){cc.systemEvent.emit(o.GAME_RESTART)}},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",BILog:"BILog",EventConst:"EventConst",SaveData:"SaveData",TTLogin:"TTLogin"}],GameUI:[function(t,e,i){"use strict";cc._RF.push(e,"11c9bc12utNoYKtARa4+aGq","GameUI");var o=t("EventConst"),n=t("SaveData"),s=t("GameData"),a=t("VibrateUtils"),c=new cc.NodePool("Gold"),r=t("TTLogin");cc.Class({extends:cc.Component,properties:{chaoran:cc.Node,speedLine:cc.ParticleSystem,levelInfo:cc.Node,lbLeft:cc.Label,lbCenter:cc.Label,lbRight:cc.Label,lbRank:cc.Label,lbKill:cc.Label,lbTime:cc.Label,pause:cc.Node,pauseMenu:cc.Node,countDown:cc.Node,countDownBg:cc.Node,spCountDown:cc.Sprite,sfCountDown:[cc.SpriteFrame],lbStart:cc.Node,touchStart:cc.Node,btnStart:cc.Button,teach1:cc.Node,teach2:cc.Node,goldEff:cc.Node,lbGold:cc.Label,prefabGold:cc.Prefab,smallMatrix:cc.Node,Gamebattle:cc.Node,Game_Lose:cc.Node,matrixBanner:cc.Node,_time:0},show:function(){this.node.active=!0,this.initLevel()},hide:function(){this.node.active=!1},onLoad:function(){var t=this;cc.systemEvent.on(o.SPEED_LINE,this.onSpeedLine,this),cc.systemEvent.on(o.COUNT_DOWN,this.onCountDown,this),cc.systemEvent.on(o.GOLD_ANIM1,this.onGoldAnim1,this),cc.systemEvent.on(o.GOLD_ANIM2,this.onGoldAnim2,this),cc.systemEvent.on(o.GOLD_CHANGED,this.onGoldChanged,this),cc.systemEvent.on(o.RANK_CHANGED,this.onRankChanged,this),cc.systemEvent.on(o.KILL_ADD,this.onKillAdd,this),cc.systemEvent.on(o.RANK_UP,this.onRankUp,this),cc.systemEvent.on(o.GAME_RESTART,this.initLevel,this),cc.systemEvent.on(o.TEACH,this.onTeach,this),this.onGoldChanged(),this.smallMatrix.opacity=0,this.scheduleOnce(function(){cc.log("456456456"),t.smallMatrix.active=!1,t.smallMatrix.opacity=255},1.5)},onDestroy:function(){cc.systemEvent.off(o.SPEED_LINE,this.onSpeedLine,this),cc.systemEvent.off(o.COUNT_DOWN,this.onCountDown,this),cc.systemEvent.off(o.GOLD_ANIM1,this.onGoldAnim1,this),cc.systemEvent.off(o.GOLD_ANIM2,this.onGoldAnim2,this),cc.systemEvent.off(o.GOLD_CHANGED,this.onGoldChanged,this),cc.systemEvent.off(o.RANK_CHANGED,this.onRankChanged,this),cc.systemEvent.off(o.KILL_ADD,this.onKillAdd,this),cc.systemEvent.off(o.RANK_UP,this.onRankUp,this),cc.systemEvent.off(o.GAME_RESTART,this.initLevel,this),cc.systemEvent.off(o.TEACH,this.onTeach,this),cc.systemEvent.on(o.TEACH,this.onTeach,this)},initGoldPool:function(){for(var t=0;t<20;t++)c.put(cc.instantiate(this.prefabGold))},getGoldFromPool:function(){var t=(c.get()||cc.instantiate(this.prefabGold)).getComponent("Gold");return t._pool=c,t},onGoldAnim1:function(t){if(t){cc.dlm.soundMgr.playSound("gold");var e=t.node.convertToWorldSpaceAR(cc.Vec2.ZERO),i=cc.dlm.camera.node.convertToWorldSpaceAR(cc.Vec2.ZERO),o=cc.visibleRect;e.x-=i.x-o.width/2,e.y-=i.y-o.height/2;var n=this.goldEff.convertToNodeSpaceAR(e),s=this.getGoldFromPool(),a=s.node;this.goldEff.addChild(a),a.position=n,a.group="default",s.playAnim(0,cc.Vec2.ZERO)}},onGoldAnim2:function(t){var e=this,i=t.node.convertToWorldSpaceAR(cc.Vec2.ZERO),o=cc.dlm.camera.node.convertToWorldSpaceAR(cc.Vec2.ZERO),n=cc.visibleRect;i.x-=o.x-n.width/2,i.y-=o.y-n.height/2;var s=this.goldEff.convertToNodeSpaceAR(i);this.schedule(function(){var t=e.getGoldFromPool(),i=t.node;e.goldEff.addChild(i),i.position=s,i.group="default",t._num=3,t.playAnim(30,cc.Vec2.ZERO),cc.dlm.soundMgr.playSound("gold")},1/60,9)},onCountDown:function(t){switch(t){case 3:this.countDown.active=!0,this.pause.active=!1,this.countDownBg.active=!0,this.btnStart.interactable=!1,this.lbStart.active=!1,this.touchStart.active=!1,cc.dlm.soundMgr.playSound("count_down"),this._time=0;case 2:case 1:this.spCountDown.spriteFrame=this.sfCountDown[t-1];var e=this.spCountDown.node;e.active=!0,e.stopAllActions(),e.scale=3,cc.tween(e).to(.3,{scale:1},{easing:"cubicOut"}).start();break;case 0:this.spCountDown.node.active=!1,this.btnStart.interactable=!0,this.lbStart.active=!0,this.touchStart.active=!0,0==s.data.mode?(this.lbKill.node.parent.active=!1,this.lbRank.node.parent.active=!0,this.lbRank.string=s.data.rank):(this.lbKill.node.parent.active=!0,this.lbRank.node.parent.active=!1,this.lbKill.string=s.data.kill)}},onStartClicked:function(){cc.dlm.soundMgr.playSound("click"),cc.systemEvent.emit(o.USER_START),this.countDown.active=!1,this.pause.active=!0,a.vibrateShort(),cc.dlm.soundMgr.playSound("start_engine")},onSpeedLine:function(t){t?(this.speedLine.resetSystem(),this.playChaoranAnim()):this.speedLine.stopSystem()},playChaoranAnim:function(){var t=this;this.chaoran.active=!0,this.chaoran.stopAllActions(),this.chaoran.scale=2,this.chaoran.opacity=255,cc.tween(this.chaoran).to(.1,{scale:1}).delay(1.5).to(.5,{opacity:0}).call(function(){t.chaoran.active=!1}).start()},onPauseClicked:function(){cc.dlm.soundMgr.playSound("click"),cc.systemEvent.emit(o.PAUSE),this.pauseMenu.active=!0,this.smallMatrix.active=!0,cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&r.screencapPause(),cc.director.pause()},onContinueClicked:function(){cc.director.resume(),cc.systemEvent.emit(o.CONTINUE),this.pauseMenu.active=!1,this.smallMatrix.active=!1,cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&r.screencapResume()},onBackClicked:function(){this.smallMatrix.active=!1,cc.director.resume(),this.pauseMenu.active=!1,0==s.data.mode?(cc.systemEvent.emit(o.MAIN_MENU),cc.systemEvent.emit(o.YZ)):cc.systemEvent.emit(o.DAILY_BATTLE),cc.dlm.soundMgr.stopAllSounds()},onGoldChanged:function(){this.lbGold.string=n.data.gold},initLevel:function(){this.levelInfo.active=0==s.data.mode,cc.dlm.ismode=0==s.data.mode,this.lbRank.node.parent.active=!1,this.lbKill.node.parent.active=!1;var t=n.data.level;this.lbLeft.node.parent.parent.active=t>1,this.lbLeft.string=t-1,this.lbCenter.string=t,cc.dlm.islevel=t,console.log("cc.dlm.islevel=",cc.dlm.islevel),cc.log("cc.dlm.ismode=",cc.dlm.ismode=0==s.data.mode),this.lbRight.string=t+1,cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&(0==cc.dlm.ismode?r.screencapStarat():cc.dlm.islevel>1&&r.screencapStarat()),this.lbRank.node.parent.active=!1,this.countDown.active=!1},start:function(){},updateTime:function(){var t=s.data.time,e=Math.floor(t/60),i=Math.floor(t)%60,o=Math.floor(100*t)%100,n=e+":";n+=i<10?"0"+i+".":i+".",n+=o<10?"0"+o:o,this.lbTime.string=n},onRankChanged:function(){this.lbRank.string=s.data.rank},onRankUp:function(){var t=this,e=this.lbRank.node;cc.tween(e).to(.05,{scale:1.3},{easing:"cubicOut"}).call(function(){return t.lbRank.string=s.data.rank}).to(.05,{scale:1},{easing:"cubicOut"}).start()},onKillAdd:function(){var t=this,e=this.lbKill.node;cc.tween(e).to(.05,{scale:1.3},{easing:"cubicOut"}).call(function(){return t.lbKill.string=s.data.kill}).to(.05,{scale:1},{easing:"cubicOut"}).start()},onTeach:function(t){switch(t){case 1:this.teach1.active=!0,cc.director.pause();break;case 2:this.teach2.active=!0,cc.director.pause()}},onTeach1Clicked:function(){this.teach1.active=!1,cc.director.resume()},onTeach2Clicked:function(){this.teach2.active=!1,cc.director.resume()},update:function(t){this.updateTime()},onhidebanner:function(){this.matrixBanner.active=!1},onhidebannertrue:function(){this.matrixBanner.active=!0}}),cc._RF.pop()},{EventConst:"EventConst",GameData:"GameData",SaveData:"SaveData",TTLogin:"TTLogin",VibrateUtils:"VibrateUtils"}],GameWin2_3:[function(t,e,i){"use strict";cc._RF.push(e,"7a7eaNeZJtHlbVBht7tj4/N","GameWin2_3");var o=t("EventConst"),n=t("SaveData"),s=t("GameData"),a=t("AdUtils"),c=(t("BILog"),t("TTLogin"));cc.Class({extends:cc.Component,properties:{dialog:cc.Node,btnDouble:cc.Button,btnDouble_3:cc.Button,lbGold:cc.Label,chips:cc.Node,lbChips:[cc.Label],restartBtn:cc.Node,backBtn:cc.Node,_gold:0,_chip1:0,_chip2:0,_chip3:0,_rank:0},show:function(){this.node.active=!0,this._gold=0,this._chip1=this._chip2=this._chip3=0,this._rank=0,1===s.data.rank||s.data.kill>=40?(this._gold=300,this._chip3=Math.floor(2*Math.random())+2,this._chip2=Math.floor(2*Math.random())+4,this._rank=3):s.data.kill>=20?(this._gold=200,this._chip2=Math.floor(2*Math.random())+1,this._chip1=Math.floor(2*Math.random())+3,this._rank=2):s.data.kill>=10?(this._gold=100,this._chip1=Math.floor(2*Math.random())+1,this._rank=1):s.data.kill>0&&(this._gold=100),this.btnDouble.interactable=!0,this.btnDouble_3.interactable=!0,this.btnDouble.node.active=this._rank>0;for(var t=this.chips.children,e=1;e<t.length;e++)t[e].active=!1;n.goldChange(this._gold),this.lbGold.string="X "+this._gold,this._chip1>0&&(this.lbChips[0].string="X "+this._chip1,t[1].active=!0),this._chip2>0&&(this.lbChips[1].string="X "+this._chip2,t[2].active=!0),this._chip3>0&&(this.lbChips[2].string="X "+this._chip3,t[3].active=!0),this.restartBtn.active=this._rank<3,this.backBtn.active=3==this._rank,this.dialog.stopAllActions(),this.dialog.scale=0,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start(),cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&c.screencapStop()},hide:function(){this.node.active=!1},onRestartClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide(),cc.systemEvent.emit(o.GAME_RESTART)},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide(),this.awardGet(),n.updateDailyData(s.data.dailyDay,this._rank),n.save(),cc.systemEvent.emit(o.DAILY_BATTLE)},awardGet:function(t){this._gold>0&&n.goldChange(this._gold*t),this._chip1>0&&(n.data.chip1+=this._chip1*t),this._chip2>0&&(n.data.chip2+=this._chip2*t),this._chip3>0&&(n.data.chip3+=this._chip3*t)},onDoubleClicked:function(){var t=this;a.showVideo(0,function(e){e?(t.btnDouble.interactable=!1,t.btnDouble_3.interactable=!1,t.lbGold.string="X "+2*t._gold,t.lbChips[0].string="X "+2*t._chip1,t.lbChips[1].string="X "+2*t._chip2,t.lbChips[2].string="X "+2*t._chip3,t.awardGet(2),n.videoAdd(),n.save(),cc.dlm.showToast("\u83b7\u5f97\u53cc\u500d\u5956\u52b1")):cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6")},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})},onScreencap:function(){var t=this;c.shareLp(function(){t.btnDouble_3.interactable=!1,t.btnDouble.interactable=!1,t.lbGold.string="X "+3*t._gold,t.lbChips[0].string="X "+3*t._chip1,t.lbChips[1].string="X "+3*t._chip2,t.lbChips[2].string="X "+3*t._chip3,cc.dlm.showToast("\u83b7\u5f97\u4e09\u500d\u5956\u52b1"),t.awardGet(3),n.videoAdd(),n.save()},function(){cc.dlm.showToast("\u89c6\u9891\u5206\u4eab\u5931\u8d25")})},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",BILog:"BILog",EventConst:"EventConst",GameData:"GameData",SaveData:"SaveData",TTLogin:"TTLogin"}],GameWin2:[function(t,e,i){"use strict";cc._RF.push(e,"271fezRHVlKGo7G2KIoVRT2","GameWin2");var o=t("EventConst"),n=t("SaveData"),s=t("GameData"),a=t("AdUtils"),c=t("BILog"),r=t("TTLogin");cc.Class({extends:cc.Component,properties:{dialog:cc.Node,btnDouble:cc.Button,lbGold:cc.Label,chips:cc.Node,lbChips:[cc.Label],restartBtn:cc.Node,backBtn:cc.Node,_gold:0,_chip1:0,_chip2:0,_chip3:0,_rank:0},show:function(){this.node.active=!0,this._gold=0,this._chip1=this._chip2=this._chip3=0,this._rank=0,1===s.data.rank||s.data.kill>=40?(this._gold=300,this._chip3=Math.floor(2*Math.random())+2,this._chip2=Math.floor(2*Math.random())+4,this._rank=3):s.data.kill>=20?(this._gold=200,this._chip2=Math.floor(2*Math.random())+1,this._chip1=Math.floor(2*Math.random())+3,this._rank=2):s.data.kill>=10?(this._gold=100,this._chip1=Math.floor(2*Math.random())+1,this._rank=1):s.data.kill>0&&(this._gold=100),this.btnDouble.interactable=!0,this.btnDouble.node.active=this._rank>0;for(var t=this.chips.children,e=1;e<t.length;e++)t[e].active=!1;n.goldChange(this._gold),this.lbGold.string="X "+this._gold,this._chip1>0&&(this.lbChips[0].string="X "+this._chip1,t[1].active=!0),this._chip2>0&&(this.lbChips[1].string="X "+this._chip2,t[2].active=!0),this._chip3>0&&(this.lbChips[2].string="X "+this._chip3,t[3].active=!0),this.restartBtn.active=this._rank<3,this.backBtn.active=3==this._rank,this.dialog.stopAllActions(),this.dialog.scale=0,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start(),cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&r.screencapStop()},hide:function(){this.node.active=!1},onRestartClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide(),cc.systemEvent.emit(o.GAME_RESTART)},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide(),this.awardGet(),n.updateDailyData(s.data.dailyDay,this._rank),n.save(),cc.systemEvent.emit(o.DAILY_BATTLE)},awardGet:function(t){this._gold>0&&n.goldChange(this._gold*t),this._chip1>0&&(n.data.chip1+=this._chip1*t),this._chip2>0&&(n.data.chip2+=this._chip2*t),this._chip3>0&&(n.data.chip3+=this._chip3*t)},onDoubleClicked:function(){var t=this;cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(3,2)),a.showVideo(0,function(e){e?(t.btnDouble.interactable=!1,t.lbGold.string="X "+2*t._gold,t.lbChips[0].string="X "+2*t._chip1,t.lbChips[1].string="X "+2*t._chip2,t.lbChips[2].string="X "+2*t._chip3,t.awardGet(2),n.videoAdd(),n.save(),cc.dlm.showToast("\u83b7\u5f97\u53cc\u500d\u5956\u52b1"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&(c.adVideo(3,4),c.adVideo(3,5)))):(cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(3,3)))},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.adVideo(3,6))})},onScreencap:function(){var t=this;r.shareLp(function(){t.btnDouble.interactable=!1,t.lbGold.string="X "+2*t._gold,t.lbChips[0].string="X "+2*t._chip1,t.lbChips[1].string="X "+2*t._chip2,t.lbChips[2].string="X "+2*t._chip3,cc.dlm.showToast("\u83b7\u5f97\u4e09\u500d\u5956\u52b1"),t.awardGet(3),n.videoAdd(),n.save()},function(){cc.dlm.showToast("\u89c6\u9891\u5206\u4eab\u5931\u8d25")})},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",BILog:"BILog",EventConst:"EventConst",GameData:"GameData",SaveData:"SaveData",TTLogin:"TTLogin"}],GameWin_3:[function(t,e,i){"use strict";cc._RF.push(e,"02a53PmGR1DMIyLQXEKtgm/","GameWin_3");var o=t("EventConst"),n=t("SaveData"),s=t("AdUtils"),a=t("TTLogin");cc.Class({extends:cc.Component,properties:{dialog:cc.Node,btnDouble:cc.Button,NextBtn:cc.Node,btnDouble_3:cc.Button,lbGold:cc.Label,chips:cc.Node,lbChips:[cc.Label],_gold:0,_chip1:0,_chip2:0,_chip3:0,_timedt:0},show:function(){this.node.active=!0,this._gold=0,this._chip1=this._chip2=this._chip3=0,this.btnDouble.interactable=!0,this.btnDouble_3.interactable=!0;var t=n.data.level;this._gold=30+5*(t-1),t>=10&&t<=25&&(this._chip1=2),t>=16&&t<=30&&(this._chip2=2),t>=26&&t<=30&&(this._chip3=t-25);for(var e=this.chips.children,i=1;i<e.length;i++)e[i].active=!1;n.goldChange(this._gold),this.lbGold.string="X "+this._gold,this._chip1>0&&(n.data.chip1+=this._chip1,this.lbChips[0].string="X "+this._chip1,e[1].active=!0),this._chip2>0&&(n.data.chip2+=this._chip2,this.lbChips[1].string="X "+this._chip2,e[2].active=!0),this._chip3>0&&(n.data.chip3+=this._chip3,this.lbChips[2].string="X "+this._chip3,e[3].active=!0),n.save(),this.dialog.stopAllActions(),this.dialog.scale=0,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start(),cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&a.screencapStop()},hide:function(){this.node.active=!1,1==this.NextBtn.active&&(this.NextBtn.active=!1)},onNextClicked:function(){cc.dlm.soundMgr.playSound("click"),n.data.energy>0?(n.energyChange(-1),this.hide(),n.levelUp(),n.save(),cc.systemEvent.emit(o.GAME_START)):cc.systemEvent.emit(o.ENERGY_SUPPLY)},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide(),n.levelUp(),n.save(),cc.systemEvent.emit(o.MAIN_MENU)},onDoubleClicked:function(){var t=this;s.showVideo(0,function(e){e?(t.btnDouble_3.interactable=!1,t.btnDouble.interactable=!1,t._gold>0&&(t.lbGold.string="X "+2*t._gold),t._chip1>0&&(n.data.chip1+=2*t._gold,t.lbChips[0].string="X "+2*t._chip1),t._chip2>0&&(n.data.chip2+=2*t._chip2,t.lbChips[1].string="X "+2*t._chip2),t._chip3>0&&(n.data.chip3+=2*t._chip3,t.lbChips[2].string="X "+2*t._chip3),n.goldChange(2*t._gold),n.videoAdd(),n.save(),cc.dlm.showToast("\u83b7\u5f97\u53cc\u500d\u5956\u52b1")):cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6")},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})},onScreencap:function(){var t=this;a.shareLp(function(){t.btnDouble_3.interactable=!1,t.btnDouble.interactable=!1,t._gold>0&&(t.lbGold.string="X "+3*t._gold),t._chip1>0&&(n.data.chip1+=3*t._chip1,t.lbChips[0].string="X "+3*t._chip1),t._chip2>0&&(n.data.chip2+=3*t._chip2,t.lbChips[1].string="X "+3*t._chip2),t._chip3>0&&(n.data.chip3+=3*t._chip3,t.lbChips[2].string="X "+3*t._chip3),n.goldChange(3*t._gold),n.videoAdd(),n.save(),cc.dlm.showToast("\u83b7\u5f97\u4e09\u500d\u5956\u52b1")},function(){cc.dlm.showToast("\u89c6\u9891\u5206\u4eab\u5931\u8d25")})},start:function(){},update:function(t){1==this.node.active&&(this._timedt+=1*t,this._timedt>=3&&(this.NextBtn.active=!0))}}),cc._RF.pop()},{AdUtils:"AdUtils",EventConst:"EventConst",SaveData:"SaveData",TTLogin:"TTLogin"}],GameWin:[function(t,e,i){"use strict";cc._RF.push(e,"b6a12yPVHFLXpraAeBS9yB1","GameWin");var o=t("EventConst"),n=t("SaveData"),s=t("AdUtils"),a=t("BILog"),c=t("TTLogin");cc.Class({extends:cc.Component,properties:{dialog:cc.Node,btnDouble:cc.Button,NextBtn:cc.Node,lbGold:cc.Label,chips:cc.Node,lbChips:[cc.Label],_gold:0,_chip1:0,_chip2:0,_chip3:0,_timedt:0},show:function(){this.node.active=!0,this._gold=0,this._chip1=this._chip2=this._chip3=0,this.btnDouble.interactable=!0;var t=n.data.level;this._gold=30+5*(t-1),t>=10&&t<=25&&(this._chip1=2),t>=16&&t<=30&&(this._chip2=2),t>=26&&t<=30&&(this._chip3=t-25);for(var e=this.chips.children,i=1;i<e.length;i++)e[i].active=!1;n.goldChange(this._gold),this.lbGold.string="X "+this._gold,this._chip1>0&&(n.data.chip1+=this._chip1,this.lbChips[0].string="X "+this._chip1,e[1].active=!0),this._chip2>0&&(n.data.chip2+=this._chip2,this.lbChips[1].string="X "+this._chip2,e[2].active=!0),this._chip3>0&&(n.data.chip3+=this._chip3,this.lbChips[2].string="X "+this._chip3,e[3].active=!0),n.save(),this.dialog.stopAllActions(),this.dialog.scale=0,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start(),cc.sys.platform===cc.sys.WECHAT_GAME&&window.isTT&&c.screencapStop()},hide:function(){this.node.active=!1,1==this.NextBtn.active&&(this.NextBtn.active=!1)},onNextClicked:function(){cc.dlm.soundMgr.playSound("click"),n.data.energy>0?(n.energyChange(-1),this.hide(),n.levelUp(),n.save(),cc.systemEvent.emit(o.GAME_START)):cc.systemEvent.emit(o.ENERGY_SUPPLY),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&a.action(109))},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide(),n.levelUp(),n.save(),cc.systemEvent.emit(o.MAIN_MENU)},onDoubleClicked:function(){var t=this;cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&a.adVideo(3,2)),s.showVideo(0,function(e){e?(t.btnDouble.interactable=!1,t._gold>0&&(t.lbGold.string="X "+2*t._gold),t._chip1>0&&(n.data.chip1+=2*t._gold,t.lbChips[0].string="X "+2*t._chip1),t._chip2>0&&(n.data.chip2+=2*t._chip2,t.lbChips[1].string="X "+2*t._chip2),t._chip3>0&&(n.data.chip3+=2*t._chip3,t.lbChips[2].string="X "+2*t._chip3),n.goldChange(2*t._gold),n.videoAdd(),n.save(),cc.dlm.showToast("\u83b7\u5f97\u53cc\u500d\u5956\u52b1"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&(a.adVideo(3,4),a.adVideo(3,5)))):(cc.dlm.showToast("\u89c2\u770b\u5b8c\u6210\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&a.adVideo(3,3)))},function(){cc.dlm.showToast("\u64ad\u653e\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&a.adVideo(3,6))})},onScreencap:function(){var t=this;c.shareLp(function(){t.btnDouble.interactable=!1,t._gold>0&&(n.goldChange(3*t._gold),t.lbGold.string="X "+3*t._gold),t._chip1>0&&(n.data.chip1+=3*t._chip1,t.lbChips[0].string="X "+3*t._chip1),t._chip2>0&&(n.data.chip2+=3*t._chip2,t.lbChips[1].string="X "+3*t._chip2),t._chip3>0&&(n.data.chip3+=3*t._chip3,t.lbChips[2].string="X "+3*t._chip3),n.videoAdd(),n.save(),cc.dlm.showToast("\u83b7\u5f97\u4e09\u500d\u5956\u52b1")},function(){cc.dlm.showToast("\u89c6\u9891\u5206\u4eab\u5931\u8d25")})},start:function(){},update:function(t){1==this.node.active&&(this._timedt+=1*t,this._timedt>=3&&(this.NextBtn.active=!0))}}),cc._RF.pop()},{AdUtils:"AdUtils",BILog:"BILog",EventConst:"EventConst",SaveData:"SaveData",TTLogin:"TTLogin"}],Game:[function(t,e,i){"use strict";cc._RF.push(e,"5b8b0ZnWwRBhaePV3m7Lab6","Game");var o=t("Car"),n=t("CarData"),s=t("GameData"),a=t("BgManager"),c=t("MapManager"),r=t("BulletManager"),l=t("UserUIManager"),h=t("EventConst"),d=t("SaveData"),u=t("MapData"),p=t("DailyMapData"),f=t("GameConfig"),m=t("ItemType"),g=t("camera-control");cc.Class({extends:cc.Component,properties:{level:1,bgMgr:a,mapMgr:c,fgMgr:a,cars:cc.Node,BulletMgr:r,userUIMgr:l,prefabCars:[cc.Prefab],user:o,cameraControl:g,touchpad:cc.Node,_isGaming:!0,_gameRate1:!1,_gameRateCD:0,_startCars:[],_enemys:[],_countDown:3,_teach1:!0,_teach2:!0},onLoad:function(){this.touchpad.on("touchstart",this.onTouchStart,this),this.touchpad.on("touchend",this.onTouchEnd,this),cc.systemEvent.on(h.GAME_START,this.onGameStart,this),cc.systemEvent.on(h.GAME_RESTART,this.initGame,this),cc.systemEvent.on(h.TEST_START,this.onTestStart,this),cc.systemEvent.on(h.GAME_RATE,this.onGameRate,this),cc.systemEvent.on(h.GAME_RATE1,this.onGameRate1,this),cc.systemEvent.on(h.MAIN_MENU,this.hide,this),cc.systemEvent.on(h.DAILY_BATTLE,this.hide,this),cc.systemEvent.on(h.REVIVE,this.onRevive,this),cc.systemEvent.on(h.USER_START,this.onUserStart,this),cc.systemEvent.on(h.GAME_WIN,this.onGameWin,this),cc.systemEvent.on(h.GAME_WIN2,this.onGameWin2,this)},hide:function(){this.bgMgr.node.active=!1,this.fgMgr.node.active=!1,this.mapMgr.node.active=!1,this.cars.active=!1,this.BulletMgr.node.active=!1},show:function(){this.bgMgr.node.active=!0,this.fgMgr.node.active=!0,this.mapMgr.node.active=!0,this.cars.active=!0,this.BulletMgr.node.active=!0},onTouchStart:function(t){this.user._isAim?this.user.shoot():this.user.jump()},onTouchEnd:function(t){this.user.stopJumpRotate()},onDestroy:function(){this.touchpad.off("touchstart",this.onTouchStart,this),this.touchpad.off("touchend",this.onTouchEnd,this),cc.systemEvent.off(h.GAME_START,this.onGameStart,this),cc.systemEvent.off(h.GAME_RESTART,this.initGame,this),cc.systemEvent.off(h.TEST_START,this.onTestStart,this),cc.systemEvent.off(h.GAME_RATE,this.onGameRate,this),cc.systemEvent.off(h.GAME_RATE1,this.onGameRate1,this),cc.systemEvent.off(h.MAIN_MENU,this.hide,this),cc.systemEvent.off(h.DAILY_BATTLE,this.hide,this),cc.systemEvent.off(h.REVIVE,this.onRevive,this),cc.systemEvent.off(h.USER_START,this.onUserStart,this),cc.systemEvent.off(h.GAME_WIN,this.onGameWin,this),cc.systemEvent.off(h.GAME_WIN2,this.onGameWin2,this)},initLevel:function(){var t=s.data.mode,e=s.data.level;cc.log("level === "+e);var i=null;i=0==t?u[e]:p[e],(0!=t||d.data.level>1)&&(this._teach1=!1,this._teach2=!1),this.mapMgr.initLevel(t,i),this.bgMgr.initLevel(i),this.fgMgr.initLevel(i),this._isGaming=!1},onGameWin:function(){this._isGaming=!1},onGameWin2:function(){cc.director._gameRate=1,this._isGaming=!1},onGameLose:function(){cc.director._gameRate=1,this._isGaming=!1},onSpeedLine:function(t){},onRevive:function(){this._isGaming=!0,this.user.revive()},onGameRate:function(t){cc.director._gameRate=t,this._gameRate1=!1},onGameRate1:function(t){this._gameRateCD=t||0,this._gameRate1=!0},initCars:function(t){this._startCars=[],this._enemys=[],this.cars.removeAllChildren();for(var e=0;e<2;e++){var i=Math.floor(Math.random()*this.prefabCars.length),a=cc.instantiate(this.prefabCars[i]);this.cars.addChild(a),a.x=600+200*(e+1),a.y=320;var c=a.getComponent(o);this._startCars.push(c),c.isUser=!1,c._targetSpeed=1200+Math.floor(400*Math.random())}if(t)for(var r=0;r<t.length;r++){var l=Math.floor(Math.random()*this.prefabCars.length),h=cc.instantiate(this.prefabCars[l]);this.cars.addChild(h),h.x=t[r].x,h.y=t[r].y;var u=h.getComponent(o);u.isUser=!1,this._enemys.push(u),h.active=!1}var p=s.data.tryId,f=p<0?d.data.curCar:p,g=p<0?d.data.carSpeedLv[f]:9,v=p<0?d.data.carJumpLv[f]:9,y=n[f],_=cc.instantiate(this.prefabCars[f]),C=_.getComponent(o);this.user=C,_.position=cc.v2(600,320),this.cars.addChild(_),C._targetSpeed=1e3*(y.baseSpeed+g*y.speedPerLv)/100,C._jumpRate=(y.baseJump+v*y.jumpPerLv)/100,C._hpMax=C._hp=y.hp||1,C._speedUpEx=0,console.log("user speed: "+C._targetSpeed),console.log("user jump: "+100*C._jumpRate),this.cameraControl.target=_,C.isUser=!0,this.userUIMgr.clear(),this.userUIMgr.create().init(C);for(var A=y.skills,I=0;I<A.length;I++)switch(A[I]){case m.CURE:C._cure=!0;break;case m.SHIELD1:C.shieldAdd(1);break;case m.SHIELD2:C.shieldAdd(2);break;case m.SHIELD3:C.shieldAdd(3);break;case m.SPEED1:C._speedUpEx+=.2;break;case m.SPEED2:C._speedUpEx+=.35;break;case m.SPEED3:C._speedUpEx+=.5}},checkCars:function(){if(this.user&&this.user._isAlive&&!this.user._isWin){for(var t=this._enemys.length+1,e=!1,i=0;i<this._enemys.length;i++){var o=this._enemys[i];if(o._isAlive)if(o.node.x<this.user.node.x&&t--,o.node.active){if(!(e||this.user._isAim||o._aimed)){var n=o.node.x-this.user.node.x,a=o.node.y-this.user.node.y,c=f.AIM_DISTANCE;n>0&&n*n+a*a<c*c&&a>=-200&&(this._teach2&&(cc.systemEvent.emit(h.TEACH,2),this._teach2=!1),this.user.startAim(o),cc.systemEvent.emit(h.CAMERA_RATIO,f.AIM_CAMERA,f.AIM_CAMERA_TIME),e=!0)}}else o.node.x<=this.user.node.x+2*cc.visibleRect.width/3+100&&(o.node.active=!0,o._targetSpeed=800,o.startRun());else t--}var r=s.data.rank;t!=r&&(s.setRank(t),t<r?cc.systemEvent.emit(h.RANK_UP):cc.systemEvent.emit(h.RANK_CHANGED))}},start:function(){this.hide()},update:function(t){this.runGameRate1(t),this._isGaming&&s.timeDelta(t)},runGameRate1:function(t){if(this._gameRate1){var e=cc.director._gameRate;e>0?t/=e:t=0,this._gameRateCD-=t,this._gameRateCD<=0&&(this._gameRate1=!1,cc.director._gameRate=1)}},onTestStart:function(){s.setMode(0),s.data.level=this.level-1,this.initGame()},onGameStart:function(){0==s.data.mode?s.data.level=(d.data.level-1)%u.length:s.data.level=Math.floor(Math.random()*p.length),this.initGame()},initGame:function(){cc.director._gameRate=1,this.show(),this.initLevel(),this.initCars(this.mapMgr._cars),s.reset(),this._countDown=3,this.unschedule(this.countDownSchedule,this),this.unschedule(this.teach1,this),this.schedule(this.countDownSchedule,.8,3),cc.systemEvent.emit(h.SPEED_LINE,!1),cc.systemEvent.emit(h.CAMERA_RATIO,f.START_CAMERA,0),cc.systemEvent.emit(h.CAMERA_RATIO,f.NORMAL_CAMERA,f.START_CAMERA_TIME)},countDownSchedule:function(){var t=this;if(0==this._countDown){for(var e=function(e){var i=t._startCars[e];i.startRun(),i.scheduleOnce(function(){i.node.destroy()},3)},i=0;i<this._startCars.length;i++)e(i);this._isGaming=!0,s.setRank(this._enemys.length+1)}cc.systemEvent.emit(h.COUNT_DOWN,this._countDown),this._countDown--},onUserStart:function(){this.user.startRun(),this._teach1&&this.scheduleOnce(this.teach1,2)},teach1:function(){cc.systemEvent.emit(h.TEACH,1),this._teach1=!1},updateBgFg:function(){if(this.user){var t=cc.visibleRect,e=this.user.node.x-t.width/3,i=this.user.node.y-2*t.height/5;this.bgMgr.updatePos(e,i),this.fgMgr.updatePos(e,i)}},lateUpdate:function(t){this.checkCars(),this.updateBgFg()}}),cc._RF.pop()},{BgManager:"BgManager",BulletManager:"BulletManager",Car:"Car",CarData:"CarData",DailyMapData:"DailyMapData",EventConst:"EventConst",GameConfig:"GameConfig",GameData:"GameData",ItemType:"ItemType",MapData:"MapData",MapManager:"MapManager",SaveData:"SaveData",UserUIManager:"UserUIManager","camera-control":"camera-control"}],Gold:[function(t,e,i){"use strict";cc._RF.push(e,"30ce4L2xOhIronV4ML7c333","Gold");var o=t("MathUtils"),n=t("SaveData"),s=t("EventConst");cc.Class({extends:cc.Component,properties:{_hited:!1,_pool:null,_num:1},reuse:function(){this._hited=!1,this.node.stopAllActions()},playAnim:function(t,e){var i=this;if(t>0){var s=360*Math.random(),a=this.node.x+t*o.cos(s),c=this.node.y+t*o.sin(s);this.node.position=cc.v2(a,c)}cc.tween(this.node).to(.3,{position:e},{easing:"quadOut"}).call(function(){n.goldChange(i._num),i._pool?i._pool.put(i.node):i.node.destroy()}).start()},onBeginContact:function(t,e,i){if(!this._hited){var o=i.getComponent("Car");o&&o.isUser&&(this._hited=!0,cc.systemEvent.emit(s.GOLD_ANIM1,this),this.node.active=!1)}},start:function(){}}),cc._RF.pop()},{EventConst:"EventConst",MathUtils:"MathUtils",SaveData:"SaveData"}],HttpUtils:[function(t,e,i){"use strict";cc._RF.push(e,"aa70ff4w1hEmpDsr1rgzOAc","HttpUtils"),i.requestGet=function(t,e,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<400){var t=o.responseText;e&&e(t)}else i&&i()},o.open("GET",t,!0),o.send()},i.requestPost=function(t,e,i,o){i=i||function(){},o=o||function(){};var n=JSON.stringify(e),s=cc.loader.getXMLHttpRequest();s.timeout=6e4;var a=!1,c=t;console.log("RequestURL:"+c),s.open("POST",c,!0),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),cc.sys.isNative&&s.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),s.onreadystatechange=function(){if(cc.log(" xhr.onreadystatechange"),cc.log("state:"+s.readyState+" status:"+s.status),4===s.readyState&&s.status>=200&&s.status<300){var t;cc.log("http res("+s.responseText.length+"):"+s.responseText);try{t=JSON.parse(s.responseText),i(t)}catch(e){cc.error("err:"+e),t=null,o()}}else 4!==s.readyState||a||(a=!0,cc.error("\u7f51\u7edc\u5f02\u5e38"),o()),cc.log("state:"+s.readyState+" status:"+s.status)},s.onerror=function(){cc.log(" xhr.onerror"),a||(a=!0,cc.error("\u7f51\u7edc\u5f02\u5e38"),o())},s.send(n)},cc._RF.pop()},{}],Integral:[function(t,e,i){"use strict";cc._RF.push(e,"12b3fUSmD1GoIfDd6Qo/SSq","Integral");var o=t("SaveData");cc.Class({extends:cc.Component,properties:{integralLabel:cc.Label,dialog:cc.Node},start:function(){},show:function(){this.dialog.stopAllActions(),this.dialog.scale=0,cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start()},onbackclickd:function(){var t=this;cc.dlm.soundMgr.playSound("click"),this.dialog.stopAllActions(),this.dialog.scale=1,cc.tween(this.dialog).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1}).start()},onexchangeclickd:function(){cc.dlm.soundMgr.playSound("click"),o.data.gold>=3e3||cc.dlm.showToast("\u91d1\u5e01\u6570\u91cf\u4e0d\u8db3"),this.onSoket()},onShoppingclickd:function(){cc.dlm.showToast("\u5546\u57ce\u5c1a\u672a\u5f00\u542f")},onSoket:function(){console.log("\u70b9\u51fb\u83b7\u53d6");var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<400){var e=t.responseText;console.log("http data\u8fd4\u56de\uff1a"+e);var i=JSON.parse(e);console.log("resData"+i.code)}},t.open("GET","https://dopen.weimob.com/fuwu/b/oauth2/authorize?enter=wm&view=pc&response_type=code&scope=default&client_id=04FDFD7F122B6265F328D0650A32EACB&redirect_uri=http://yun.weimob.com&state={state}",!0),t.send()}}),cc._RF.pop()},{SaveData:"SaveData"}],ItemType:[function(t,e,i){"use strict";cc._RF.push(e,"cb974ax/MBPdaq69u4pDc5h","ItemType"),e.exports=cc.Enum({CURE:-1,SHIELD1:-1,SHIELD2:-1,SHIELD3:-1,SPEED1:-1,SPEED2:-1,SPEED3:-1}),cc._RF.pop()},{}],Item:[function(t,e,i){"use strict";cc._RF.push(e,"3fac2Pw+YVM04XneVTwzLqC","Item");var o=t("ItemType");cc.Class({extends:cc.Component,properties:{itemType:{type:o,default:o.SHIELD1}},updateSprite:function(){this.getComponent(cc.Sprite).spriteFrame=cc.dlm.gameAssets.sfItems[this.itemType]},onBeginContact:function(t,e,i){var n=i.getComponent("Car");if(n&&n.isUser)switch(this.node.active=!1,this.itemType){case o.CURE:n.hpRecover(1);break;case o.SHIELD1:n.shieldAdd(1);break;case o.SHIELD2:n.shieldAdd(2);break;case o.SHIELD3:n.shieldAdd(3);break;case o.SPEED1:n.speedUp(),n._speedUpCD=Math.max(2,n._speedUpCD);break;case o.SPEED2:n.speedUp(),n._speedUpCD=Math.max(3,n._speedUpCD);break;case o.SPEED3:n.speedUp(),n._speedUpCD=Math.max(4,n._speedUpCD)}},start:function(){this.updateSprite(),cc.tween(this.node).repeatForever(cc.tween().to(.5,{scale:.8},{easing:"cubicInOut"}).to(.5,{scale:1},{easing:"cubicInOut"})).start()}}),cc._RF.pop()},{ItemType:"ItemType"}],Loading:[function(t,e,i){"use strict";cc._RF.push(e,"feffbOITCZBVqs/uWdgpu5f","Loading");var o=t("SaveData"),n=t("VibrateUtils"),s=t("ShareUtils"),a=t("BILog"),c=t("HttpUtils"),r=t("LoginDataManager");t("TTLogin");cc.dlm={},cc.dlm.version=100,cc.dlm.share_award=!1,cc.dlm.CDBgetdata=!1,cc.dlm.loadSceneGame=!1,cc.dlm.islevel=0,cc.dlm.ismode=!1,cc.dlm.TT_video=!1,cc.eventMg=new cc.EventTarget,cc.Class({extends:cc.Component,properties:{label:cc.Label,_fakeCount:0,_fakeUpdate:!0},onLoad:function(){},start:function(){var e=this;cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT?o.load():(a.appOnce(1),a.adLogin(),CDB.debugMode=!1,r.setCode()):o.load(),n.load(),cc.log("VibrateUtils.isEnable "+n.isEnable()),s.initShareMenu(),window.qg&&cc.sys.platform==cc.sys.OPPO_GAME&&qg.initAdService({appId:"30220766",isDebug:!1,success:function(t){console.log("ad service success")},fail:function(t){console.log("fail:"+t.code+t.msg)},complete:function(t){console.log("complete")}}),cc.dlm.shareFlag=!1,cc.dlm.bannertime=0,cc.dlm.shareTimeCall=null,cc.dlm.shareCounts=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cc.dlm.canShare=function(t){return cc.dlm.shareCounts[t]++%2!=0||10*Math.random()<5},cc.sys.platform===cc.sys.WECHAT_GAME?(c.requestGet("https://cdnminigame.leuok.cn/cryptolalia/config/shoot_car.json?rnd="+ +new Date,function(e){try{var i=JSON.parse(e),o=i.shenhe;cc.dlm.version=cc.dlm.version||0,console.log("version",cc.dlm.version,o),cc.dlm.version==o?(cc.dlm.share_award=!1,cc.dlm.TT_video=!1):(cc.dlm.share_award=i.share_award,cc.dlm.TT_video=i.TT_video),t("ShareData").datas=i.shareDatas}catch(t){}},function(){}),isTT?this.launch():cc.loader.downloader.loadSubpackage("sub",function(t){if(t)return console.error(t);e.launch(),console.log("load subpackage successfully.")})):this.launch()},launch:function(){var t=this;console.log("launch"),window.Youzi&&(cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT||(console.log("\u521d\u59cb\u5316"),Youzi.init("wxe3dd2c3c00dbb1a3","1.00.00",1002)):cc.sys.platform===cc.sys.OPPO_GAME&&(console.log("\u521d\u59cb\u5316"),Youzi.init("30220766","1.00.00",8001))),cc.director.preloadScene("game",function(e,i,o){e/i>.2&&(t._fakeUpdate=!1),t.label.string=0==i?"\u52a0\u8f7d\u4e2d...100%":"\u52a0\u8f7d\u4e2d..."+Math.ceil(e/i*100)+"%"},function(t){cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT?cc.director.loadScene("game"):cc.sys.platform===cc.sys.WECHAT_GAME&&(cc.dlm.loadSceneGame=!0):cc.director.loadScene("game")})},update:function(t){this._fakeUpdate&&(this.label.string="\u52a0\u8f7d\u914d\u7f6e..."+this._fakeCount+"%",this._fakeCount=Math.min(this._fakeCount+1,100)),1==cc.dlm.loadSceneGame&&1==cc.dlm.CDBgetdata&&cc.director.loadScene("game")}}),cc._RF.pop()},{BILog:"BILog",HttpUtils:"HttpUtils",LoginDataManager:"LoginDataManager",SaveData:"SaveData",ShareData:"ShareData",ShareUtils:"ShareUtils",TTLogin:"TTLogin",VibrateUtils:"VibrateUtils"}],LoginDataManager:[function(t,e,i){"use strict";cc._RF.push(e,"92859Pqs1hI9ItmNIS6gaTu","LoginDataManager");var o=t("SaveData");i.login=function(t,e){var i={gameId:820,channelId:1002,platId:0,code:e,data:null,timestamps:Math.floor((new Date).valueOf()/1e3).toString(),success:function(e){console.log("CDB login Success \u4e0a\u884c:"+JSON.stringify(i)+" \u4e0b\u884c:"+e),t&&t(e)},fail:function(t){console.error("CDB login Fail \u4e0a\u884c:"+JSON.stringify(i)+" \u4e0b\u884c:"+JSON.stringify(t))}};CDB.login(i)},i.setCode=function(){var t=null;wx.login({success:function(e){t=e.code,console.log("Code=",t),e.code?wx.request({url:"https://test.com/onLogin",data:{code:e.code}}):console.log("\u767b\u5f55\u5931\u8d25\uff01"+e.errMsg),i.login(function(t){1==t.newUser||i.getData(function(t){0===t.state?(console.log("\u8fd4\u56de\u7684\u7ed3\u679c=",t.info),o.load(t.info),cc.dlm.CDBgetdata=!0):console.log("\u5931\u8d25\u539f\u56e0=",t.msg)})},t)}})},i.setData=function(t,e){var i={platId:0,key:1,value:e,success:function(e){console.log("CDB setPrivateData Success \u4e0a\u884c:"+JSON.stringify(i)+" \u4e0b\u884c:"+JSON.stringify(e)),t&&t(e)},fail:function(t){console.error("CDB setPrivateData Fail \u4e0a\u884c:"+JSON.stringify(i)+" \u4e0b\u884c:"+JSON.stringify(t))}};CDB.setPrivateData(i)},i.getData=function(t){var e={platId:0,key:1,sdType:0,success:function(i){console.log("CDB getUserDatas Success \u4e0a\u884c:"+JSON.stringify(e)+" \u4e0b\u884c:"+i.info),t&&t(i)},fail:function(t){console.error("CDB getUserDatas Fail \u4e0a\u884c:"+JSON.stringify(e)+" \u4e0b\u884c:"+JSON.stringify(t))}};CDB.getUserData(e)},cc._RF.pop()},{SaveData:"SaveData"}],MainMenu:[function(t,e,i){"use strict";cc._RF.push(e,"2ae29W9Z/9MvYrPZA8DwBX8","MainMenu");var o=t("EventConst"),n=t("SaveData"),s=t("GameData"),a=t("CarData"),c=t("BILog"),r=t("Integral");cc.Class({extends:cc.Component,properties:{carSprite:cc.Sprite,lbGold:cc.Label,lbEnergy:cc.Label,lbName:cc.Label,testButton:cc.Node,exchange:cc.Node,exchange_interface:cc.Node,integralLabel:cc.Label,Integral:r,vivoNativeAd:cc.Node,ttFloatBtn:cc.Node},onSupplyClicked:function(){cc.dlm.soundMgr.playSound("click")},onStartClicked:function(){cc.dlm.soundMgr.playSound("click"),n.data.energy>0?(n.energyChange(-1),s.setMode(0),cc.systemEvent.emit(o.CAR_TRY),n.save()):cc.systemEvent.emit(o.ENERGY_SUPPLY),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(102))},onStart2Clicked:function(){cc.dlm.soundMgr.playSound("click"),cc.systemEvent.emit(o.DAILY_BATTLE),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(103))},onTestStartClicked:function(){this.hide(),cc.systemEvent.emit(o.TEST_START)},onSettingClicked:function(){cc.dlm.soundMgr.playSound("click"),cc.systemEvent.emit(o.SETTING),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(101))},onAchievementClicked:function(){cc.dlm.soundMgr.playSound("click"),cc.dlm.showToast("\u6682\u672a\u5f00\u542f")},onGarageClicked:function(){cc.dlm.soundMgr.playSound("click"),cc.systemEvent.emit(o.CAR_GARAGE),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(104))},onDailyEnergyClicked:function(){cc.dlm.soundMgr.playSound("click"),n.isEnergyToday()?cc.dlm.showToast("\u4eca\u5929\u5df2\u9886\u8fc7\u4f53\u529b\uff0c\u660e\u5929\u518d\u6765\u5427"):cc.systemEvent.emit(o.DAILY_ENERGY)},onexchangeClicked:function(){cc.dlm.soundMgr.playSound("click"),cc.systemEvent.emit(o.INTEGRAL_CHANGED)},onDailyGiftClicked:function(){cc.dlm.soundMgr.playSound("click"),n.isGiftToday()?cc.dlm.showToast("\u4eca\u5929\u5df2\u9886\u8fc7\u793c\u5305\uff0c\u660e\u5929\u518d\u6765\u5427"):cc.systemEvent.emit(o.DAILY_GIFT),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&c.action(107))},show:function(){this.node.active=!0,this.onCarChanged(n.data.curCar)},hide:function(){this.node.active=!1},onCarChanged:function(t){this.carSprite.spriteFrame=cc.dlm.gameAssets.sfCars[t],this.lbName.string=a[t].name},onGoldChanged:function(){this.lbGold.string=n.data.gold},onTestGold:function(){cc.sys.isBrowser&&n.goldChange(1e3)},onEnergyChanged:function(){this.lbEnergy.string=n.data.energy},onIntegral:function(){this.exchange_interface.active=!0,this.Integral.show(),this.integralLabel.string=n.data.integral},onTTFloatBtnClicked:function(){"ios"!==tt.getSystemInfoSync().platform&&tt.showMoreGamesModal({appLaunchOptions:[{appId:"ttc98cbf3156b637f1"},{appId:"ttc7ccb17158e692ab"},{appId:"ttae75d8c8315fef1a"},{appId:"tte34c95f17c66ad00"},{appId:"tt360740baa92d2938"},{appId:"ttfacb8c7665f11daa"},{appId:"tt685c1ee1f7761d7a"},{appId:"tt51ed2750cec77343"},{appId:"tt32244499ad0e02f6"},{appId:"tt277651cbb85c1ec4"}],success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}})},onLoad:function(){cc.systemEvent.on(o.CAR_CHANGED,this.onCarChanged,this),cc.systemEvent.on(o.GOLD_CHANGED,this.onGoldChanged,this),cc.systemEvent.on(o.INTEGRAL_CHANGED,this.onIntegral,this),cc.systemEvent.on(o.ENERGY_CHANGED,this.onEnergyChanged,this),n.updateGift(),this.onGoldChanged(),this.onEnergyChanged(),this.testButton.active=cc.sys.isBrowser},onDestroy:function(){cc.systemEvent.off(o.CAR_CHANGED,this.onCarChanged,this),cc.systemEvent.off(o.GOLD_CHANGED,this.onGoldChanged,this),cc.systemEvent.off(o.ENERGY_CHANGED,this.onEnergyChanged,this),cc.systemEvent.off(o.INTEGRAL_CHANGED,this.onexchangeClicked,this)},start:function(){if(this.vivoNativeAd.active=cc.sys.platform===cc.sys.VIVO_GAME,cc.sys.WECHAT_GAME&&window.isTT){var t=tt.getSystemInfoSync();this.ttFloatBtn.active="ios"!==t.platform&&tt.showMoreGamesModal}else this.ttFloatBtn.active=!1},update:function(t){n.updateEnergy()}}),cc._RF.pop()},{BILog:"BILog",CarData:"CarData",EventConst:"EventConst",GameData:"GameData",Integral:"Integral",SaveData:"SaveData"}],MapData:[function(t,e,i){"use strict";cc._RF.push(e,"0130ceu0PRB2K5txFgi8Zf/","MapData"),e.exports=[{level:1,ids:[0],rnds:[],bgs:[9,11,10],fgs:[0]},{level:2,ids:[3],rnds:[],bgs:[3,5,4],fgs:[1]},{level:3,ids:[1],rnds:[],bgs:[0,2,1],fgs:[0]},{level:4,ids:[4],rnds:[],bgs:[3,5,4],fgs:[1]},{level:5,ids:[2],rnds:[],bgs:[0,2,1],fgs:[0]},{level:6,ids:[5],rnds:[],bgs:[3,5,4],fgs:[1]},{level:7,ids:[6],rnds:[],bgs:[6,8,7],fgs:[2]},{level:8,ids:[7],rnds:[],bgs:[6,8,7],fgs:[2]},{level:9,ids:[8],rnds:[],bgs:[6,8,7],fgs:[2]},{level:10,ids:[9],rnds:[],bgs:[9,11,10],fgs:[3]},{level:11,ids:[10],rnds:[],bgs:[9,11,10],fgs:[3]}],cc._RF.pop()},{}],MapManager:[function(t,e,i){"use strict";cc._RF.push(e,"f31f3Sm3R5H5bnJHFreDGgS","MapManager");t("MapData");cc.Class({extends:cc.Component,properties:{mapStart:cc.Prefab,maps:[cc.Prefab],dailyMaps:[cc.Prefab],mapEnd:cc.Prefab,_cars:[]},initLevel:function(t,e){this.node.removeAllChildren(),this._cars=[];var i=0,o=cc.instantiate(this.mapStart),n=o.getComponent("Map");if(o.zIndex=1,this.node.addChild(o),n.updatePosition(0,0),i+=n.width,e)for(var s=0;s<e.ids.length;s++){var a=e.ids[s];if(-1==a){var c=Math.floor(e.rnds.length*Math.random());a=e.rnds[c]}var r=0==t?this.maps[a]:this.dailyMaps[a],l=(o=cc.instantiate(r)).getComponent("Map");this.node.addChild(o),l.updatePosition(i,0);var h=l.getCars();if(h){h.active=!1;for(var d=h.children,u=0;u<d.length;u++){var p=cc.v2();p.x=i+d[u].x,p.y=d[u].y,this._cars.push(p)}}i+=l.width}var f=(o=cc.instantiate(this.mapEnd)).getComponent("Map");this.node.addChild(o),o.zIndex=1,f.updatePosition(i,0)},onLoad:function(){},start:function(){}}),cc._RF.pop()},{MapData:"MapData"}],Map:[function(t,e,i){"use strict";cc._RF.push(e,"26401Y2Iz9EJq5Rz/WAn/Nf","Map"),cc.Class({extends:cc.Component,properties:{width:200},start:function(){},updatePosition:function(t,e){this.node.x=t,this.node.y=e;for(var i=this.getComponentsInChildren(cc.RigidBody),o=0;o<i.length;o++)i[o].syncPosition()},getCars:function(){return this.node.getChildByName("cars")}}),cc._RF.pop()},{}],MathUtils:[function(t,e,i){"use strict";cc._RF.push(e,"d8e8fbXAQlDNaeGn5EU2vBo","MathUtils");for(var o=2*Math.PI,n=[],s=0;s<4096;s++)n[s]=Math.sin((s+.5)/4096*o);for(s=0;s<360;s+=90)n[4095&Math.floor(s*(4096/360))]=Math.sin(cc.misc.degreesToRadians(s));i.sin=function(t){return n[4095&Math.floor(t*(4096/360))]},i.cos=function(t){return n[4095&Math.floor((t+90)*(4096/360))]},i.atan2=function(t){var e=t.x,i=t.y,o=1-(Math.floor(i<0)<<1),n=i*o+2.220446049250313e-16,s=Math.floor(e<0)<<1,a=1-s;return n=(e-a*n)/(a*e+n),180/Math.PI*(.7853981634*(s+1)+(.1821*n*n-.9675)*n)*o},i.atan2ByPoints=function(t,e){var i=cc.v2(t.x-e.x,t.y-e.y);return this.atan2(i)},i.aToH=function(t){return Math.PI/180*t},i.hToA=function(t){return 180/Math.PI*t},i.createVecByAngle=function(t){var e=this.cos(t),i=this.sin(t);return cc.v2(e,i)},i.createVecByAngle2=function(t,e){var i=this.cos(t)*e,o=this.sin(t)*e;return cc.v2(i,o)},i.distance2=function(t,e){var i=e.x-t.x,o=e.y-t.y;return i*i+o*o},i.getShortStr=function(t,e){if(!t)return t;e=e||8;for(var i=0,o=0;o<t.length;o++){var n=t.charCodeAt(o);if((i+=n>=0&&n<=128?1:2)>e)return t.substring(0,o)+"..."}return t},i.getCurWeek=function(t){t=t||0;var e=new Date;e.setHours(0,0,0,0);var i=Math.round(e/1e3),o=e.getDay()-t;return o<0&&(o+=7),i-24*o*3600},cc.mathUtils=i,cc._RF.pop()},{}],NotchScreenFit:[function(t,e,i){"use strict";cc._RF.push(e,"b8f3cGKUmlI1a+eRd0D5PPt","NotchScreenFit"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this.getComponent(cc.Widget);this.widgetFit(t)},widgetFit:function(t){t&&(cc.visibleRect.width>=1300&&(t.left+=50,t.right+=50))},start:function(){}}),cc._RF.pop()},{}],RotationAnim:[function(t,e,i){"use strict";cc._RF.push(e,"91ebaBmFZdCRowV9KQVPGoG","RotationAnim"),cc.Class({extends:cc.Component,properties:{speed:5,reverse:!1},start:function(){cc.tween(this.node).by(this.speed,{angle:this.reverse?360:-360}).repeatForever().start()}}),cc._RF.pop()},{}],SaveData:[function(t,e,i){"use strict";cc._RF.push(e,"380c8zQ2i5G+pn+M+c79Sc2","SaveData");var o=t("EventConst"),n=t("LoginDataManager"),s=function(){var t=new Date;return t.setHours(0,0,0,0),Math.floor(t.getTime()/1e3/24/3600)},a={level:1,gold:0,integral:0,shareDay:0,login:0,loginDay:0,newUser:!0,curCar:0,energy:5,energyTime:0,energyDay:0,giftDay:0,giftType:0,giftNum:0,giftGet:!1,video:0,cars:[1,0,0,0,0,0,0,0,0,0],carSpeedLv:[0,0,0,0,0,0,0,0,0,0],carAccLv:[0,0,0,0,0,0,0,0,0,0],carJumpLv:[0,0,0,0,0,0,0,0,0,0],chip1:0,chip2:0,chip3:0,dailyChest:0,dailyTime:0,dailyData:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};i.data=a;var c="dlm_save_data_game_name";i.load=function(t){var e=cc.sys.localStorage.getItem(c);console.log("isjsonData=",e);try{if(cc.sys.platform===cc.sys.WECHAT_GAME){if(window.isTT){if(e){var i=JSON.parse(e);this.data.level=i.level||1,this.data.gold=i.gold||0,this.data.integral=i.integral||0,this.data.shareDay=i.shareDay||0,this.data.login=i.login||0,this.data.loginDay=i.loginDay||0,this.data.newUser=i.newUser||!1,this.data.curCar=i.curCar||this.data.curCar,this.data.energy=i.energy||this.data.energy,this.data.energyTime=i.energyTime||0,this.data.energyDay=i.energyDay||0,this.data.giftDay=i.giftDay||0,this.data.giftType=i.giftType||0,this.data.giftNum=i.giftNum||0,this.data.giftGet=i.giftGet||!1,this.data.video=i.video||0,this.data.cars=i.cars||a.cars,this.data.carSpeedLv=i.carSpeedLv||a.carSpeedLv,this.data.carAccLv=i.carAccLv||a.carAccLv,this.data.carJumpLv=i.carJumpLv||a.carJumpLv,this.data.chip1=i.chip1||0,this.data.chip2=i.chip2||0,this.data.chip3=i.chip3||0,this.data.dailyChest=i.dailyChest||0,this.data.dailyTime=i.dailyTime||0,this.data.dailyData=i.dailyData||a.dailyData}}else if(cc.sys.platform===cc.sys.WECHAT_GAME&&t){i=JSON.parse(t);this.data.level=i.level||1,this.data.gold=i.gold||0,this.data.integral=i.integral||0,this.data.shareDay=i.shareDay||0,this.data.login=i.login||0,this.data.loginDay=i.loginDay||0,this.data.newUser=i.newUser||!1,this.data.curCar=i.curCar||this.data.curCar,this.data.energy=i.energy||this.data.energy,this.data.energyTime=i.energyTime||0,this.data.energyDay=i.energyDay||0,this.data.giftDay=i.giftDay||0,this.data.giftType=i.giftType||0,this.data.giftNum=i.giftNum||0,this.data.giftGet=i.giftGet||!1,this.data.video=i.video||0,this.data.cars=i.cars||a.cars,this.data.carSpeedLv=i.carSpeedLv||a.carSpeedLv,this.data.carAccLv=i.carAccLv||a.carAccLv,this.data.carJumpLv=i.carJumpLv||a.carJumpLv,this.data.chip1=i.chip1||0,this.data.chip2=i.chip2||0,this.data.chip3=i.chip3||0,this.data.dailyChest=i.dailyChest||0,this.data.dailyTime=i.dailyTime||0,this.data.dailyData=i.dailyData||a.dailyData}}else if(e){i=JSON.parse(e);this.data.level=i.level||1,this.data.gold=i.gold||0,this.data.integral=i.integral||0,this.data.shareDay=i.shareDay||0,this.data.login=i.login||0,this.data.loginDay=i.loginDay||0,this.data.newUser=i.newUser||!1,this.data.curCar=i.curCar||this.data.curCar,this.data.energy=i.energy||this.data.energy,this.data.energyTime=i.energyTime||0,this.data.energyDay=i.energyDay||0,this.data.giftDay=i.giftDay||0,this.data.giftType=i.giftType||0,this.data.giftNum=i.giftNum||0,this.data.giftGet=i.giftGet||!1,this.data.video=i.video||0,this.data.cars=i.cars||a.cars,this.data.carSpeedLv=i.carSpeedLv||a.carSpeedLv,this.data.carAccLv=i.carAccLv||a.carAccLv,this.data.carJumpLv=i.carJumpLv||a.carJumpLv,this.data.chip1=i.chip1||0,this.data.chip2=i.chip2||0,this.data.chip3=i.chip3||0,this.data.dailyChest=i.dailyChest||0,this.data.dailyTime=i.dailyTime||0,this.data.dailyData=i.dailyData||a.dailyData}}catch(t){cc.error(t)}},i.isShareToday=function(){return s()==this.data.shareDay},i.updateShareDay=function(){this.data.shareDay=s()},i.save=function(){if(cc.sys.localStorage.setItem(c,JSON.stringify(this.data)),cc.sys.platform===cc.sys.WECHAT_GAME)if(window.isTT);else if(cc.sys.platform===cc.sys.WECHAT_GAME){var t=cc.sys.localStorage.getItem(c);n.setData(function(t){0===t.state?console.log("\u50a8\u5b58\u6570\u636e\u8fd4\u56de\u7684\u7ed3\u679c=",t.info):console.log("\u50a8\u5b58\u6570\u636e\u5931\u8d25\u7684\u7ed3\u679c=",t.msg)},t)}},i.goldChange=function(t){isNaN(t)||(this.data.gold+=t,this.data.gold=Math.max(this.data.gold,0),cc.systemEvent.emit(o.GOLD_CHANGED))},i.integralChange=function(t){isNaN(t)||(this.data.integral+=t,cc.systemEvent.emit(o.INTEGRAL_CHANGED))},i.updateLoginDay=function(){var t=s();t!=this.data.loginDay&&(this.data.login++,this.data.loginDay=t)},i.isLoginToday=function(){return this.data.loginDay==s()},i.setLevel=function(t){this.data.level=t,cc.systemEvent.emit(o.LEVEL_CHANGED)},i.levelUp=function(){this.setLevel(this.data.level+1)},i.setCurCar=function(t){this.data.curCar=t,cc.systemEvent.emit(o.CAR_CHANGED,t)},i.carUnlock=function(t){this.data.cars[t]||(this.data.cars[t]=1,cc.systemEvent.emit(o.CAR_UNLOCK,t))},i.carSpeedLvUp=function(t){this.data.carSpeedLv[t]=Math.min(this.data.carSpeedLv[t]+1,8)},i.carAccLvUp=function(t){this.data.carAccLv[t]=Math.min(this.data.carAccLv[t]+1,8)},i.carJumpLvUp=function(t){this.data.carJumpLv[t]=Math.min(this.data.carJumpLv[t]+1,8)},i.updateEnergy=function(){var t=+new Date;if(this.data.energy>=5)this.data.energyTime=t;else{var e=Math.floor((t-this.data.energyTime)/1e3/300),i=this.data.energy;e>0&&(this.data.energy+=e,this.data.energyTime+=300*e*1e3),this.data.energy>=5&&(this.data.energy=5,this.data.energyTime=t),this.data.energy!=i&&cc.systemEvent.emit(o.ENERGY_CHANGED)}},i.energyChange=function(t){this.data.energy+=t,cc.systemEvent.emit(o.ENERGY_CHANGED)},i.updateEnergyDay=function(){this.data.energyDay=s()},i.isEnergyToday=function(){return this.data.energyDay==s()},i.updateGift=function(){var t=s();if(t!=this.data.giftDay)switch(this.data.giftGet=!1,this.data.giftDay=t,this.data.giftType=Math.floor(3*Math.random()),this.data.giftType){case 0:this.data.giftNum=Math.floor(2*Math.random())+5;break;case 1:this.data.giftNum=Math.floor(2*Math.random())+3;break;case 2:this.data.giftNum=Math.floor(2*Math.random())+1}},i.isGiftToday=function(){return this.data.giftDay==s()&&this.data.giftGet},i.videoAdd=function(){this.data.video++,cc.systemEvent.emit(o.VIDEO_ADD)},i.updateDailyMonth=function(){var t=new Date,e=+t,i=t.getFullYear(),o=t.getMonth();if(t.setMilliseconds(this.data.dailyTime),t.getFullYear()!==i||t.getMonth()!==o){this.data.dailyTime=e;for(var n=0;n<31;n++)this.data.dailyData[n]=0,this.dailyChest=0}},i.updateDailyData=function(t,e){t<=0||t>31||(t--,this.data.dailyData[t]=Math.max(this.data.dailyData[t],e))},cc._RF.pop()},{EventConst:"EventConst",LoginDataManager:"LoginDataManager"}],Setting:[function(t,e,i){"use strict";cc._RF.push(e,"04c2btf0TFN5IuKi+42cDe6","Setting");var o=t("VibrateUtils");t("SaveData"),t("EventConst");cc.Class({extends:cc.Component,properties:{dialog:cc.Node,spSound:cc.Sprite,spVibrate:cc.Sprite,sfOn:cc.SpriteFrame,sfOff:cc.SpriteFrame},show:function(){this.node.active=!0,this.dialog.stopAllActions(),this.dialog.scale=0,this.updateSound(),this.updateVibrate(),cc.tween(this.dialog).to(.4,{scale:1},{easing:"backOut"}).start()},hide:function(){var t=this;this.dialog.stopAllActions(),this.dialog.scale=1,cc.tween(this.dialog).to(.4,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1}).start()},onBackClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hide()},updateSound:function(){var t=cc.dlm.soundMgr.isSilence();this.spSound.spriteFrame=t?this.sfOff:this.sfOn},updateVibrate:function(){var t=o.isEnable();this.spVibrate.spriteFrame=t?this.sfOn:this.sfOff},onSoundClicked:function(){cc.dlm.soundMgr.playSound("click");var t=cc.dlm.soundMgr.isSilence();cc.dlm.soundMgr.setSilence(!t),this.updateSound(),cc.dlm.soundMgr.saveToStorage()},onVibrateClicked:function(){cc.dlm.soundMgr.playSound("click"),o.setEnable(!o.isEnable()),this.updateVibrate(),o.save()},start:function(){}}),cc._RF.pop()},{EventConst:"EventConst",SaveData:"SaveData",VibrateUtils:"VibrateUtils"}],Shake:[function(t,e,i){"use strict";cc._RF.push(e,"d8dcaHgl5tKd6zgyZ0WubUe","Shake");var o=t("EventConst"),n=cc.Class({name:"ShakeData",properties:{offX:5,offY:5,interval:.02,time:.2}});cc.Class({extends:cc.Component,properties:{datas:[n],_offX:0,_offY:0},onLoad:function(){cc.dlm.shake=this.shake.bind(this),cc.systemEvent.on(o.SHAKE,this.shake,this)},onDestroy:function(){cc.systemEvent.off(o.SHAKE,this.shake,this)},shake:function(t){var e=this;t=t||0;var i=this.datas[t],o=Math.ceil(i.time/i.interval),n=0,s=0,a=0;this.schedule(function(){if(n==o)e._offX-=s,e._offY-=a;else{var t=Math.floor((2*Math.random()-1)*i.offX-s),c=Math.floor((2*Math.random()-1)*i.offY-a);s+=t,a+=c,e._offX+=t,e._offY+=c}n++},i.interval,o)},start:function(){}}),cc._RF.pop()},{EventConst:"EventConst"}],ShareData:[function(t,e,i){"use strict";cc._RF.push(e,"b73e3AZNkNFq5XSbh4YH9XQ","ShareData"),i.datas=[{screenshot:!1,titles:["\u5c0f\u8001\u5f1f\uff0c\u8fd8\u4e0d\u5feb\u6765\u8bd5\u8bd5\u4f60\u7684\u6280\u672f\uff01"],imgUrls:["https://cdnminigame.leuok.cn/cryptolalia/config/shoot_car/1.jpg"]},{screenshot:!1,titles:["\u60f3\u77e5\u9053\u98de\u8f6e\u4e0e\u6469\u6258\u5982\u4f55\u6469\u64e6\u4e48\uff0c\u7b54\u6848\u5c31\u5728\u8fd9\u91cc\uff01"],imgUrls:["https://cdnminigame.leuok.cn/cryptolalia/config/shoot_car/2.jpg"]},{titles:["\u67e0\u6aac\u7cbe\uff01\u770b\u6211\u80ef\u4e0b\u795e\u8f66\uff01"],screenshot:!1,imgUrls:["https://cdnminigame.leuok.cn/cryptolalia/config/shoot_car/3.jpg"]},{titles:["\u5f00\u5c40\u4e00\u8f86\u8f66\uff0c\u5347\u7ea7\u5168\u9760\u51b2\uff01"],screenshot:!1,imgUrls:["https://cdnminigame.leuok.cn/cryptolalia/config/shoot_car/4.jpg"]}],i.SHARE_APP_ID=0,cc._RF.pop()},{}],ShareUtils:[function(t,e,i){"use strict";cc._RF.push(e,"60b100KqLVH3qoFImNs+FYb","ShareUtils");var o=t("ShareData"),n=t("SaveData"),s=t("BILog"),a=null;if(cc.sys.platform==cc.sys.WECHAT_GAME)window.isQQ?qq.onShow(function(t){console.log(t),cc.dlm.shareTicket=t.shareTicket,t.query||(t.query={id:0}),cc.dlm.query=t.query,cc.dlm.shareId=t.query.id}):wx.onShow(function(t){if(cc.dlm.query=t.query,cc.dlm.shareTicket=t.shareTicket,cc.dlm.shareId=t.query.id,null!=cc.dlm.shareId&&cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.sharedIn(cc.dlm.shareId)),null!=t.query.pic){var e=parseInt(t.query.pic);cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.action(e+201,0))}});else if(cc.sys.platform==cc.sys.QQ_PLAY){var c=GameStatusInfo.gameParam;try{cc.dlm.shareQuery=JSON.parse(c)}catch(t){cc.error(t)}}i.initShareMenu=function(){cc.sys.platform==cc.sys.WECHAT_GAME?(console.log("initShareMenu"),wx.showShareMenu(),wx.onShareAppMessage(function(t){var e=Math.floor(Math.random()*o.datas.length),i=r(e);return i.query="id=10&pic="+e,console.log("ddd,,"+i),i})):cc.sys.platform==cc.sys.QQ_PLAY&&new BK.Game({onShare:function(){var t=r(o.SHARE_APP_ID);return{summary:t.title,picUrl:t.imageUrl,extendInfo:t.query}}})},i.share=function(t,e,c,h,d,u,p){console.log("\u5206\u4eab"),n.data.share++,e=e||!1,c=c||!1,(h=h||{}).id=t,d=d||0;var f=null,m=t;if(e&&(m=Math.floor(Math.random()*o.datas.length)),f=r(m),h.pic=m,h.leuokShareIn=m+1,cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&(s.sharedOut(t),s.action(m+301,0))),f.screenshot=c,f.success=u,f.fail=p,console.log("======query======"),console.log(h),cc.sys.platform==cc.sys.WECHAT_GAME){var g=0,v="";for(var y in h)v+=g>0?"&":"",v+=y+"="+h[y],g++;f.query=v,console.log("data.query=="+v)}else cc.sys.platform==cc.sys.QQ_PLAY&&(f.query=h);f.screenshot?f.imageUrl?cc.sys.platform==cc.sys.WECHAT_GAME?l(f):cc.sys.platform==cc.sys.QQ_PLAY&&BK.QQ.shareToArkFromFile(0,f.title,f.query,f.imageUrl):i.screenshot(d,function(){cc.sys.platform==cc.sys.WECHAT_GAME?(f.imageUrl=a,l(f)):cc.sys.platform==cc.sys.QQ_PLAY&&BK.QQ.shareToArkFromFile(0,f.title,f.query,a)}):l(f)};var r=function(t){var e=o.datas[t],i={query:"",title:"",imageUrl:null,screenshot:!1};if(e){if(i.screenshot=e.screenshot,e.titles.length>0){var n=Math.floor(Math.random()*e.titles.length);i.title=e.titles[n]}if(e.imgUrls.length>0){n=Math.floor(Math.random()*e.imgUrls.length);i.imageUrl=e.imgUrls[n]}}return i},l=function(t){cc.sys.platform==cc.sys.WECHAT_GAME?window.isQQ?qq.shareAppMessage(t):wx.shareAppMessage(t):cc.sys.platform==cc.sys.QQ_PLAY&&H5SDK.shareMessage({shareInfo:t})};i.screenshot=function(t,e,i){if(cc.sys.platform==cc.sys.WECHAT_GAME){var o=c=canvas.width,n=0,s=canvas.height/2-(r=c/5*4)/2+t;canvas.toTempFilePath({x:n,y:s,width:o,height:r,destWidth:o,destHeight:r,fileType:"jpg",quality:1,success:function(t){a=t.tempFilePath,e&&e()},fail:i})}else if(cc.sys.platform==cc.sys.QQ_PLAY){o=c=BK.Director.screenPixelSize.width,n=0,s=BK.Director.screenPixelSize.height/2-(r=c/16*9)/2+t;var c,r,l=bkWebGLGetInstance(),h=new BK.ScreenShot;h.origin={x:n,y:s},h.size={width:o,height:r},h.shotToFileFromGL(l,"tempImg","png",function(t){a=t,e&&e()})}},cc._RF.pop()},{BILog:"BILog",SaveData:"SaveData",ShareData:"ShareData"}],SkillInfo:[function(t,e,i){"use strict";cc._RF.push(e,"67eb2ytwVhGj6VVmjuUVzD+","SkillInfo");var o=t("CarData"),n=["\u53ef\u514d\u8d39\u590d\u6d3b1\u6b21","\u73a9\u5bb6\u80fd\u591f\u62b5\u6d881\u6b21\u653b\u51fb","\u73a9\u5bb6\u80fd\u591f\u62b5\u6d882\u6b21\u653b\u51fb","\u73a9\u5bb6\u80fd\u591f\u62b5\u6d883\u6b21\u653b\u51fb","\u73a9\u5bb6\u52a0\u901f\u72b6\u6001120%","\u73a9\u5bb6\u52a0\u901f\u72b6\u6001135%","\u73a9\u5bb6\u52a0\u901f\u72b6\u6001150%"];cc.Class({extends:cc.Component,properties:{lbSkill:cc.Label,info:cc.Node,dialog:cc.Node,skills:cc.Node,sfSkills:[cc.SpriteFrame],_curId:0},updateSkill:function(t){this._curId=t;for(var e=this.skills.children,i=o[this._curId].skills,n=0;n<e.length;n++){if(null!=i[n])e[n].active=!0,e[n].getComponent(cc.Sprite).spriteFrame=this.sfSkills[i[n]];else e[n].active=!1}},showInfo:function(t){var e=this,i=o[this._curId].skills[t];this.info.active=!0;var s=this.skills.children[t];this.lbSkill.string=n[i],this.dialog.y=this.skills.y+s.y,this.dialog.opacity=0,this.dialog.getComponent(cc.Layout).updateLayout(),cc.tween(this.dialog).delay(.1).call(function(){e.dialog.opacity=255,e.dialog.scale=0}).to(.3,{scale:1},{easing:"backOut"}).start()},hideInfo:function(){var t=this;cc.tween(this.dialog).to(.3,{scale:0},{easing:"backIn"}).call(function(){t.info.active=!1}).start()},onHideClicked:function(){cc.dlm.soundMgr.playSound("click"),this.hideInfo()},onSkillClicked:function(t,e){cc.dlm.soundMgr.playSound("click"),this.showInfo(+e)},start:function(){}}),cc._RF.pop()},{CarData:"CarData"}],SoundManager:[function(t,e,i){"use strict";cc._RF.push(e,"3e844elIzpPuKVqk5VJDU3s","SoundManager"),cc.Class({extends:cc.Component,properties:{bgmVolume:1,seVolume:1,bgmAudioID:-1,bgms:{default:[],type:[cc.AudioClip]},click:{type:cc.AudioClip,default:null},jump:{type:cc.AudioClip,default:null},land:{type:cc.AudioClip,default:null},boom:{type:cc.AudioClip,default:null},shoot:{type:cc.AudioClip,default:null},fire:{type:cc.AudioClip,default:null},drive:{type:cc.AudioClip,default:null},count_down:{type:cc.AudioClip,default:null},start_engine:{type:cc.AudioClip,default:null},gold:{type:cc.AudioClip,default:null},_isSilence:!1,_curBgmId:-1,_loopSounds:[]},onLoad:function(){cc.dlm.soundMgr=this,this.preLoad(),this.loadFromStorage(),this._isSilence=0==this.bgmVolume&&0==this.seVolume,this._loopSounds={}},playBGM:function(t){this.bgmAudioID>=0&&(cc.audioEngine.stop(this.bgmAudioID),this._curBgmId=-1),this.bgms[t]&&(this.bgmVolume>0||!cc.sys.isNative)&&(this.bgmAudioID=cc.audioEngine.playMusic(this.bgms[t],!0,this.bgmVolume),this._curBgmId=t)},playCurBGM:function(){this.playBGM(this._curBgmId)},playSE:function(t,e){return this.seVolume>0?cc.audioEngine.playEffect(t,e,this.bgmVolume):-1},setSEVolume:function(t){this.seVolume!=t&&(this.seVolume=t)},setBGMVolume:function(t,e){(this.bgmVolume!=t||e)&&(cc.sys.isNative?this.bgmAudioID>=0&&(t>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID),cc.audioEngine.setVolume(this.bgmAudioID,t)):cc.audioEngine.setVolume(this.bgmAudioID,t),this.bgmVolume=t)},setSilence:function(t){this._isSilence=t,t?(this.setBGMVolume(0),this.setSEVolume(0),cc.audioEngine.stopAll()):(this.setBGMVolume(1),this.setSEVolume(1),this.playCurBGM())},saveToStorage:function(){var t={se:this.seVolume,bgm:this.bgmVolume};cc.sys.localStorage.setItem("dlm_sound_volume",JSON.stringify(t))},loadFromStorage:function(){var t=1,e=1;try{var i=cc.sys.localStorage.getItem("dlm_sound_volume");if(i){var o=JSON.parse(i);null!=o.se&&(t=o.se),null!=o.bgm&&(e=o.bgm)}}catch(t){cc.error(t)}this.setBGMVolume(e),this.setSEVolume(t)},pauseAll:function(){cc.audioEngine.pauseAll(),this._isSilence||(this.setBGMVolume(0),this.setSEVolume(0))},resumeAll:function(){cc.audioEngine.resumeAll(),this._isSilence||(this.setBGMVolume(1),this.setSEVolume(1))},isSilence:function(){return this._isSilence},playSound:function(t,e){if(this[t])if(e){if(!this._loopSounds[t]){var i=this.playSE(this[t],e);i>=0&&(this._loopSounds[t]=i)}}else this.playSE(this[t],e)},stopLoopSound:function(t){null!=this._loopSounds[t]&&(cc.audioEngine.stopEffect(this._loopSounds[t]),delete this._loopSounds[t])},stopAllSounds:function(){cc.audioEngine.stopAllEffects(),this._loopSounds={}},preLoad:function(){for(var t in this){var e=this[t];e instanceof cc.AudioClip&&(console.log(e.loaded),cc.loader.loadRes(e.nativeUrl))}}}),cc._RF.pop()},{}],StartMap:[function(t,e,i){"use strict";cc._RF.push(e,"f3dbevTix5Et4MD6lEB+ouU","StartMap");var o=t("Map"),n=t("EventConst");cc.Class({extends:o,properties:{lights:cc.Node},onLoad:function(){cc.systemEvent.on(n.COUNT_DOWN,this.onCountDown,this)},onDestroy:function(){cc.systemEvent.off(n.COUNT_DOWN,this.onCountDown,this)},onCountDown:function(t){for(var e=this.lights.children,i=0;i<e.length;i++)e[i].active=3-i>t},start:function(){this.onCountDown(3)}}),cc._RF.pop()},{EventConst:"EventConst",Map:"Map"}],TTLogin:[function(t,e,i){"use strict";cc._RF.push(e,"3d0a5luSiJLu5ayMVZUyUE2","TTLogin"),i.Login=function(){tt.login({success:function(t){console.log("res.code=",t.code),console.log("res.anonymousCode=",t.anonymousCode)},fail:function(t){console.log("login\u8c03\u7528\u5931\u8d25")}})},i.recorder=null,i.screencapStarat=function(){var t=this;null==this.recorder?(console.log("recorder!=null"),this.recorder=tt.getGameRecorderManager(),this.recorder.onStart(function(t){console.log("\u5f55\u5c4f\u5f00\u59cb")}),this.recorder.start({duration:120}),this.recorder.onStop(function(e){console.log("\u5f55\u5c4f\u7ed3\u675f"),console.log(e.videoPath),t.lpPath=e.videoPath})):(this.recorder=null,this.recorder=tt.getGameRecorderManager(),this.recorder.onStart(function(t){console.log("\u5f55\u5c4f\u5f00\u59cb")}),this.recorder.start({duration:120}),this.recorder.onStop(function(e){console.log("\u5f55\u5c4f\u7ed3\u675f"),console.log(e.videoPath),t.lpPath=e.videoPath}))},i.screencapPause=function(){null!=this.recorder&&this.recorder.pause()},i.screencapStop=function(){null!=this.recorder&&this.recorder.stop()},i.screencapResume=function(){null==this.recorder||(this.recorder.onResume(function(t){console.log("\u6062\u590d\u5f55\u5c4f")}),this.recorder.resume())},i.lpPath="",i.lpId=0,i.getLpPath=function(){return this.lpPath},i.shareLp=function(t,e){if(""!=this.lpPath)try{tt.shareAppMessage({channel:"video",extra:{videoPath:this.lpPath},success:function(e){t(),this.lpId=0,console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f")},fail:function(t){console.log(t),e(t),"shareAppMessage:cancel"===t.errMsg||"shareAppMessage:fail publish fail"===t.errMsg?cc.dlm.showToast("\u5f55\u5c4f\u5206\u4eab\u5931\u8d25"):-1!==t.errMsg.search("short")?cc.dlm.showToast("\u5f55\u5c4f\u5931\u8d25\uff1a\u5f55\u5c4f\u65f6\u957f\u4f4e\u4e8e 3 \u79d2"):cc.dlm.showToast("\u5f55\u5c4f\u5206\u4eab\u5931\u8d25"),console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}})}catch(t){}else cc.dlm.showToast("\u5f55\u5c4f\u5206\u4eab\u5931\u8d25")},cc._RF.pop()},{}],Toast:[function(t,e,i){"use strict";cc._RF.push(e,"4e95aqYX5JHKpMDrJj0ReKO","Toast"),cc.Class({extends:cc.Component,properties:{bgSmall:cc.Node,bgBig:cc.Node,label:cc.Label},onLoad:function(){cc.dlm.showToast=this.showToast.bind(this),cc.game.addPersistRootNode(this.node),this.node.zIndex=cc.macro.MAX_ZINDEX,this.node.active=!1},start:function(){},showToast:function(t,e){var i=this;this.bgSmall.active=!0,this.bgBig.active=!1,e=e||3,this.label.string=t,this.node.active=!0,this.node.opacity=0;var o=cc.visibleRect.center;this.node.x=o.x,this.node.y=o.y-200,this.node.stopAllActions();var n=cc.spawn(cc.fadeIn(.2),cc.moveBy(.2,0,150)),s=cc.delayTime(e),a=cc.spawn(cc.fadeOut(.2),cc.moveBy(.2,0,150)),c=cc.callFunc(function(){i.node.active=!1});this.node.runAction(cc.sequence(n,s,a,c))}}),cc._RF.pop()},{}],UIManager:[function(t,e,i){"use strict";cc._RF.push(e,"4714ejoPDVGBr+6B6FdkxNO","UIManager");var o=t("EventConst"),n=t("MainMenu"),s=t("GameLose"),a=t("GameWin"),c=t("GameWin2"),r=t("GameWin_3"),l=t("GameWin2_3"),h=t("GameUI"),d=t("Setting"),u=t("CarGarage"),p=t("DailyEnergy"),f=t("DailyGift"),m=t("EnergySupply"),g=t("DailyBattle"),v=t("CarTry"),y=t("AdUtils"),_=t("BILog"),C=t("TTLogin"),A=t("VibrateUtils");cc.Class({extends:cc.Component,properties:{gameUI:h,gameLose:s,gameWin:a,gameWin2:c,GameWin_3:r,GameWin2_3:l,mainMenu:n,setting:d,carGarage:u,dailyEnergy:p,dailyGift:f,energySupply:m,dailyBattle:g,carTry:v},onLoad:function(){cc.dlm.ui=this,cc.systemEvent.on(o.GAME_START,this.onGameStart,this),cc.systemEvent.on(o.TEST_START,this.onGameStart,this),cc.systemEvent.on(o.GAME_RESTART,this.onGameStart,this),cc.systemEvent.on(o.REVIVE,this.onRevive,this),cc.systemEvent.on(o.GAME_WIN,this.onGameWin,this),cc.systemEvent.on(o.GAME_WIN2,this.onGameWin2,this),cc.systemEvent.on(o.GAME_LOSE,this.onGameLose,this),cc.systemEvent.on(o.MAIN_MENU,this.onMainMenu,this),cc.systemEvent.on(o.SETTING,this.onSetting,this),cc.systemEvent.on(o.CAR_GARAGE,this.onGarage,this),cc.systemEvent.on(o.DAILY_ENERGY,this.onDailyEnergy,this),cc.systemEvent.on(o.DAILY_GIFT,this.onDailyGift,this),cc.systemEvent.on(o.ENERGY_SUPPLY,this.onEnergySupply,this),cc.systemEvent.on(o.DAILY_BATTLE,this.onDailyBattle,this),cc.systemEvent.on(o.CAR_TRY,this.onCarTry,this),cc.systemEvent.on(o.PAUSE,this.onPause,this),cc.systemEvent.on(o.CONTINUE,this.Continue,this),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),cc.dlm.soundMgr.playBGM(0),this.mainMenu.show(),this.gameWin.hide(),this.GameWin_3.hide(),this.gameLose.hide(),this.gameUI.hide(),this.dailyBattle.hide(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&_.appOnce(2))},onDestroy:function(){cc.systemEvent.off(o.GAME_START,this.onGameStart,this),cc.systemEvent.off(o.TEST_START,this.onGameStart,this),cc.systemEvent.off(o.GAME_RESTART,this.onGameStart,this),cc.systemEvent.off(o.REVIVE,this.onRevive,this),cc.systemEvent.off(o.GAME_WIN,this.onGameWin,this),cc.systemEvent.off(o.GAME_WIN2,this.onGameWin2,this),cc.systemEvent.off(o.GAME_LOSE,this.onGameLose,this),cc.systemEvent.off(o.MAIN_MENU,this.onMainMenu,this),cc.systemEvent.off(o.CAR_GARAGE,this.onGarage,this),cc.systemEvent.off(o.DAILY_ENERGY,this.onDailyEnergy,this),cc.systemEvent.off(o.DAILY_GIFT,this.onDailyGift,this),cc.systemEvent.off(o.ENERGY_SUPPLY,this.onEnergySupply,this),cc.systemEvent.off(o.DAILY_BATTLE,this.onDailyBattle,this),cc.systemEvent.off(o.CAR_TRY,this.onCarTry,this)},onPause:function(){cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT&&(y.hideBanner(),y.showInterstitial()):(y.hideBanner(),y.showInterstitial())},Continue:function(){cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT&&cc.dlm.TT_video&&y.showBanner():y.showBanner()},onGameShow:function(){cc.log("game show"),this._gameShowTime=+new Date,cc.dlm._gameDt=(this._gameShowTime-this._gameHideTime)/1e3,console.log("show:"+cc.dlm._gameDt),cc.dlm.shareTimeCall&&cc.dlm.shareTimeCall(cc.dlm._gameDt)},onGameHide:function(){this._gameHideTime=+new Date},onShareGame:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&this.shareGame.show()},onGameStart:function(){this.gameUI.show(),this.mainMenu.hide(),this.dailyBattle.hide(),cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT&&cc.dlm.TT_video&&y.showBanner():y.showBanner()},onGameWin:function(){A.vibrateShort(),cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT?(cc.dlm.islevel<=1?this.gameWin.show():this.GameWin_3.show(),y.hideBanner(),y.showInterstitial()):cc.sys.platform===cc.sys.WECHAT_GAME&&this.gameWin.show():(this.gameWin.show(),y.hideBanner(),y.showInterstitial())},onGameWin2:function(){A.vibrateShort(),cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT?(this.GameWin2_3.show(),y.hideBanner(),y.showInterstitial()):this.gameWin2.show():(this.gameWin2.show(),y.hideBanner(),y.showInterstitial())},onGameLose:function(){this.gameLose.show(),cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT&&(C.screencapPause(),y.hideBanner(),y.showInterstitial()):(y.hideBanner(),y.showInterstitial())},onRevive:function(){cc.sys.platform===cc.sys.WECHAT_GAME?window.isTT&&(C.screencapResume(),cc.dlm.TT_video&&y.showBanner()):y.showBanner()},onMainMenu:function(){y.hideBanner(),cc.director._gameRate=1,this.gameUI.hide(),this.mainMenu.show()},onSetting:function(){console.log("setting"+this.setting),this.setting.show()},onGarage:function(){this.carGarage.show(),y.hideBanner()},onDailyEnergy:function(){this.dailyEnergy.show(),y.showBanner()},onDailyGift:function(){this.dailyGift.show(),y.showBanner()},onEnergySupply:function(){this.energySupply.show()},onDailyBattle:function(){cc.director._gameRate=1,this.gameUI.hide(),this.mainMenu.hide(),this.dailyBattle.show(),y.hideBanner()},onCarTry:function(){this.carTry.show()},start:function(){}}),cc._RF.pop()},{AdUtils:"AdUtils",BILog:"BILog",CarGarage:"CarGarage",CarTry:"CarTry",DailyBattle:"DailyBattle",DailyEnergy:"DailyEnergy",DailyGift:"DailyGift",EnergySupply:"EnergySupply",EventConst:"EventConst",GameLose:"GameLose",GameUI:"GameUI",GameWin:"GameWin",GameWin2:"GameWin2",GameWin2_3:"GameWin2_3",GameWin_3:"GameWin_3",MainMenu:"MainMenu",Setting:"Setting",TTLogin:"TTLogin",VibrateUtils:"VibrateUtils"}],UserUIManager:[function(t,e,i){"use strict";cc._RF.push(e,"52a4eOqdNlImqQGHfvNeMYc","UserUIManager"),cc.Class({extends:cc.Component,properties:{prefab:cc.Prefab},start:function(){},clear:function(){this.node.removeAllChildren()},create:function(){var t=cc.instantiate(this.prefab);return this.node.addChild(t),t.getComponent("UserUI")}}),cc._RF.pop()},{}],UserUI:[function(t,e,i){"use strict";cc._RF.push(e,"3b95br0d4NET6eBcwDwBLmg","UserUI");var o=t("EventConst");cc.Class({extends:cc.Component,properties:{bloods:cc.Node,shields:cc.Node,shield:cc.Node,_car:null,_anim:null},init:function(t){this._car=t,this.updateHp(),this.updateShield()},onLoad:function(){var t=this;cc.systemEvent.on(o.HP_CHANGED,this.updateHp,this),cc.systemEvent.on(o.SHIELD_CHANGED,this.updateShield,this),cc.systemEvent.on(o.SHIELD_START,this.onShieldStart,this),cc.systemEvent.on(o.SHIELD_END,this.onShieldEnd,this),this._anim=this.getComponent(cc.Animation),this._anim.on("finished",function(){"shield_start"==t._anim.currentClip.name&&t._anim.play("shield_run")},this)},onDestroy:function(){cc.systemEvent.off(o.HP_CHANGED,this.updateHp,this),cc.systemEvent.off(o.SHIELD_CHANGED,this.updateShield,this),cc.systemEvent.off(o.SHIELD_START,this.onShieldStart,this),cc.systemEvent.off(o.SHIELD_END,this.onShieldEnd,this),this._anim.off("finished")},start:function(){},updateHp:function(){if(this._car)for(var t=this.bloods.children,e=0;e<t.length;e++)t[e].active=this._car._hp>e},updateShield:function(){if(this._car)for(var t=this.shields.children,e=0;e<t.length;e++)t[e].active=this._car._shield>e},lateUpdate:function(t){this._car&&(this.node.position=this._car.node.position)},onShieldStart:function(){this._anim.play("shield_start")},onShieldEnd:function(){this._anim.play("shield_end")}}),cc._RF.pop()},{EventConst:"EventConst"}],VibrateUtils:[function(t,e,i){"use strict";cc._RF.push(e,"b32a3sCzGxPzqj/rzA+NO3R","VibrateUtils");var o=!0;i.load=function(){var t=cc.sys.localStorage.getItem("dlm_vibrate");null!=t&&("on"==t?o=!0:"off"==t&&(o=!1))},i.save=function(){cc.sys.localStorage.setItem("dlm_vibrate",o?"on":"off")},i.isEnable=function(){return o},i.setEnable=function(t){o=t},i.vibrateShort=function(){window.qg&&o?qg.vibrateShort({}):o&&CC_WECHATGAME&&wx.vibrateShort({})},i.vibrateLong=function(){window.qg&&o?qg.vibrateLong({}):o&&CC_WECHATGAME&&wx.vibrateLong({})},cc._RF.pop()},{}],YouziBoxManager:[function(t,e,i){"use strict";cc._RF.push(e,"6a9a8rOkk1I5oGdyeS4hdsN","YouziBoxManager");var o=t("./YouziData"),n=function(){function t(){this.referrerInfo={}}var e=t.prototype;return e.wxLaunch=function(t){t.referrerInfo&&t.referrerInfo.appId&&t.referrerInfo.extraData&&t.referrerInfo.extraData.togame&&(this.referrerInfo=t.referrerInfo.extraData,this.referrerInfo.appid=t.referrerInfo.appId),t.query&&t.query.appid&&t.query.togame&&(this.referrerInfo=t.query,this.referrerInfo.appid=t.query.appid),t.query&&this.referrerInfo&&t.query.anChannelId&&(this.referrerInfo.anChannelId=t.query.anChannelId,this.referrerInfo.ioChannelId=t.query.ioChannelId)},e.wxOnShow=function(t){1037==t.scene&&(t.referrerInfo&&t.referrerInfo.appId&&t.referrerInfo.extraData&&t.referrerInfo.extraData.togame&&(this.referrerInfo=t.referrerInfo.extraData,this.referrerInfo.appid=t.referrerInfo.appId),t.query&&t.query.appid&&t.query.togame&&(this.referrerInfo=t.query,this.referrerInfo.appId=t.query.appid),t.query&&this.referrerInfo&&t.query.anChannelId&&(this.referrerInfo.anChannelId=t.query.anChannelId,this.referrerInfo.ioChannelId=t.query.ioChannelId))},e.sendExposureLog=function(t,e){o.YouziData.sendExposureLog(t,e)},e.sendBox2Open=function(){var t=o.YouziData.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),e=this.referrerInfo&&this.referrerInfo.appid?this.referrerInfo.appid:o.YouziData.appid,i=this.referrerInfo&&this.referrerInfo.togame?this.referrerInfo.togame:o.YouziData.appid;o.YouziData._userinfo.uid||o.YouziData._loadUid();var n={logType:"box2open",channelId:o.YouziData.channelId,orgAppid:e,uid:o.YouziData._userinfo.uid,languageType:1,jumpAppid:i,boxAppid:o.YouziData.appid,locationIndex:o.BI_PAGE_TYPE.BUY_Screen,recommendType:1,screenId:1,dt:t,sdkVersion:o.YouziData.SdkVersion};console.log(n),o.YouziData.logNavigate(n,function(t){console.log("log event sendBox2Open success---")})},e.navigateToOtherGame=function(t,e){if(CC_WECHATGAME){o.YouziData._userinfo.uid||o.YouziData._loadUid();var i=o.YouziData.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),n=this.referrerInfo&&this.referrerInfo.appid?"jump2app":"box2app",s=this.referrerInfo&&this.referrerInfo.appid?this.referrerInfo.appid:o.YouziData.appid,a=function(t){console.log(n+" event logged success---")},c=o.YouziData._userinfo.uid,r=this.referrerInfo.userType?this.referrerInfo.userType:1,l={logType:n,userType:r,channelId:o.YouziData.channelId,orgAppid:s,uid:c,languageType:1,jumpAppid:t.appid,boxAppid:this.referrerInfo.boxAppid?this.referrerInfo.boxAppid:o.YouziData.appid,locationIndex:t.locationIndex?t.locationIndex:this.referrerInfo.locationIndex,recommendType:3,screenId:1,dt:i,sdkVersion:o.YouziData.SdkVersion},h=t.appid,d=o.YouziData.appid;t.boxAppId&&t.boxAppId!=o.YouziData.appid&&(!0,d=h=t.boxAppId);var u={togame:t.appid,boxAppid:d,orgAppid:s,YouziFixUID:c,userType:r},p=null;if(t.miniProgramArgs&&""!=t.miniProgramArgs&&(p=t.miniProgramArgs),(t.anChannelId||t.ioChannelId)&&(p=null!=p?p+"&anChannelId="+t.anChannelId+"&ioChannelId="+t.ioChannelId:"?anChannelId="+t.anChannelId+"&ioChannelId="+t.ioChannelId),console.log("mimiProgramPath:"+p),t.miniGameArgs&&""!=t.miniGameArgs){var f=JSON.parse(t.miniGameArgs),m=Object.keys(f)[0];if("togame"==m||"boxAppid"==m||"orgAppid"==m)return void console.log("\u8054\u8fd0\u9644\u52a0key\u503c\u51b2\u7a81");u[m]=f[m]}console.log("extraData"+JSON.stringify(u)),wx.navigateToMiniProgram({appId:h,path:p,extraData:u,success:function(t){o.YouziData.logNavigate(l,a),e&&e("success"),console.log("box manager navigateToMiniProgram success")},fail:function(t){console.log("box manager navigateToMiniProgram fail"),e&&e("fail")}})}},t}();window.YouziBoxManager=new n,cc._RF.pop()},{"./YouziData":"YouziData"}],YouziData:[function(t,e,i){"use strict";cc._RF.push(e,"24f428+FvdLp7QsZYFPZVav","YouziData"),Object.defineProperty(i,"__esModule",{value:!0});var o=i.BANNER_TYPE={MATRIX:1,WX:2,GAME:3,SWITCH:4},n=(i.NAME_HIDE_KEY={BottomBanner_CloseBtn:"_bottomBannerCloseBtnHide",BottomBanner_Name:"_bottomBannerNameHide",MoreGame_Name:"_moreGameNameHide",SlideWindow_Name:"_slideWindowNameHide",FullScreen_Name:"_fullScrennNameHide",SmallWall_Name:"_smallWallNameHide",MainPush_Name:"_mainPushNameHide"},i.ScrollTween_Type={Type_Zero:0,Type_One:1}),s=i.PLAT_TYPE_CHANNELID={Test:1002,WeChat:1002,Oppo:8001,TouTiao:11001},a=2,c=3,r=i.BI_PAGE_TYPE={MAIN:1,FLOAT:2,MATRIX:3,GUESS:4,MORE:5,GAME:6,OFFLINE:7,BUY_Screen:8,BUY_BOX:9,SMALL_MATRIX_WALL:10,FULL_MATRIX_SCRENN:11,INVITE_FRIEND_PLAYGAME:12,CUSTOM_COMPONENT:9999},l=1,h=2,d=3,u=4,p=5,f=7,m=8,g=9,v=10,y=11,_=i.YouziData={SdkVersion:"6.2.1",resVersion:"1.00.00",debug:!1,appid:"",channelId:1002,bannnerDatas:[],itemListDatas:[],hotListDatas:[],moreDatas:[],matrixBannerDatas:[],mainRecDatas:[],buyListDatas:[],gameBannerDatas:[],offlineBannerDatas:[],fullMatrixScrennDatas:[],friendInviteGameDatas:[],allBeRecommendGames:{},screenType:1,_userinfo:{uid:"",gender:0,type:1},_platform:cc.sys.os==cc.sys.OS_ANDROID?a:c,_isDataLoaded:!1,_isLoadFinish:!1,_requestErrorCbs:[],_loadedCallBacks:[],_bannerType:o.MATRIX,_banerShowSwitchInterval:10,_bannerCreateInterval:20,_pageOpen:1,_bannerSwitchs:[],_provinceAllow:1,_bottomBannerScrollType:n.Type_Zero,_bottomBannerCloseBtnHide:!0,_bottomBannerNameHide:!1,_moreGameNameHide:!1,_slideWindowNameHide:!1,_fullScrennNameHide:!1,_smallWallNameHide:!1,_mainPushNameHide:!1,_mainPushScale:1.2,mainRecAmount:1,isInit:!1,logObj:{},logCount:0,_cancelCallback:[],_touTiaoGames:[],_nameList:["bannnerDatas","itemListDatas","hotListDatas","moreDatas","matrixBannerDatas","fullMatrixScrennDatas","gameBannerDatas","buyListDatas"],touTiaoAllow:!1,openFullScreenNavigate:!1,gamePageCloseCall:null,createGamePageCall:null,init:function(t,e,i){var o=this;this.isInit||(console.log("\u4e2d\u5fc3\u5316\u521d\u59cb\u5316 SdkVersion",this.SdkVersion,t,e,i),console.log(this.debug),this.isInit=!0,this.appid=t||"",this.resVersion=e||"1.00.00",this.channelId=i||1002,this._loadUid(),this.touTiaoChannelCheck()&&(this._wxLaunch(),setInterval(function(){o.logCount>0&&o.logCount<15&&o.exposureLogMerge()},1e4),this._loadData(this._initBannerShow.bind(this)),this.initLaunch()))},initLaunch:function(){this.channelId===s.WeChat?this._wxLaunch():this.channelId===s.Oppo&&this.oppoLaunch()},touTiaoChannelCheck:function(){if(this.channelId===s.TouTiao){var t=tt.getSystemInfoSync();return this.compareToutiaoVersion(t.SDKVersion,"1.33.0")<0||this._platform===c?(this.touTiaoAllow=!1,!1):(this.touTiaoAllow=!0,!0)}return this.touTiaoAllow=!0,!0},compareToutiaoVersion:function(t,e){t=t.split("."),e=e.split(".");for(var i=Math.max(t.length,e.length);t.length<i;)t.push("0");for(;e.length<i;)e.push("0");for(var o=0;o<i;o++){var n=parseInt(t[o]),s=parseInt(e[o]);if(n>s)return 1;if(n<s)return-1}return 0},getRandomArrayElements:function(t,e){for(var i,o,n=t.length;n;)o=Math.floor(Math.random()*n--),i=t[n],t[n]=t[o],t[o]=i;return t.slice(0,e)},getRandomElementFromArray:function(t){return t[Math.floor(Math.random()*t.length)]},getMainNum:function(t){if(!t||0===t.length)return[0,!1];var e=t.length,i=_.mainRecAmount,o=_.mainRecDatas.length;return e>=i?i>=o?[o,!1]:[i,!0]:e>=o?[o,!1]:[e,!0]},getGamesIndex:function(t,e){for(var i=[],o=0;o<t;o++)i.push(o);if(t<=e)return i;for(var n=void 0,s=void 0;t;)s=Math.floor(Math.random()*t--),n=i[t],i[t]=i[s],i[s]=n;return i.slice(0,e)},_wxLaunch:function(){if(window.wx&&wx.getLaunchOptionsSync){this._wxUserCloudStorage();var t=this,e=wx.getLaunchOptionsSync();this.checkUserIsImported(e),e.referrerInfo&&e.referrerInfo.appId&&e.referrerInfo.extraData&&e.referrerInfo.extraData.boxAppid&&e.referrerInfo.extraData.orgAppid?this.sendJumpToOpen(e.referrerInfo.extraData.orgAppid,e.referrerInfo.extraData.boxAppid,e.referrerInfo.extraData.locationIndex?e.referrerInfo.extraData.locationIndex:r.CUSTOM_COMPONENT):this.openGameInitLog(),wx.onShow(function(e){t._wxOnShow(e)})}},_wxUserCloudStorage:function(){wx.setUserCloudStorage({KVDataList:[{key:"GameleyYouzi",value:this._userinfo.uid}],success:function(){console.log("GameleyYouzi success")},fail:function(){console.log("GameleyYouzi fail")}})},_wxOnShow:function(t){console.log("wx onShow--------------"),this.checkUserIsImported(t),t.referrerInfo&&t.referrerInfo.extraData&&t.referrerInfo.extraData.boxAppid&&t.referrerInfo.extraData.orgAppid&&this.sendJumpToOpen(t.referrerInfo.extraData.orgAppid,t.referrerInfo.extraData.boxAppid,t.referrerInfo.extraData.locationIndex?t.referrerInfo.extraData.locationIndex:r.CUSTOM_COMPONENT)},checkUserIsImported:function(t){(t.referrerInfo&&t.referrerInfo.adChannelId&&t.referrerInfo.adSubChannelId||t.query&&t.query.adChannelId&&t.query.adSubChannelId)&&(this._userinfo.type=2),(t.referrerInfo&&t.referrerInfo.leuokShareIn||t.query&&t.query.leuokShareIn)&&(this._userinfo.type=3);var e=!1;if(t.referrerInfo&&t.referrerInfo.extraData&&(t.referrerInfo.extraData.YouziFixUID&&t.referrerInfo.extraData.YouziFixUID.trim().length>0?(e=!0,this._userinfo.uid=t.referrerInfo.extraData.YouziFixUID):t.referrerInfo.extraData.YouziUID&&t.referrerInfo.extraData.YouziUID.trim().length>0&&(e=!0,this._userinfo.uid=t.referrerInfo.extraData.YouziUID)),t.query&&t.query.extraData&&t.query.extraData.YouziUID&&(e=!0,this._userinfo.uid=t.query.YouziUID),e)try{localStorage.setItem("YOUZI_UID",this._userinfo.uid)}catch(t){console.log("set uid to localstorage fail! current uid: "+this._userinfo.uid)}},oppoLaunch:function(){if(window.qg&&qg.getLaunchOptionsSync){var t=qg.getLaunchOptionsSync();this.checkUserIsImported(t),t.referrerInfo&&t.referrerInfo.extraData&&t.referrerInfo.extraData.orgAppid&&this.sendJumpToOpen(t.referrerInfo.extraData.orgAppid,t.referrerInfo.extraData.boxAppid,t.referrerInfo.extraData.locationIndex?t.referrerInfo.extraData.locationIndex:r.CUSTOM_COMPONENT)}},_loadData:function(t){var e=this,i={appid:e.appid,channelId:e.channelId,languageType:1,uid:e._userinfo.uid,version:e.resVersion},n=function(){console.log("\u4e2d\u5fc3\u5316\u6570\u636e\u5f02\u5e38"),e._isLoadFinish=!0;for(var t=0;t<e._requestErrorCbs.length;t++){var i=e._requestErrorCbs[t];i&&i()}},a=function(i){var n=JSON.parse(JSON.stringify(i));if(console.log("\u4e2d\u5fc3\u5316\u6570\u636eOK",n),i&&i.info&&i.info.swith&&1==i.info.swith){e._pageOpen=i.info.status,e._bannerType=i.info.bannerSwith,e._banerShowSwitchInterval=i.info.bannerAutoInterval,e._bannerCreateInterval=i.info.wxBannerRefresh,e._provinceAllow=i.info.provinceAllow,e.mainRecAmount=i.info.mainRecAmount,e.screenType=i.info.screenType,e._bottomBannerCloseBtnHide=e.jsonHasKey(i.info,"bottomBannerCloseBtnHide")?i.info.bottomBannerCloseBtnHide:e._bottomBannerCloseBtnHide,e._bottomBannerNameHide=e.jsonHasKey(i.info,"bottomBannerNameHide")?i.info.bottomBannerNameHide:e._bottomBannerNameHide,e._mainPushNameHide=e.jsonHasKey(i.info,"mainPushNameHide")?i.info.mainPushNameHide:e._mainPushNameHide,e._bottomBannerScrollType=e.jsonHasKey(i.info,"bottomBannerScrollType")?i.info.bottomBannerScrollType:e._bottomBannerScrollType,e._mainPushScale=e.jsonHasKey(i.info,"mainPushScale")>0?i.info.mainPushScale:1.2;for(var a=function(t,e){return e.weight-t.weight},c=function(t){return t=t.sort(a),t=e._clearArrIndex(t),t=e._removeItemByTestPeriod(t)},r=0;r<i.info.recommendListBos.length;r++){var _=i.info.recommendListBos[r];switch(_.contentBos.forEach(function(t){e.allBeRecommendGames.hasOwnProperty.call({},t.appid)||(e.allBeRecommendGames[t.appid]=Object.assign({},t))}),_.type){case l:e.bannnerDatas=c(_.contentBos);break;case h:e.itemListDatas=c(_.contentBos);break;case d:e.hotListDatas=c(_.contentBos);break;case m:e.moreDatas=c(_.contentBos),e.channelId===s.TouTiao&&_.type===u&&e.moreDatas.forEach(function(t){e._touTiaoGames.push(e._genTouTiaoData(t))});break;case g:e.matrixBannerDatas=c(_.contentBos);break;case v:e.fullMatrixScrennDatas=c(_.contentBos);break;case u:e.mainRecDatas=c(_.contentBos);break;case p:e.gameBannerDatas=c(_.contentBos);break;case f:e.buyListDatas=c(_.contentBos);break;case y:e.friendInviteGameDatas=c(_.contentBos);break;default:console.error("\u4e2d\u5fc3\u5316\u6570\u636e\u7c7b\u578b\u9519\u8bef",_.type)}}e.moreDatas.length&&e._nameList.forEach(function(t){e[t].length||(e[t]=e.moreDatas.slice())})}e._isDataLoaded=!0,e._isLoadFinish=!0,t&&t(i);for(var C=0;C<e._loadedCallBacks.length;C++){var A=e._loadedCallBacks[C];A&&A()}e._bannerType==o.SWITCH&&(e.refreshBannerSwitch(),setInterval(e.refreshBannerSwitch.bind(e),1e3*e._banerShowSwitchInterval))};e.channelId===s.WeChat?e._getWxUserInfo(function(){e._request("POST",i,e._url(),a,n)}):e._request("POST",i,e._url(),a,n)},_genTouTiaoData:function(t){t.appid;var e="leuokNull";t.boxAppId&&""!=t.boxAppId&&(!0,e=t.boxAppId);var i={togame:t.appid,boxAppid:e,orgAppid:this.appid,YouziUID:this.uid,YouziFixUID:this._userinfo.uid,userType:this._userinfo.type,locationIndex:t.locationIndex||r.CUSTOM_COMPONENT};if(t.miniGameArgs&&""!=t.miniGameArgs){var o=JSON.parse(t.miniGameArgs),n=Object.keys(o)[0];if("togame"==n||"boxAppid"==n||"orgAppid"==n)return void console.log("\u8054\u8fd0\u9644\u52a0key\u503c\u51b2\u7a81");i[n]=o[n]}return{appId:t.appid,extraData:i}},_clearArrIndex:function(t){for(var e=[],i=0;i<t.length;i++){var o=t[i];this._pushData(o.hide)&&e.push(o)}for(var n=[],s=0;s<e.length;s++){var a=e[s];this._pushDataBySexual(a.gender)&&n.push(a)}return n},_request:function(t,e,i,o,n){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400)if(""!=s.responseText){var t=JSON.parse(s.responseText);o&&o(t)}else o&&o({});else n&&n()},s.open(t,i,!0),s.setRequestHeader("content-type","application/json"),s.send(JSON.stringify(e))},_loadUid:function(){try{var t=localStorage.getItem("YOUZI_UID");t&&t.trim().length>0?this._userinfo.uid=t:(this._userinfo.uid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),localStorage.setItem("YOUZI_UID",this._userinfo.uid))}catch(t){this._userinfo.uid="10001"}},_removeItemByTestPeriod:function(t){for(var e=0;e<t.length;e++){var i=t[e];if(1!=i.testPeriod&&3!=i.testPeriod||0!=i.showLimit){if(2==i.testPeriod){var o=localStorage.getItem(i.appid);o&&"CPACPS"==o&&(t.splice(e,1),e--)}}else{var n=localStorage.getItem(i.appid);if(n&&"navigated"==n)continue;t.splice(e,1),e--}}return t},_url:function(){return this.debug?"https://test.gw.leuok.com/gl-ms-mini-recommend/recommend/show":"https://gw.lightlygame.com/gl-ms-mini-recommend/recommend/show"},_pushData:function(t){var e=!1;switch(t){case 1:e=!0;break;case 2:this._platform==a&&(e=!0);break;case 3:this._platform==c&&(e=!0);break;default:e=!1}return e},_pushDataBySexual:function(t){var e=!1;switch(t){case 0:e=!0;break;case 1:1==this._userinfo.gender&&(e=!0);break;case 2:2==this._userinfo.gender&&(e=!0);break;default:e=!1}return e},_getWxUserInfo:function(t){var e=this;window.wx&&wx.getUserInfo?wx.getUserInfo({success:function(i){e._userinfo.gender=i.userInfo.gender,t()},fail:function(e){t()}}):t()},_loadTexture:function(t,e){cc.loader.loadRes(e,function(e,i){e?console.error(e):t.spriteFrame=new cc.SpriteFrame(i)})},fullScreenRandomNavigate:function(){if(this.openFullScreenNavigate&&this.mainRecDatas.length>0){var t=this.getRandomElementFromArray(this.mainRecDatas);this.startOtherGame(t,null,null,null)}},startOtherGame:function(t,e,i,o){1==t.jumpShowPage?this.gamePageStartOtherGame(t,e,i,o):this.switchStartOtherGame(t,e,i,o)},gamePageStartOtherGame:function(t,e,i,o){if(this.channelId!=s.TouTiao)if(this.createGamePageCall){var n=this,a=n.jsonHasKey(t,"locationIndex")?t.locationIndex:null;if(!a)return void this.switchStartOtherGame(t,e,i,o);this.createGamePageCall(a,t,function(){var s=setTimeout(function(){console.log("\u843d\u5730\u9875\u5c55\u793a1.5\u79d2\u5f00\u59cb\u8df3\u8f6c"),n.switchStartOtherGame(t,e,i,o),clearTimeout(s)},1500)})}else this.switchStartOtherGame(t,e,i,o);else this.switchStartOtherGame(t,e,i,o)},switchStartOtherGame:function(t,e,i,o){switch(this.channelId){case s.WeChat:1==t.codeJump?this.wxPreviewImage(t.chopencode||t.vopencode||t.hopencode,t,e):this.navigateToOtherGame(t,e,i,o);break;case s.Oppo:this.navigateToOppoMiniGame(t,e,i,o);break;case s.TouTiao:this.navigateToTouTiaoMiniGame(t,e,i,o)}},sendExposureLog:function(t,e){t?(this.logCount++,e=e||r.CUSTOM_COMPONENT,this.logObj.hasOwnProperty(e)||(this.logObj[e]=""),this.logObj[e]+=t.appid+",",this.logCount>=15&&this.exposureLogMerge()):console.warn("\u53d1\u9001\u66dd\u5149\u65e5\u5fd7\u65f6,data\u4e0d\u5b58\u5728",t,e)},exposureLogMerge:function(){var t=this,e=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),i=this.logObj;this.logObj={},this.logCount=0,Object.keys(i).forEach(function(o){var n={logType:"exposure",channelId:t.channelId,orgAppid:t.appid,uid:t._userinfo.uid,languageType:1,jumpAppid:i[o].slice(0,-1),locationIndex:Number(o),recommendType:1,screenId:1,dt:e,sdkVersion:t.SdkVersion};t.logNavigate(n,function(t){})})},navigateToOtherGame:function(t,e,i,o){if(window.wx){if(wx.navigateToMiniProgram){var n=this,s=t.appid,a=!1,c="leuokNull";t.boxAppId&&""!=t.boxAppId&&(a=!0,c=s=t.boxAppId);var r={togame:t.appid,boxAppid:c,orgAppid:n.appid,YouziUID:n.uid,YouziFixUID:n._userinfo.uid,userType:n._userinfo.type,locationIndex:t.locationIndex},l=null;if(t.miniProgramArgs&&""!=t.miniProgramArgs&&(l=t.miniProgramArgs),(t.anChannelId||t.ioChannelId)&&(l=null!=l?l+"&anChannelId="+t.anChannelId+"&ioChannelId="+t.ioChannelId:"?anChannelId="+t.anChannelId+"&ioChannelId="+t.ioChannelId),console.log("mimiProgramPath:"+l),t.miniGameArgs&&""!=t.miniGameArgs){var h=JSON.parse(t.miniGameArgs),d=Object.keys(h)[0];if("togame"==d||"boxAppid"==d||"orgAppid"==d)return void console.log("\u8054\u8fd0\u9644\u52a0key\u503c\u51b2\u7a81");r[d]=h[d]}console.log("extraData"+JSON.stringify(r)),wx.navigateToMiniProgram({appId:s,path:l,extraData:r,success:function(i){n.closeGamePage(),a?n.sendGameToBox(t):n.sendGameToGame(t),a=!1,e&&e(),console.log("navigateToMiniProgram success"),t.testPeriod&&"1"==t.testPeriod?localStorage.setItem(t.appid,"navigated"):"2"==t.testPeriod&&localStorage.setItem(t.appid,"CPACPS")},fail:function(t){console.log("cancel jump to other game!",t),n.closeGamePage();try{"number"==typeof o&&o>=0&&n._cancelCallback.length&&(console.log("cancelType---\x3e"+o),n._cancelCallback[o]())}catch(t){console.log("open cancel ui failed")}}})}}else"number"==typeof o&&o>=0&&(console.log("cancelType---\x3e"+o),this._cancelCallback[o]())},navigateToTouTiaoMiniGame:function(t,e,i,o){var n=this;tt.showMoreGamesModal({appLaunchOptions:n._touTiaoGames,success:function(i){n.sendGameToGame(t),e&&e(!0),console.log("toutiao moregame show success")},fail:function(t){e&&e(!1),console.log("toutiao moregame show fail")}})},navigateToOppoMiniGame:function(t,e,i,o){if(this.debug)console.log("oppo\u5c0f\u6e38\u620f\u8df3\u8f6c\u6210\u529f");else{var n=this,s=t.pkgName.replace(/\s*/g,""),a={togame:t.appid,boxAppid:"leuokNull",orgAppid:n.appid,YouziUID:n.uid,YouziFixUID:n._userinfo.uid,userType:n._userinfo.type,locationIndex:t.locationIndex,anChannelId:t.anChannelId,ioChannelId:t.ioChannelId};qg.navigateToMiniGame({pkgName:s,extraData:a,success:function(){n.closeGamePage(),n.sendGameToGame(t),e&&e(!0),console.log("oppo\u5c0f\u6e38\u620f\u8df3\u8f6c\u6210\u529f")},fail:function(t){n.closeGamePage(),e&&e(!1),console.log("oppo\u5c0f\u6e38\u620f\u8df3\u8f6c\u5931\u8d25\uff1a",JSON.stringify(t))}})}},closeGamePage:function(){this.gamePageCloseCall&&(this.gamePageCloseCall(),this.gamePageCloseCall=null)},sendJumpToOpen:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.CUSTOM_COMPONENT,o="jump2open";"leuokNull"==e&&(o="app2open",e="");var n=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),s={logType:o,userType:this._userinfo.type,channelId:this.channelId,orgAppid:t,boxAppid:e,uid:this._userinfo.uid,languageType:1,jumpAppid:this.appid,locationIndex:i,recommendType:1,screenId:1,dt:n,sdkVersion:this.SdkVersion};console.log(s),this.logNavigate(s,function(t){console.log("log event sendJumpToOpen success---")})},openGameInitLog:function(){var t=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),e={logType:"login",channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,dt:t,sdkVersion:this.SdkVersion};this.logNavigate(e,function(){console.log("log event sendYouziSdk init success---")})},sendGameToGame:function(t){var e=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),i={logType:"app2app",userType:this._userinfo.type,channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,languageType:1,jumpAppid:t.appid,locationIndex:t.locationIndex,recommendType:t.type,screenId:1,dt:e,sdkVersion:this.SdkVersion};console.log(i),this.logNavigate(i,function(t){console.log("log event success---")})},sendGameToBox:function(t){var e=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),i={logType:"jump2box",userType:this._userinfo.type,channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,languageType:1,boxAppid:t.boxAppId,jumpAppid:t.appid,locationIndex:t.locationIndex,recommendType:t.type,screenId:1,dt:e,sdkVersion:this.SdkVersion};console.log(i),this.logNavigate(i,function(t){console.log("log event success---")})},wxPreviewImage:function(t,e,i){var o=this;wx.previewImage({current:t,urls:[t],success:function(){i&&i(),o.sendGameByQrcode(e)}})},sendGameByQrcode:function(t){var e=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),i={logType:"showcode",userType:this._userinfo.type,channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,languageType:1,jumpAppid:t.appid,locationIndex:t.locationIndex,recommendType:t.type,screenId:1,dt:e,sdkVersion:this.SdkVersion};console.log(i),this.logNavigate(i,function(t){console.log("log event success---")})},logNavigate:function(t,e){console.log("send log"),this.debug||this._request("POST",t,"https://bi.log.lightlygame.com/recommend/",e)},YouziDateFtt:function(t,e){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[o]:("00"+i[o]).substr((""+i[o]).length)));return t},getDatasByBIType:function(t){return 1==t?this.mainRecDatas:2==t?this.hotListDatas:3===t||4==t?this.matrixBannerDatas:5===t||10===t?this.moreDatas:6==t?this.gameBannerDatas:7==t?this.offlineBannerDatas:8==t||9==t?this.buyListDatas:11==t?this.fullMatrixScrennDatas:(console.error("\u672a\u627e\u5230\u4e2d\u5fc3\u5316\u6570\u636e locationIndex",t),[])},_initBannerShow:function(){if(this._bannerType==o.MATRIX||this._bannerType==o.GAME||this._bannerType==o.WX)for(var t=0;t<this._bannerSwitchs.length;t++){var e=this._bannerSwitchs[t];e&&e.bannerType==this._bannerType?e.showBanner():e&&e.hideBanner()}else if(this._bannerType==o.SWITCH)for(var i=0;i<this._bannerSwitchs.length;i++){var n=this._bannerSwitchs[i];n&&n.bannerType==o.MATRIX?n.showBanner():n&&n.hideBanner()}},addBanner:function(t){this._destroyUnuseWxBanner(t),this._bannerSwitchs.push(t),this._isDataLoaded&&this._initBannerShow()},refreshBannerSwitch:function(){this.curBannerType||(this.curBannerType=o.WX),this.curBannerType=this.curBannerType==o.WX?o.MATRIX:o.WX;for(var t=0;t<this._bannerSwitchs.length;t++){var e=this._bannerSwitchs[t];e&&e.bannerType==this.curBannerType?e.showBanner():e&&e.hideBanner()}},_destroyUnuseWxBanner:function(t){if(t.bannerType==o.WX)for(var e=0;e<this._bannerSwitchs.length;e++){var i=this._bannerSwitchs[e];if(i&&i.bannerType==o.WX)return i.destroySelf(),void this._bannerSwitchs.splice(e,1)}},_checkExposureInview:function(t,e,i,o,n){for(var s=[],a=0;a<t.length;a++){var c=t[a],r=this._getDataByAppid(o,c.name);if(r){var l=c.convertToWorldSpace(cc.v2(0,0));e?l.x<e&&(this.sendExposureLog(r,n),s.push(r.appid)):i&&l.y>i&&(this.sendExposureLog(r,n),s.push(r.appid))}else console.warn("\u6570\u636e\u4e22\u5931 appid:",c.name)}return s},_checkExposureInview1:function(t,e,i,o,n,s,a,c){for(var r=0,l=0;l<t.length;l++){var h=t[l],d=this._getDataByAppid(i,h.name);if(d){var u=h.convertToWorldSpaceAR(cc.v2(-h.width/2,h.height/2));e?u.y>=a&&u.y<=c&&(this.sendExposureLog(d,o),r++):u.x>=n&&u.x<=s&&(this.sendExposureLog(d,o),r++)}else console.warn("\u6570\u636e\u4e22\u5931 appid:",h.name)}return r},_hideShowChild:function(t,e,i,o,n,s){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(!(t.length<5))for(var c=void 0,r=void 0,l=0;l<t.length;l++)r=(c=t[l].children[0]).convertToWorldSpaceAR(cc.v2(-c.width/2,c.height/2)),e?r.y>=n&&r.y<=s?c.active=!0:a&&(c.active=!1):r.x>=i&&r.x<=o?c.active=!0:a&&(c.active=!1)},getDataFromAllGameObj:function(t){return this.allBeRecommendGames[t]},_getDataByAppid:function(t,e){for(var i=0;i<t.length;i++)if(t[i].appid==e)return t[i];return null},scrollviewAction:function(t,e,i,o,s){if(t&&t.content){var a=t.content.children.length;if(a<=i)return;var c=void 0;c=o||e*(a-1);var r=t.vertical;switch(s){case n.Type_Zero:this.scrollToAndBottom(t,r,c);break;case n.Type_One:this.scrollToEndForever(t,r,c);break;default:this.scrollToAndBottom(t,r,c)}}},scrollToAndBottom:function(t,e,i){t.node.stopAllActions(),t.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t&&t.content&&(e?t.getScrollOffset().y>t.getMaxScrollOffset().y/2?t.scrollToTop(i,!1):t.scrollToBottom(i,!1):t.getScrollOffset().x<-t.getMaxScrollOffset().x/2?t.scrollToLeft(i,!1):t.scrollToRight(i,!1))}),cc.delayTime(i-1))))},scrollToEndForever:function(t,e,i){t.node.stopAllActions(),t.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t&&t.content&&(e?(t.getScrollOffset().y>t.getMaxScrollOffset().y/2&&t.scrollToTop(0),t.scrollToBottom(i,!1)):(t.getScrollOffset().x<-t.getMaxScrollOffset().x/2&&t.scrollToLeft(0),t.scrollToRight(i,!1)))}),cc.delayTime(i-1))))},BI_AppOnce:function(t){var e=this.getBI();e&&e.leuok&&e.leuok.appOnce(t)},BI_Action:function(t){var e=this.getBI();e&&e.leuok&&e.leuok.action(t)},BI_WXBannerError:function(t){var e=this.getBI();e&&e.leuok&&e.leuok.error(t)},getBI:function(){return"undefined"!=typeof wx?wx:"undefined"!=typeof BK?BK:"undefined"!=typeof qg?qg:"undefined"!=typeof window?window:void 0},openFullNavigate:function(t){this.openFullScreenNavigate=t},getOpenFullNavigate:function(){return this.openFullScreenNavigate},jsonHasKey:function(t,e){return t.hasOwnProperty(e)},getBottomCloseBtnHide:function(){return this._bottomBannerCloseBtnHide},getBottomNameHide:function(){return this._bottomBannerNameHide},getMainNameHide:function(){return this._mainPushNameHide},getMainNameHideScale:function(){return this._mainPushScale},getDataLoaded:function(){return this._isDataLoaded},getYouziInviteGameFilterDatas:function(t){C.youziInviteGameFilterDatas(t)},setPropertiesValue:function(t,e){this[t]=e},getPropertiesValue:function(t){return this[t]},getSubFloatNumber:function(t,e){var i=t+"";if(-1==i.indexOf("."))return t;var o=i.substring(0,i.indexOf(".")+e+1);return Number(o)}},C={inviteGameAllInLine:!1,youziInviteGameFilterDatas:function(t){var e=this;if(this.inviteGameAllInLine)t(_.friendInviteGameDatas);else{var i=[];C.getWechatSaveData("YZ_USER_DATA",function(o){o?(i=C.getInviteGameDataAnalyse(o),t(i),e.inviteGameAllInLine=i.length==_.friendInviteGameDatas.length):t(i)})}},getInviteGameDataAnalyse:function(t){var e=this;return _.friendInviteGameDatas.length>0?_.friendInviteGameDatas.filter(function(i){return!!i.hasOwnProperty("goodCondition")&&e.inviteGameDataFilterCondition(t,i.goodCondition)}):(console.log("YouziInviteGameDataAnalyse null"),[])},inviteGameDataFilterCondition:function(t,e){for(var i=0,o=(e=JSON.parse(e)).length-1;o>=0;o--){var n=t[e[o].type];if(!n)break;if(!(n>=Number(e[o].num)))break;i+=1}return 0!=i&&0!=e.length&&i>=e.length},getWechatSaveData:function(t,e){wx.getStorage({key:t,success:function(t){e&&(console.log("Y_U_I",t.data),e(t.data))},fail:function(){e&&e({})}})}};window.YouziData=_,cc._RF.pop()},{}],YouziUI_Box:[function(t,e,i){"use strict";cc._RF.push(e,"12c67A6DtdDhLd6HtGehXB9","YouziUI_Box"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateBox=function(t,e){try{cc.loader.loadRes("youzi/prefabs/YouziUI_Box",function(i,o){e=e||{};var s=cc.instantiate(o);s.position=cc.v2(0,0),t.addChild(s);var a=s.getComponent(n);a.DIY(e),e.callback&&e.callback(s)})}catch(i){console.error("YouziCreateBox \u751f\u6210\u9519\u8bef",t,e)}};var o=t("./YouziData"),n=cc.Class({extends:cc.Component,properties:{mainCellPrefab:{type:cc.Prefab,default:null},hotCellPrefab:{type:cc.Prefab,default:null}},onLoad:function(){this.main=[],this.hot=[],this.buy=[],this.BILOG_GROUP=99,this.gameSceneName=null,this.boxNode=this.node.getChildByName("Box"),this.luodiNode=this.node.getChildByName("LuoDi"),this.startBtnNode=this.luodiNode.getChildByName("startButton"),this.luodiSmallImg=this.luodiNode.getChildByName("Small").getComponent(cc.Sprite),this.luodiBigImg=this.luodiNode.getChildByName("Big").getComponent(cc.Sprite),this.boxSrc=this.boxNode.getChildByName("ScrollView").getComponent(cc.ScrollView),this.closeLuoDiBtn=this.luodiNode.getChildByName("closeButton").getComponent(cc.Button),this.luodiBtn=this.luodiNode.getComponent(cc.Button)},start:function(){o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:1}),this.initShow()},DIY:function(t){this.gameSceneName=t.gameSceneName},initShow:function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="YouziUI_Box",t.handler="closeLuoDi",this.closeLuoDiBtn.clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="YouziUI_Box",e.handler="btnLuoDiClick",this.luodiBtn.clickEvents.push(e),o.YouziData._isDataLoaded?(this.loadDataBI(),this.freshShow()):o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},loadDataBI:function(){!(o.YouziData.hotListDatas.length>0||o.YouziData.moreDatas.length>0||o.YouziData.matrixBannerDatas.length>0)&&o.YouziData.mainRecDatas.length<=0?(o.YouziData.BI_AppOnce({actionNumber:1006}),o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:10}),this.goGame()):(o.YouziData.BI_AppOnce({actionNumber:1005}),o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:3}))},freshShow:function(){this.loadDataBI();var t=this;if("undefined"!=typeof wx){var e=wx.getLaunchOptionsSync();YouziBoxManager.wxLaunch(e),this.initUI(e);wx.onShow(function(e){YouziBoxManager.wxOnShow(e),t.initUI(e)})}else o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:15}),this.goGame()},initUI:function(t){this.startBtnNode.active=!1,this.boxSrc.content.removeAllChildren(!0),console.log("\u5fae\u4fe1\u542f\u52a8\u53c2\u6570",t),t.query&&t.query.adChannelId?this.getRecommend(!0):t.referrerInfo&&t.referrerInfo.extraData&&t.referrerInfo.extraData.adChannelId?this.getRecommend(!0):this.getRecommend(!1)},getRecommend:function(t){if(0==o.YouziData._provinceAllow)return o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:11}),void this.goGame();o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:4});var e=wx.getStorageSync("userType")||0;if(0==e){if(!t)return o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:12}),wx.setStorageSync("userType",2),wx.setStorageSync("inTimes",1),void this.goGame();o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:5}),wx.setStorageSync("userType",1)}else if(1==e)o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:17});else{if(2!=e)return o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:14}),void this.goGame();if(t)o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:18}),wx.setStorageSync("userType",1);else{var i=wx.getStorageSync("inTimes")||0;if(i+=1,wx.setStorageSync("inTimes",i),i<3)return o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:13}),void this.goGame();o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:16}),wx.setStorageSync("userType",1)}}if(this.main=o.YouziData.mainRecDatas,this.hot=o.YouziData.hotListDatas,this.buy=o.YouziData.buyListDatas,console.log("\u4e3b\u63a8",this.main),console.log("\u70ed\u6e38",this.hot),console.log("\u4e70\u91cf",this.buy),this.buy.length>0&&t){var n=this.buy[0],s=n.newPush||n.iconImg;this.luodiBigImg.node.active=n.newPush,this.luodiSmallImg.node.active=n.iconImg,this.startBtnNode.active=this.luodiSmallImg.node.active,this.luodiInfo=n,s?this.showLuoDi(n.newPush,n.iconImg):this.showJiuGong(this.main,this.hot)}else this.luodiNode.active=!1,this.showJiuGong(this.main,this.hot)},showLuoDi:function(t,e){var i=this;t?cc.loader.load(t,function(t,e){i&&(t?i.closeLuoDi():(i.luodiBigImg.spriteFrame=new cc.SpriteFrame(e),i.luodiNode.active=!0))}):e?cc.loader.load(e,function(t,e){i&&(t?i.closeLuoDi():(i.luodiSmallImg.spriteFrame=new cc.SpriteFrame(e),i.luodiNode.active=!0))}):i.closeLuoDi(),YouziBoxManager.sendBox2Open(),o.YouziData.BI_AppOnce({actionNumber:1003}),o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:6})},showJiuGong:function(t,e){for(var i=t.length/2,n=0;n<i;n++){var s=t[2*n+0],a=t[2*n+1],c=cc.instantiate(this.mainCellPrefab);this.boxSrc.content.addChild(c);var r=c.getChildByName("1"),l=c.getChildByName("2");this.loadCell(s,r),this.loadCell(a,l)}for(var h=e.length/3,d=0;d<h;d++){var u=e[3*d+0],p=e[3*d+1],f=e[3*d+2],m=cc.instantiate(this.hotCellPrefab);this.boxSrc.content.addChild(m);var g=m.getChildByName("1"),v=m.getChildByName("2"),y=m.getChildByName("3");this.loadCell(u,g),this.loadCell(p,v),this.loadCell(f,y)}console.log("\u6210\u529f\u5c55\u793a\u4e86\u76d2\u5b50\u9875\u9762"),o.YouziData.BI_AppOnce({actionNumber:1004}),o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:7})},loadCell:function(t,e){var i=this;if(t){var o=e.getComponent(cc.Button),n=e.getChildByName("Icon").getComponent(cc.Sprite),s=e.getChildByName("Name").getComponent(cc.Label),a=new cc.Component.EventHandler;a.target=this.node,a.component="YouziUI_Box",a.handler="touchBoxIconClick",a.customEventData=JSON.stringify(t),o.clickEvents.push(a),cc.loader.load(t.newIcon,function(t,e){i&&(t||(n.spriteFrame=new cc.SpriteFrame(e)))}),s.string=t.title,YouziBoxManager.sendExposureLog(t,1)}},btnLuoDiClick:function(){o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:8});var t=this,e=this.luodiInfo;console.log("\u70b9\u51fb\u843d\u5730\u9875 \u5373\u5c06\u8df3\u8f6c:",e.appid);e.locationIndex=o.BI_PAGE_TYPE.BUY_Screen,YouziBoxManager.navigateToOtherGame(e,function(e){t.closeLuoDi()})},touchBoxIconClick:function(t,e){o.YouziData.BI_Action({actionType:this.BILOG_GROUP,actionNumber:9});var i=JSON.parse(e);console.log("\u70b9\u51fb\u4e86\u76d2\u5b50icon",i.appid),i.locationIndex=o.BI_PAGE_TYPE.BUY_BOX,o.YouziData.navigateToOtherGame(i)},closeLuoDi:function(){this.luodiNode.active=!1,this.boxSrc.content.removeAllChildren(!0),this.showJiuGong(this.main,this.hot)},goGame:function(){this.gameSceneName&&(console.log("\u76d2\u5b50\u9875\u5b8c\u6bd5=>\u8df3\u8f6c\u5230\u573a\u666f",this.gameSceneName),cc.director.loadScene(this.gameSceneName))}});cc._RF.pop()},{"./YouziData":"YouziData"}],YouziUI_FloatBanner:[function(t,e,i){"use strict";cc._RF.push(e,"2a4b9++9VhB3pjB3LtffEK0","YouziUI_FloatBanner"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateFloatBanner=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_FloatBanner",function(i,o){try{e=e||{};var n=cc.instantiate(o);n.position=cc.v2(0,0),t.addChild(n);var a=n.getComponent(s);a.DIY(e),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateFloat \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=t("./Youzi_Icon"),s=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loged=[],this.bg=this.node.getChildByName("bg"),this.scr=this.bg.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),this.close=this.bg.getChildByName("close")},start:function(){this.close.x=this.isRight?-this.close.x:this.close.x,this.close.scaleX=this.isRight?-1:1,this.originX=this.isRight?(this.node.width/2+this.close.width)*this.scale:-(this.node.width/2+this.close.width)*this.scale,this.node.x=this.originX,this.initShow()},DIY:function(t){t.size;var e=t.position;this.isRight=t.isRight,this.btnNode=t.btnNode,this.isMainPage=t.isMainPage,this.closeEvent=t.closeEvent;var i=cc.view.getVisibleSize(),o=i.width<i.height?i.width:i.height;if(this.scale=o/640,this.node.scale=this.scale,i.width<i.height?"number"==typeof t.cancelType?this.cancelType=t.cancelType>=0?t.cancelType:0:this.cancelType=0:this.cancelType=0==t.cancelType?t.cancelType:null,e&&(this.node.position=e),this.btnNode){var n=this.btnNode.getComponent(cc.Button);if(n){var s=new cc.Component.EventHandler;s.target=this.node,s.component="YouziUI_FloatBanner",s.handler="openWithAnim",n.clickEvents.push(s)}else console.warn("YouziUI_Float \u4f20\u5165\u7684btnNode\u4e0d\u5305\u542bcc.Button\u7ec4\u4ef6")}else console.warn("\u672a\u8bbe\u7f6e\u62bd\u5c49\u7684\u5165\u53e3\u6309\u94ae")},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){if(this.checkNeedCloseSome()){var t=this;(0,n.YouziCreateIcons)(o.BI_PAGE_TYPE.FLOAT,{size:{width:120,height:120},nameClose:!1,cancelCallback:t.cancelCallback,cancelType:t.cancelType},function(e){if(t&&t.scr&&t.scr.content)for(var i=0;i<e.length;i++)t.scr.content.addChild(e[i])})}else this.node.active=!1,this.btnNode&&(this.btnNode.active=!1),console.log("\u5173\u95ed\u62bd\u5c49\u53ca\u5165\u53e3\u663e\u793a",this.isMainPage)},scrollCallBack:function(t,e,i){if(this.scr&&this.scr.content){cc.ScrollView.EventType.SCROLL_BEGAN!==e&&cc.ScrollView.EventType.TOUCH_UP!==e||(this.scr.node.stopAllActions(),o.YouziData.scrollviewAction(this.scr,1.5,5,null,1)),cc.ScrollView.EventType.SCROLL_TO_BOTTOM===e&&this.scr.scrollToTop(0);var n=[],s=this.scr.content.children;if(this.loged!==s.length){for(var a=0;a<s.length;a++){var c=!1;a<this.loged&&(c=!0),c||n.push(s[a])}if(n.length>0){var r=this.view.convertToWorldSpaceAR(cc.v2(0,this.view.height/2+n[0].height)),l=this.view.convertToWorldSpaceAR(cc.v2(0,-this.view.height/2));this.loged+=o.YouziData._checkExposureInview1(n,!0,o.YouziData.hotListDatas,o.BI_PAGE_TYPE.FLOAT,0,0,l.y,r.y)}}}},openWithAnim:function(){var t=this;this.loged=0,this.bg.active=!0;var e=this.isRight?-this.node.width/2*this.scale:this.node.width/2*this.scale,i=this.node.y;this.btnNode&&(this.btnNode.active=!1);var n=cc.callFunc(function(){o.YouziData.scrollviewAction(t.scr,1.5,5,null,1)},this);this.node.runAction(cc.sequence(cc.moveTo(.2,e,i),n)),this.scr.scrollToTop(0),this.scheduleOnce(this.scrollCallBack,0)},closeWithAnim:function(){var t=this.originX,e=this.node.y;this.btnNode&&(this.btnNode.active=!0),this.node.runAction(cc.moveTo(.2,t,e)),this.closeEvent&&this.closeEvent()},onBtnClose:function(){this.closeWithAnim()},checkNeedCloseSome:function(){return!this.isMainPage||1==o.YouziData._pageOpen}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_Icon":"Youzi_Icon"}],YouziUI_Float:[function(t,e,i){"use strict";cc._RF.push(e,"5c8c7DqKlNPzaI7ebYkTdNc","YouziUI_Float"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateFloat=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_Float",function(i,o){try{e=e||{};var n=cc.instantiate(o);n.position=cc.v2(0,0),t.addChild(n);var a=n.getComponent(s);a.DIY(e),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateFloat \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=t("./Youzi_Icon"),s=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loged=[],this.shadow=this.node.getChildByName("notTouch"),this.bg=this.node.getChildByName("bg"),this.scr=this.bg.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),this.close=this.bg.getChildByName("close")},start:function(){this.close.x=this.isRight?-this.close.x:this.close.x,this.close.scaleX=this.isRight?-1:1,this.originX=this.isRight?(this.node.width/2+this.close.width)*this.scale:-(this.node.width/2+this.close.width)*this.scale,this.node.x=this.originX,this.initShow()},DIY:function(t){t.size;var e=t.position;this.isRight=t.isRight,this.btnNode=t.btnNode,this.isMainPage=t.isMainPage,this.closeEvent=t.closeEvent;var i=cc.view.getVisibleSize(),o=i.width<i.height?i.width:i.height;if(this.scale=o/640,this.node.scale=this.scale,i.width<i.height?"number"==typeof t.cancelType?this.cancelType=t.cancelType>=0?t.cancelType:0:this.cancelType=0:this.cancelType=0==t.cancelType?t.cancelType:null,e&&(this.node.position=e),this.btnNode){var n=this.btnNode.getComponent(cc.Button);if(n){var s=new cc.Component.EventHandler;s.target=this.node,s.component="YouziUI_Float",s.handler="openWithAnim",n.clickEvents.push(s)}else console.warn("YouziUI_Float \u4f20\u5165\u7684btnNode\u4e0d\u5305\u542bcc.Button\u7ec4\u4ef6")}else console.warn("\u672a\u8bbe\u7f6e\u62bd\u5c49\u7684\u5165\u53e3\u6309\u94ae")},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){if(this.checkNeedCloseSome()){var t=this,e=o.YouziData.getPropertiesValue(o.NAME_HIDE_KEY.SlideWindow_Name);if(e)this.view.getChildByName("content").getComponent(cc.Layout).spacingY=25;(0,n.YouziCreateIcons)(o.BI_PAGE_TYPE.FLOAT,{size:{width:120,height:120},nameClose:e,cancelCallback:t.cancelCallback,cancelType:t.cancelType},function(e){if(t&&t.scr&&t.scr.content)for(var i=0;i<e.length;i++)t.scr.content.addChild(e[i])})}else this.node.active=!1,this.btnNode&&(this.btnNode.active=!1),console.log("\u5173\u95ed\u62bd\u5c49\u53ca\u5165\u53e3\u663e\u793a",this.isMainPage)},scrollCallBack:function(){if(this.scr&&this.scr.content){var t=[],e=this.scr.content.children;if(this.loged!==e.length){for(var i=0;i<e.length;i++){var n=!1;i<this.loged&&(n=!0),n||t.push(e[i])}if(t.length>0){var s=this.view.convertToWorldSpaceAR(cc.v2(0,this.view.height/2+t[0].height)),a=this.view.convertToWorldSpaceAR(cc.v2(0,-this.view.height/2));this.loged+=o.YouziData._checkExposureInview1(t,!0,o.YouziData.hotListDatas,o.BI_PAGE_TYPE.FLOAT,0,0,a.y,s.y)}}}},openWithAnim:function(){this.loged=0,this.bg.active=!0,this.shadow.active=!0,this.shadow.runAction(cc.fadeTo(.2,210));var t=this.isRight?-this.node.width/2*this.scale:this.node.width/2*this.scale,e=this.node.y;this.node.runAction(cc.moveTo(.2,t,e)),this.scr.scrollToTop(0),this.scheduleOnce(this.scrollCallBack,0)},closeWithAnim:function(){var t=cc.fadeTo(.2,1),e=cc.callFunc(this.closeShadow,this);this.shadow.runAction(cc.sequence(t,e));var i=this.originX,o=this.node.y;this.node.runAction(cc.moveTo(.2,i,o)),this.closeEvent&&this.closeEvent()},closeShadow:function(){this.shadow.active=!1,this.bg.active=!1},onBtnClose:function(){this.closeWithAnim()},checkNeedCloseSome:function(){return!this.isMainPage||1==o.YouziData._pageOpen}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_Icon":"Youzi_Icon"}],YouziUI_FullScreen2:[function(t,e,i){"use strict";cc._RF.push(e,"08cadNE58dPe402xwf4/YAE","YouziUI_FullScreen2"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateFullScreen2=function(t,e){var i=t.getChildByName("YouziUI_FullScreen2");if(i)return console.log("full screen 2 node has exist! show now!"),void(i.getComponent(s)&&i.getComponent(s).openWithAnim());cc.loader.loadRes("youzi/prefabs/YouziUI_FullScreen2",function(i,o){try{e=e||{};var n=cc.instantiate(o),a=n.getComponent(s);n.position=cc.v2(0,0),a.DIY(e),t.addChild(n),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateFullScreen2 \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=t("./Youzi_StripIcon"),s=cc.Class({extends:cc.Component,properties:{top:cc.Node,gameNode:cc.Node,view:cc.Node,line:cc.Node},onLoad:function(){this.loged=0;var t=this.line.getComponent(cc.Graphics),e=cc.Color.BLACK;t.strokeColor=e.fromHEX("#e5dfdf"),t.moveTo(0,0),t.lineTo(640,0),t.stroke(),t.close()},start:function(){this.scrollCount=15,this.scrollTime=.4,this.scr=this.gameNode.getComponent(cc.ScrollView),this.goBack=this.top.getChildByName("goBackBtn"),this.goBack.active=!1,this.creatIconComplete=!1,this.initShow()},DIY:function(t){var e=cc.view.getVisibleSize(),i=e.width<e.height?e.width:e.height;this.node.scaleX=i/640,this.closeEvent=t.closeEvent,this.isClose=t.isClose,this.scheduleOnce(this.uiAdapter,0)},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){var t=this;(0,n.YouziCreateStripIcon)(o.BI_PAGE_TYPE.FULL_MATRIX_SCRENN,{},function(e){if(t&&t.scr&&t.scr.content){t.scrollTime=1.5*Math.ceil(e.length/3);for(var i=0;i<e.length;i++)t.scr.content.addChild(e[i]);t.creatIconComplete=!0,t.isClose||t.openWithAnim()}})},openWithAnim:function(){if(this.creatIconComplete){var t=this;this.loged=0,this.uiAdapter(),this.scr.scrollToTop(0),this.node.active=!0;setTimeout(function(){t&&t.scr&&t.scrollCallBack()},3e3),setTimeout(function(){t.goBack.active=!0},3e3),o.YouziData.fullScreenRandomNavigate()}},uiAdapter:function(){var t=cc.view.getVisibleSize();this.gameNode.height=this.view.height=t.height-150;var e=this.node.parent.convertToNodeSpaceAR(cc.v2(t.width/2,t.height));this.node.position=cc.v2(e.x,e.y)},closeWithAnim:function(){this.closeAll()},closeAll:function(){this.scr.scrollToTop(0),this.goBack.active=!1,this.node.active=!1,this.closeEvent&&this.closeEvent()},scrollCallBack:function(t,e,i){if(this.scr&&this.scr.content){var n=[],s=this.scr.content.children;if(this.initPosition||(this.initPosition=!0,this.minPosition=this.view.convertToWorldSpaceAR(cc.v2(0,-this.view.height/2)),this.maxPosition=this.view.convertToWorldSpaceAR(cc.v2(0,this.view.height/2))),this.loged!==s.length){for(var a=0;a<s.length;a++){var c=!1;a<this.loged&&(c=!0),c||n.push(s[a])}n.length>0&&(this.loged+=o.YouziData._checkExposureInview1(n,!0,o.YouziData.fullMatrixScrennDatas,o.BI_PAGE_TYPE.FULL_MATRIX_SCRENN,0,0,this.minPosition.y,this.maxPosition.y))}}}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_StripIcon":"Youzi_StripIcon"}],YouziUI_FullScreen3:[function(t,e,i){"use strict";cc._RF.push(e,"7d03eSMsahOR6rpK+0rFZ0K","YouziUI_FullScreen3"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateFullScreen3=function(t,e){var i=t.getChildByName("YouziUI_FullScreen3");if(i)return console.log("full screen node has exist! show now!"),void(i.getComponent(a)&&i.getComponent(a).openWithAnim());cc.loader.loadRes("youzi/prefabs/YouziUI_FullScreen3",function(i,o){try{e=e||{};var n=cc.instantiate(o),s=n.getComponent(a);n.position=cc.v2(0,0),s.DIY(e),t.addChild(n),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateFullScreen3 \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=t("./Youzi_FullScreenIcon"),s=t("./YouziUI_Matrix"),a=cc.Class({extends:cc.Component,properties:{matrixBanner:cc.Node},onLoad:function(){this.loged=0,this.v=this.node.getChildByName("V")},start:function(){var t=this.v;this.scrollCount=12,this.scrollTime=.4,t.active=!0,this.fullscreen=t.getChildByName("bg").getChildByName("fullscreen"),this.top=this.fullscreen.getChildByName("top"),this.goBack=this.top.getChildByName("goBack"),this.goBack.active=!1,this.scr=this.fullscreen.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),cc.winSize.height/cc.winSize.width>1.9&&(this.top.y+=50),this.creatIconComplete=!1,this.initShow()},DIY:function(t){var e=cc.view.getVisibleSize(),i=e.width<e.height?e.width:e.height;cc.winSize.height/cc.winSize.width<=1.3333?(this.node.scale=e.width/e.height,console.log("ipad")):(console.log("mobile phone"),this.node.scale=o.YouziData.getSubFloatNumber(i/720,1)),this.closeEvent=t.closeEvent,this.isClose=t.isClose,this.scheduleOnce(this.uiAdapter,0)},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){var t=this,e=o.YouziData.getPropertiesValue(o.NAME_HIDE_KEY.FullScreen_Name);(0,n.YouziCreateFullScreenIcons)(o.BI_PAGE_TYPE.FULL_MATRIX_SCRENN,{size:{width:200,height:200},nameClose:e,nameBgHide:e},function(e){if(t&&t.scr&&t.scr.content){t.scrollTime=1.5*Math.ceil(e.length/3);for(var i=0;i<e.length;i++)t.scr.content.addChild(e[i]);t.creatIconComplete=!0,t.isClose||t.openWithAnim()}}),(0,s.YouziCreateMatrix)(t.matrixBanner,{isOffSwitch:!0,createFromUI:o.BI_PAGE_TYPE.FULL_MATRIX_SCRENN})},openWithAnim:function(){if(this.creatIconComplete){var t=this;this.loged=0,this.node.active=!0,this.scr.scrollToTop(0);setTimeout(function(){t&&t.scr&&(o.YouziData.scrollviewAction(t.scr,0,t.scrollCount,t.scrollTime,0),t.scrollCallBack())},3e3),setTimeout(function(){t.goBack.active=!0},3e3),o.YouziData.fullScreenRandomNavigate()}},uiAdapter:function(){var t=cc.view.getVisibleSize(),e=this.node.parent.convertToNodeSpaceAR(cc.v2(t.width/2,t.height/2));cc.winSize.height/cc.winSize.width>1.9?this.node.position=cc.v2(e.x,e.y+50):this.node.position=cc.v2(e.x,e.y)},closeWithAnim:function(){this.closeAll()},closeAll:function(){this.scr.scrollToTop(0),this.node.active=!1,this.goBack.active=!1,this.closeEvent&&this.closeEvent()},scrollCallBack:function(t,e,i){if(this.scr&&this.scr.content){cc.ScrollView.EventType.SCROLL_BEGAN!==e&&cc.ScrollView.EventType.TOUCH_UP!==e||(this.scr.node.stopAllActions(),o.YouziData.scrollviewAction(this.scr,0,this.scrollCount,this.scrollTime,0));var n=[],s=this.scr.content.children;if(this.initPosition||(this.initPosition=!0,this.minPosition=this.view.convertToWorldSpaceAR(cc.v2(0,-this.view.height/2)),this.maxPosition=this.view.convertToWorldSpaceAR(cc.v2(0,this.view.height/2))),this.loged!==s.length){for(var a=0;a<s.length;a++){var c=!1;a<this.loged&&(c=!0),c||n.push(s[a])}n.length>0&&(this.loged+=o.YouziData._checkExposureInview1(n,!0,o.YouziData.fullMatrixScrennDatas,o.BI_PAGE_TYPE.FULL_MATRIX_SCRENN,0,0,this.minPosition.y,this.maxPosition.y))}}}});cc._RF.pop()},{"./YouziData":"YouziData","./YouziUI_Matrix":"YouziUI_Matrix","./Youzi_FullScreenIcon":"Youzi_FullScreenIcon"}],YouziUI_FullScreen:[function(t,e,i){"use strict";cc._RF.push(e,"d4677tFvoFKU7Qcipepxkeq","YouziUI_FullScreen"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateFullScreen=function(t,e){var i=t.getChildByName("YouziUI_FullScreen");if(i)return console.log("full screen node has exist! show now!"),void(i.getComponent(s)&&i.getComponent(s).openWithAnim());cc.loader.loadRes("youzi/prefabs/YouziUI_FullScreen",function(i,o){try{e=e||{};var n=cc.instantiate(o),a=n.getComponent(s);n.position=cc.v2(0,0),a.DIY(e),t.addChild(n),t.openYouziMoreGame=a.openWithAnim.bind(a),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateFullScreen \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=t("./Youzi_FullScreenIcon"),s=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loged=0,this.v=this.node.getChildByName("V")},start:function(){var t=this.v;this.scrollCount=15,this.scrollTime=.4,t.active=!1,this.bg=t.getChildByName("bg"),this.goBack=this.bg.getChildByName("top").getChildByName("goBack"),this.goBack.active=!1,this.scr=this.bg.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),this.creatIconComplete=!1,this.initShow()},DIY:function(t){var e=this,i=cc.view.getVisibleSize(),n=i.width<i.height?i.width:i.height;cc.winSize.height/cc.winSize.width<=1.4?(this.node.scale=i.width/i.height,console.log("ipad")):(console.log("mobile phone"),this.node.scale=o.YouziData.getSubFloatNumber(n/720,1)),this.closeEvent=t.closeEvent,this.cancelCallback=t.cancelCallback,this.isClose=t.isClose,this.scheduleOnce(function(){e.uiAdapter()},0)},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){var t=this,e=o.YouziData.getPropertiesValue(o.NAME_HIDE_KEY.FullScreen_Name);(0,n.YouziCreateFullScreenIcons)(o.BI_PAGE_TYPE.FULL_MATRIX_SCRENN,{size:{width:200,height:200},nameClose:e,nameBgHide:e},function(e){if(t&&t.scr&&t.scr.content){t.scrollTime=1.5*Math.ceil(e.length/3);for(var i=0;i<e.length;i++)t.scr.content.addChild(e[i]);t.creatIconComplete=!0,t.isClose||t.openWithAnim()}})},openWithAnim:function(){if(this.creatIconComplete){var t=this;this.loged=0,this.node.active=!0,this.v.active=!0,this.uiAdapter(),t.scr.scrollToTop(0);setTimeout(function(){t&&t.scr&&(o.YouziData.scrollviewAction(t.scr,0,t.scrollCount,t.scrollTime,0),t.scrollCallBack())},3e3),setTimeout(function(){t.goBack.active=!0},3e3),o.YouziData.fullScreenRandomNavigate()}},uiAdapter:function(){var t=cc.view.getVisibleSize(),e=this.node.parent.convertToNodeSpaceAR(cc.v2(t.width/2,t.height/2));this.node.position=cc.v2(e.x,e.y)},closeWithAnim:function(){this.closeAll()},closeAll:function(){this.scr.scrollToTop(0),this.node.active=!1,this.goBack.active=!1,this.v.active=!1,this.closeEvent&&this.closeEvent()},scrollCallBack:function(t,e,i){if(this.scr&&this.scr.content){cc.ScrollView.EventType.SCROLL_BEGAN!==e&&cc.ScrollView.EventType.TOUCH_UP!==e||(this.scr.node.stopAllActions(),o.YouziData.scrollviewAction(this.scr,0,this.scrollCount,this.scrollTime,0));var n=[],s=this.scr.content.children;if(this.initPosition||(this.initPosition=!0,this.minPosition=this.view.convertToWorldSpaceAR(cc.v2(0,-this.view.height/2)),this.maxPosition=this.view.convertToWorldSpaceAR(cc.v2(0,this.view.height/2))),this.loged!==s.length){for(var a=0;a<s.length;a++){var c=!1;a<this.loged&&(c=!0),c||n.push(s[a])}n.length>0&&(this.loged+=o.YouziData._checkExposureInview1(n,!0,o.YouziData.fullMatrixScrennDatas,o.BI_PAGE_TYPE.FULL_MATRIX_SCRENN,0,0,this.minPosition.y,this.maxPosition.y))}}}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_FullScreenIcon":"Youzi_FullScreenIcon"}],YouziUI_GameBanner:[function(t,e,i){"use strict";cc._RF.push(e,"6bd05yoKnBLvZTw7M2Vd5Q2","YouziUI_GameBanner"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateGameBanner=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_GameBanner",function(i,o){try{e=e||{};var s=cc.instantiate(o);s.position=cc.v2(0,0),t.addChild(s);var a=s.getComponent(n);a.DIY(e),e.callback&&e.callback(s)}catch(i){console.error("YouziCreateGameBanner \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.updateIndex=0,this.actionNode=this.node.getChildByName("ActionNode"),this.bannerType=o.BANNER_TYPE.GAME,this.logged=[]},start:function(){this.isOffSwitch||(this.node.active=!1,o.YouziData.addBanner(this)),this.initShow(),this.schedule(this.changeShow,this.switchTime)},DIY:function(t){var e=t.size,i=t.position;this.isVerticle=t.isVerticle,this.isOffSwitch=t.isOffSwitch,this.switchTime=t.switchTime||5,this.switchSpeed=t.switchSpeed||.3,this.isSinglePage=t.isSinglePage,this.singlePageIndex=t.singlePageIndex,e&&(this.node.width=e.width,this.node.height=e.height),i&&(this.node.position=i)},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){if(this.isSinglePage){var t=o.YouziData.gameBannerDatas[this.singlePageIndex];t&&(this.one=this.createBannerAtData(t),this.one.position=cc.v2(0,0))}else{var e=o.YouziData.gameBannerDatas[this.updateIndex];e&&(this.one=this.createBannerAtData(e),this.one.position=cc.v2(0,0))}},createBannerAtData:function(t){var e=this,i=new cc.Node;i.width=this.node.width,i.height=this.node.height,this.actionNode.addChild(i);var o=i.addComponent(cc.Sprite);o.sizeMode=cc.Sprite.SizeMode.CUSTOM,cc.loader.load(t.bannerImg,function(t,i){e&&(t?console.error(t):o.spriteFrame=new cc.SpriteFrame(i))});var n=i.addComponent(cc.Button),s=new cc.Component.EventHandler;return s.target=this.node,s.component="YouziUI_GameBanner",s.handler="touchBanner",s.customEventData=JSON.stringify(t),n.clickEvents.push(s),i},changeShow:function(){if(!(o.YouziData.gameBannerDatas.length<1)){this.updateIndex++,this.updateIndex>o.YouziData.gameBannerDatas.length-1&&(this.updateIndex=0);var t=o.YouziData.gameBannerDatas[this.updateIndex];if(t&&o.YouziData.gameBannerDatas.length>1)if(this.two=this.createBannerAtData(t),this.isVerticle){this.two.position=cc.v2(0,-this.node.height);var e=cc.moveBy(this.switchSpeed,cc.v2(0,this.node.height)),i=cc.moveBy(this.switchSpeed,cc.v2(0,this.node.height)),n=cc.callFunc(this.endChange,this);this.one.runAction(e),this.two.runAction(cc.sequence(i,n))}else{this.two.position=cc.v2(this.node.width,0);var s=cc.moveBy(this.switchSpeed,cc.v2(-this.node.width,0)),a=cc.moveBy(this.switchSpeed,cc.v2(-this.node.width,0)),c=cc.callFunc(this.endChange,this);this.one.runAction(s),this.two.runAction(cc.sequence(a,c))}this.logged[t.appid]||(this.logged[t.appid]=!0,o.YouziData.sendExposureLog(t,o.BI_PAGE_TYPE.GAME))}},endChange:function(){this.one.removeFromParent(!0),this.one=this.two},touchBanner:function(t,e){var i=JSON.parse(e);i.locationIndex=o.BI_PAGE_TYPE.GAME,o.YouziData.startOtherGame(i,null)},showBanner:function(){this.node&&(this.node.active=!0)},hideBanner:function(){this.node&&(this.node.active=!1)},destroySelf:function(){this&&this.node&&this.node.removeFromParent(!0)}});cc._RF.pop()},{"./YouziData":"YouziData"}],YouziUI_Guess:[function(t,e,i){"use strict";cc._RF.push(e,"390e23+6hVB8asd4D+aWQgf","YouziUI_Guess"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateGuess=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_Guess",function(i,o){try{e=e||{};var n=cc.instantiate(o),a=n.getComponent(s);n.position=cc.v2(0,0),a.DIY(e),t.addChild(n),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateGuess \u751f\u6210\u9519\u8bef",t,e),console.error(i)}})};var o=t("./YouziData"),n=t("./Youzi_Icon"),s=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loged=0,this.h=this.node.getChildByName("H"),this.v=this.node.getChildByName("V")},start:function(){var t=this.isVerticle?this.v:this.h;t.active=!0,this.bg=t.getChildByName("bg"),this.scr=t.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),1==this.guessLikeUiType&&this.isVerticle&&(this.bg.width=430,this.bg.active=this.bgActive,this.bg.getChildByName("txt").active=!1,t.getChildByName("ScrollView").setPosition(0,0)),this.initShow()},DIY:function(t){this.dataOrder=t.hasOwnProperty("dataOrder")?t.dataOrder:1,this.guessLikeUiType=t.hasOwnProperty("guessLikeUiType")?t.guessLikeUiType:0,this.bgActive=!t.hasOwnProperty("bgActive")||t.bgActive;t.size;this.isVerticle=t.isVerticle;var e=cc.view.getVisibleSize();e.width<e.height?"number"==typeof t.cancelType?this.cancelType=t.cancelType>=0?t.cancelType:0:this.cancelType=0:this.cancelType=0==t.cancelType?t.cancelType:null;var i=t.position;i&&(this.node.position=i)},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){var t=this;(0,n.YouziCreateIcons)(o.BI_PAGE_TYPE.GUESS,{size:{width:90,height:90},nameClose:!0,dataOrder:this.dataOrder,cancelCallback:t.cancelCallback,cancelType:t.cancelType},function(e){if(t&&t.scr&&t.scr.content)for(var i=0;i<e.length;i++){var n=new cc.Node;n.setContentSize(new cc.Size(90,90)),n.addChild(e[i]),t.scr.content.addChild(n)}setTimeout(function(){t&&t.scr&&(o.YouziData.scrollviewAction(t.scr,1.5,5,null,0),t.scrollCallBack())},500)})},scrollCallBack:function(t,e,i){if(this.scr&&this.scr.content&&this.scr.content.children.length){cc.ScrollView.EventType.SCROLL_BEGAN!==e&&cc.ScrollView.EventType.TOUCH_UP!==e||(this.scr.node.stopAllActions(),o.YouziData.scrollviewAction(this.scr,1.5,5,null,0));var n=[],s=this.scr.content.children;if(this.initPosition||(this.initPosition=!0,this.minPosition=this.view.convertToWorldSpaceAR(cc.v2(-this.view.width/2,-this.view.height/2)),this.minPositionHideX=this.view.convertToWorldSpaceAR(cc.v2(-this.view.width/2-s[0].children[0].width,0)),this.maxPositionHideY=this.view.convertToWorldSpaceAR(cc.v2(0,this.view.height/2+s[0].children[0].height)),this.maxPosition=this.view.convertToWorldSpaceAR(cc.v2(this.view.width/2,this.view.height/2))),this.loged!==s.length){for(var a=0;a<s.length;a++){var c=!1;a<this.loged&&(c=!0),c||n.push(s[a].children[0])}n.length>0&&(this.loged+=o.YouziData._checkExposureInview1(n,this.isVerticle,o.YouziData.matrixBannerDatas,o.BI_PAGE_TYPE.GUESS,this.minPosition.x,this.maxPosition.x,this.minPosition.y,this.maxPosition.y))}o.YouziData._hideShowChild(s,this.isVerticle,this.minPositionHideX.x,this.maxPosition.x,this.minPosition.y,this.maxPositionHideY.y)}}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_Icon":"Youzi_Icon"}],YouziUI_Main:[function(t,e,i){"use strict";cc._RF.push(e,"0cd33E+7VNPXJ/c9lToMfVV","YouziUI_Main"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateMain=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_Main",function(i,o){try{e=e||{};var s=cc.instantiate(o);s.position=cc.v2(0,0),t.addChild(s);var a=s.getComponent(n);a.DIY(e),e.callback&&e.callback(s),e.isCreateMultipleMain&&(t.updateMultipleMain=a.updateMultipleMain.bind(a))}catch(i){console.error("YouziCreateMain \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.updateIndex=0,this.btnNode=this.node.getChildByName("btn"),this.bg=this.btnNode.getChildByName("bg"),this.iconSprite=this.btnNode.getChildByName("mask").getChildByName("icon").getComponent(cc.Sprite),this.nameLabel=this.btnNode.getChildByName("nameLabel").getComponent(cc.RichText),this.loged={}},start:function(){this.initShow(),this.isCreateMultipleMain||this.schedule(this.freshShow,5)},DIY:function(t){var e=t.size,i=t.position,o=t.bgColor;this.nameColor=t.nameColor;var n=t.actionClose,s=t.action;this.iconAnimSpeed=t.iconAnimSpeed||.2,this.isCreateMultipleMain=t.isCreateMultipleMain,this.mainIconIndex=t.mainIconIndex,i&&(this.node.position=i),o&&(this.bg.color=o),this.initAction(s,n),e&&e.width&&e.height&&(this.node.scaleX=e.width/104,this.node.scaleY=e.height/130);var a=cc.view.getVisibleSize();a.width<a.height?"number"==typeof t.cancelType?this.cancelType=t.cancelType>=0?t.cancelType:0:this.cancelType=0:this.cancelType=0==t.cancelType?t.cancelType:null},initAction:function(t,e){if(!e)if(t)this.node.runAction(t);else{var i=cc.repeatForever(cc.sequence(cc.rotateTo(2,-10),cc.rotateTo(2,10)));this.node.runAction(i)}},initShow:function(){o.YouziData._isDataLoaded?this.isCreateMultipleMain?(this.hideLabelAndScale(),this.updateMultipleMain(this.mainIconIndex)):this.freshShow():this.isCreateMultipleMain?(this.hideLabelAndScale(),this.updateMultipleMain(this.mainIconIndex)):o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},updateMultipleMain:function(t){var e=o.YouziData.mainRecDatas[t];this.loadIcon(e)},hideLabelAndScale:function(){if(o.YouziData.getMainNameHide()){this.nameLabel.node.active=!1,this.bg.active=!1;var t=o.YouziData.getMainNameHideScale();this.node.scale=t}},loadIcon:function(t){var e=this;if(t&&e&&e.iconSprite){this.btnNode.active=!0;var i=e.iconSprite.node.getComponent(cc.Animation),n=i.getClips();n.length>0&&i.stop(n[0].name),this.curData=t,1===t.dynamicType&&t.dynamicIcon?cc.loader.load(t.dynamicIcon,function(i,o){if(e&&!i&&e.iconSprite){for(var n=[],s=0;s<4;s++)for(var a=0;a<4;a++){var c=new cc.SpriteFrame(o,cc.rect(120*a,120*s,120,120));n.push(c)}var r="anim_icon"+t.appid,l=cc.AnimationClip.createWithSpriteFrames(n,n.length);l.speed=e.iconAnimSpeed,l.name=r,l.wrapMode=cc.WrapMode.Loop;var h=e.iconSprite.node.getComponent(cc.Animation);h.addClip(l),h.play(r)}}):cc.loader.load(t.iconImg,function(t,i){e&&!t&&e.iconSprite&&(e.iconSprite.spriteFrame=new cc.SpriteFrame(i))}),t.slogan&&t.slogan.length?e.nameLabel.string="<b>"+t.slogan+"</b>":e.nameLabel.string="<b>"+t.title+"</b>",e.nameColor?e.nameLabel.string="<color="+this.nameColor+">"+e.nameLabel.string+"</c>":e.nameLabel.string="<color=#000000>"+e.nameLabel.string+"</c>",this.loged[t.appid]||(this.loged[t.appid]=!0,o.YouziData.sendExposureLog(t,o.BI_PAGE_TYPE.MAIN))}},freshShow:function(){this.hideLabelAndScale();var t=o.YouziData.mainRecDatas[this.updateIndex];this.loadIcon(t),this.updateIndex++,this.updateIndex>o.YouziData.mainRecDatas.length-1&&(this.updateIndex=0)},onJumpBtnClick:function(){this.curData&&(this.curData.locationIndex=o.BI_PAGE_TYPE.MAIN,o.YouziData.startOtherGame(this.curData,null,this.cancelCallback,this.cancelType),this.isCreateMultipleMain||(this.unschedule(this.freshShow),this.schedule(this.freshShow,5),this.freshShow()))}});cc._RF.pop()},{"./YouziData":"YouziData"}],YouziUI_Matrix:[function(t,e,i){"use strict";cc._RF.push(e,"492bb3JkvZH1LCqhtQV8aD0","YouziUI_Matrix"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateMatrix=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_Matrix",function(i,o){try{e=e||{};var n=cc.instantiate(o);console.log("\u9884\u8bbe\u7269"+n.name);var a=n.getComponent(s);n.position=cc.v2(0,0),a.DIY(e),t.addChild(n),console.log("\u663e\u793a\u77e9\u9635banner"+t),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateMatrix \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=t("./Youzi_Icon"),s=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.bg=this.node.getChildByName("bg"),this.txt=this.node.getChildByName("txt"),this.scr=this.node.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),this.bannerType=o.BANNER_TYPE.MATRIX,this.loged=0},start:function(){this.isOffSwitch||(this.node.active=!1,o.YouziData.addBanner(this)),this.initShow()},DIY:function(t){t.size;this.isVerticle=t.isVerticle;var e=t.position;this.isOffSwitch=t.isOffSwitch,this.createFromUI=t.createFromUI||o.BI_PAGE_TYPE.MATRIX;var i=cc.view.getVisibleSize(),n=i.width<i.height?i.width:i.height;this.node.scale=n/640,i.width<i.height?"number"==typeof t.cancelType?this.cancelType=t.cancelType>=0?t.cancelType:0:this.cancelType=null:this.cancelType=0==t.cancelType?t.cancelType:null,e&&(this.node.position=e)},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},scrollCallBack:function(t,e,i){if(this.scr&&this.scr.content&&this.scr.content.children.length){cc.ScrollView.EventType.SCROLL_BEGAN!==e&&cc.ScrollView.EventType.TOUCH_UP!==e||(this.scr.node.stopAllActions(),o.YouziData.scrollviewAction(this.scr,1.5,5,null,o.YouziData.getPropertiesValue("_bottomBannerScrollType"))),o.YouziData.getPropertiesValue("_bottomBannerScrollType")==o.ScrollTween_Type.Type_One&&cc.ScrollView.EventType.SCROLL_TO_RIGHT===e&&this.scr.scrollToLeft(0);var n=[],s=this.scr.content.children;if(this.initPosition||(this.initPosition=!0,this.minPosition=this.view.convertToWorldSpaceAR(cc.v2(-this.view.width/2,0)),this.minPositionHide=this.view.convertToWorldSpaceAR(cc.v2(-this.view.width/2-s[0].children[0].width,0)),this.maxPosition=this.view.convertToWorldSpaceAR(cc.v2(this.view.width/2,0))),this.loged!==s.length){for(var a=0;a<s.length;a++){var c=!1;a<this.loged&&(c=!0),c||n.push(s[a].children[0])}n.length>0&&(this.loged+=o.YouziData._checkExposureInview1(n,!1,o.YouziData.matrixBannerDatas,o.BI_PAGE_TYPE.MATRIX,this.minPosition.x,this.maxPosition.x))}o.YouziData._hideShowChild(s,!1,this.minPositionHide.x,this.maxPosition.x)}},freshShow:function(){o.YouziData.getBottomNameHide()&&(this.scr.node.y=0,this.view.getChildByName("content").getComponent(cc.Layout).spacingX=65);o.YouziData.getBottomCloseBtnHide()||this.createFromUI!=o.BI_PAGE_TYPE.FULL_MATRIX_SCRENN&&(this.node.getChildByName("closeBtn").active=!0);var t=this,e=!1;o.YouziData.getBottomNameHide()&&(e=!0),(0,n.YouziCreateIcons)(o.BI_PAGE_TYPE.MATRIX,{size:{width:105,height:105},nameClose:e,cancelCallback:t.cancelCallback,cancelType:t.cancelType},function(e){if(t&&t.scr&&t.scr.content)for(var i=0;i<e.length;i++){var n=new cc.Node;n.setContentSize(new cc.Size(105,105)),n.addChild(e[i]),o.YouziData.getBottomNameHide()&&(n.scale=1.4),t.scr.content.addChild(n)}setTimeout(function(){t&&t.scr&&(o.YouziData.scrollviewAction(t.scr,1.5,5,null,o.YouziData.getPropertiesValue("_bottomBannerScrollType")),t.scrollCallBack())},3e3)})},showBanner:function(){this.node&&(this.node.active=!0,o.YouziData.scrollviewAction(this.scr,1.5,5,null,o.YouziData.getPropertiesValue("_bottomBannerScrollType")))},hideBanner:function(){this.node&&(this.scr.scrollToLeft(0),this.node.active=!1)},destroySelf:function(){this&&this.node&&this.node.removeFromParent(!0)}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_Icon":"Youzi_Icon"}],YouziUI_MoreGame:[function(t,e,i){"use strict";cc._RF.push(e,"8bdd7rnyqxEr62Wys5AWxHz","YouziUI_MoreGame"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateMoreGame=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_MoreGame",function(i,o){try{e=e||{};var n=cc.instantiate(o),a=n.getComponent(s);n.position=cc.v2(0,0),a.getUIVH(e),t.addChild(n),a.DIY(e),e.callback&&e.callback(n),t.openYouziMoreGame=a.openWithAnim.bind(a)}catch(i){console.error("YouziCreateMoreGame \u751f\u6210\u9519\u8bef",t,e),console.log(i)}})};var o=t("./YouziData"),n=t("./Youzi_Icon"),s=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.shadow=this.node.getChildByName("notTouch"),this.h=this.node.getChildByName("H"),this.v=this.node.getChildByName("V")},getUIVH:function(t){var e=cc.view.getVisibleSize();void 0===t.isVerticle?this.isVerticle=e.width<e.height:this.isVerticle=t.isVerticle},start:function(){this.curNodenode=this.isVerticle?this.v:this.h,this.scrollCount=this.isVerticle?8:10,this.scrollTime=this.isVerticle?.4:.3,this.wh=this.isVerticle?120:100,this.bg=this.curNodenode.getChildByName("bg"),this.scr=this.bg.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),this.title=this.bg.getChildByName("title"),this.close=this.bg.getChildByName("close"),this.initShow()},DIY:function(t){var e=this,i=(t.size,t.btnNode),o=cc.view.getVisibleSize(),n=o.width<o.height?o.width:o.height;if(this.node.scale=n/640,this.isShowNow=t.isShowNow,this.closeEvent=t.closeEvent,this.scheduleOnce(function(){e.uiAdapter()},0),i){var s=i.getComponent(cc.Button);if(s){var a=new cc.Component.EventHandler;a.target=this.node,a.component="YouziUI_MoreGame",a.handler="openWithAnim",s.clickEvents.push(a)}}},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){var t=this,e=o.YouziData.getPropertiesValue(o.NAME_HIDE_KEY.MoreGame_Name);e&&(this.view.getChildByName("content").getComponent(cc.Layout).spacingY=25);(0,n.YouziCreateIcons)(o.BI_PAGE_TYPE.MORE,{size:{width:t.wh,height:t.wh},nameClose:e},function(e){if(t&&t.scr&&t.scr.content){t.isVerticle?t.scrollTime=.6*Math.ceil(e.length/3):t.scrollTime=.6*Math.ceil(e.length/5);for(var i=0;i<e.length;i++)t.scr.content.addChild(e[i]);t.isShowNow&&t.openWithAnim()}})},scrollCallBack:function(){if(this.scr&&this.scr.content){var t=[],e=this.scr.content.children;if(this.loged!==e.length){for(var i=0;i<e.length;i++){var n=!1;i<this.loged&&(n=!0),n||t.push(e[i])}this.initPosition||(this.maxPosition=this.view.convertToWorldSpaceAR(cc.v2(0,this.view.height/2+t[0].height)),this.minPosition=this.view.convertToWorldSpaceAR(cc.v2(0,-this.view.height/2)),this.initPosition=!0),t.length>0&&(this.loged+=o.YouziData._checkExposureInview1(t,!0,o.YouziData.moreDatas,o.BI_PAGE_TYPE.MORE,0,0,this.minPosition.y,this.maxPosition.y))}}},openWithAnim:function(){var t=this;this.uiAdapter(),this.loged=0,this.shadow.active=!0,this.shadow.runAction(cc.fadeTo(.2,210)),this.bg.active=!0,this.curNodenode.active=!0,this.scr.scrollToTop(0);setTimeout(function(){t&&t.scr&&(o.YouziData.scrollviewAction(t.scr,0,t.scrollCount,t.scrollTime,0),t.scrollCallBack())},200)},uiAdapter:function(){var t=cc.view.getVisibleSize(),e=this.node.parent.convertToNodeSpaceAR(cc.v2(t.width/2,t.height/2));this.node.position=cc.v2(e.x,e.y)},closeWithAnim:function(){this.closeAll()},closeAll:function(){this.scr.scrollToTop(0),this.shadow.active=!1,this.bg.active=!1,this.curNodenode.active=!1,this.closeEvent&&this.closeEvent()}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_Icon":"Youzi_Icon"}],YouziUI_Offline:[function(t,e,i){"use strict";cc._RF.push(e,"13e90HCXKdGeb9hpQednX0c","YouziUI_Offline"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateOffline=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_Offline",function(i,o){try{e=e||{};var n=cc.instantiate(o);n.position=cc.v2(0,0),t.addChild(n);var a=n.getComponent(s);a.DIY(e),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateOffline \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=t("./Youzi_Icon"),s=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loged=0,this.offTime=0,this.shadow=this.node.getChildByName("notTouch"),this.bg=this.node.getChildByName("bg"),this.scr=this.bg.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),this.title=this.bg.getChildByName("title"),this.close=this.bg.getChildByName("close")},start:function(){this.initShow();var t=this;if(window.wx){if(!wx.onShow||!wx.onHide)return;wx.onShow(function(e){var i=(new Date).getSeconds();i-t.offTime>8&&t.openWithAnim(),t.offTime=i}),wx.onHide(function(e){t.offTime=(new Date).getSeconds()})}},DIY:function(t){t.size;this.closeEvent=t.closeEvent},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){var t=this;(0,n.YouziCreateIcons)(o.BI_PAGE_TYPE.OFFLINE,{},function(e){if(t&&t.scr&&t.scr.content)for(var i=0;i<e.length;i++)t.scr.content.addChild(e[i])})},scrollCallBack:function(){if(this.scr&&this.scr.content){this.initPosition||(this.initPosition=!0,this.minPosition=this.view.convertToWorldSpaceAR(cc.v2(-this.view.width/2,0)),this.maxPosition=this.view.convertToWorldSpaceAR(cc.v2(this.view.width/2,0)));var t=[],e=this.scr.content.children;if(this.loged!==e.length){for(var i=0;i<e.length;i++){var n=!1;i<this.loged&&(n=!0),n||t.push(e[i].children[0])}t.length>0&&(this.loged+=o.YouziData._checkExposureInview1(t,!0,o.YouziData.offlineBannerDatas,o.BI_PAGE_TYPE.OFFLINE,this.minPosition.x,this.maxPosition.x))}}},openWithAnim:function(){this&&this.node&&o.YouziData.offlineBannerDatas.length>0&&(this.shadow.active=!0,this.shadow.runAction(cc.fadeTo(.2,210)),this.bg.active=!0,this.loged=0,this.scr.scrollToLeft(0),this.scheduleOnce(this.scrollCallBack,0))},closeWithAnim:function(){this.closeAll()},closeAll:function(){this.shadow.active=!1,this.bg.active=!1,this.scr.scrollToLeft(0),this.closeEvent&&this.closeEvent()}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_Icon":"Youzi_Icon"}],YouziUI_ScreenPage:[function(t,e,i){"use strict";cc._RF.push(e,"d762b9fyDNJCrZUXcIRZTXm","YouziUI_ScreenPage"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateScreenPage=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_ScreenPage",function(i,s){try{e=e||{};var a=o.YouziData.jsonHasKey(e,"pageType")?e.pageType:1,c=cc.instantiate(s);if(c.position=cc.v2(0,0),2==a){var r=new cc.Node("gamePageParent");t.parent.addChild(r),r.addChild(c)}else t.addChild(c);var l=c.getComponent(n);l.DIY(e),e.callback&&e.callback(c)}catch(i){console.error("YouziCreateScreenPage \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.luodiNode=this.node.getChildByName("LuoDi"),this.luodiSmallImg=this.luodiNode.getChildByName("Small").getComponent(cc.Sprite),this.luodiBigImg=this.luodiNode.getChildByName("Big").getComponent(cc.Sprite),this.luodiBtn=this.luodiNode.getComponent(cc.Button)},start:function(){var t=cc.view.getVisibleSize();console.log("sw:"+t.width+",sh:"+t.height),this.luodiBigImg.node.width=t.width,this.luodiBigImg.node.height=t.height,this.luodiNode.width=t.width,this.luodiNode.height=t.height,1==this.pageType?this.initShow():2==this.pageType&&(this.node.position=this.node.parent.convertToNodeSpaceAR(cc.v2(t.width/2,t.height/2)),this.luodiSmallImg.node.active=!1,this.luodiBtn.node.active=!1,this.initGamePageShow())},loadErrHandle:function(){var t={};console.log("launch---"+JSON.stringify(this.launch)),this.launch.query&&this.launch.query.anChannelId&&(t.anChannelId=this.launch.query.anChannelId,t.ioChannelId=this.launch.query.ioChannelId),this.launch.referrerInfo&&this.launch.referrerInfo.extraData&&this.launch.referrerInfo.extraData.togame?(t.appid=this.launch.referrerInfo.extraData.togame,this.luodiInfo=t,console.log("jump info--"+t),this.luodiNode.active=!0):this.goGame()},DIY:function(t){this.gameSceneName=t.gameSceneName,this.launch=t.launch,this.customEnterGame=t.customEnterGame,this.pageType=o.YouziData.jsonHasKey(t,"pageType")?t.pageType:1,this.gamePageComplete=o.YouziData.jsonHasKey(t,"gamePageComplete")?t.gamePageComplete:null,this.gamePageData=o.YouziData.jsonHasKey(t,"gamePageData")?t.gamePageData:null,this.gamePageUiState=o.YouziData.jsonHasKey(t,"gamePageUiState")?t.gamePageUiState:null},initGamePageShow:function(){o.YouziData.setPropertiesValue("gamePageCloseCall",this.closeGamePage.bind(this));var t=this;this.gamePageData&&this.gamePageData.newPush&&cc.loader.load(this.gamePageData.newPush,function(e,i){t&&(!e&&t.luodiBigImg&&t.luodiNode?(t.node.parent.zIndex=cc.macro.MAX_ZINDEX,t.luodiBigImg.spriteFrame=new cc.SpriteFrame(i),t.luodiNode.active=!0,t.notifyGamePageComplete(1),t.notifyGamePageState(1)):t.closeGamePage())})},closeGamePage:function(){this.notifyGamePageState(0),this.notifyGamePageComplete(0),o.YouziData.setPropertiesValue("gamePageCloseCall",null),this.node.active=!1,this.node.parent.destroy()},notifyGamePageComplete:function(t){this.gamePageComplete&&(this.gamePageComplete(t),this.gamePageComplete=null)},notifyGamePageState:function(t){this.gamePageUiState&&this.gamePageUiState(t)},initShow:function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="YouziUI_ScreenPage",t.handler="btnLuoDiClick",this.luodiBtn.clickEvents.push(t),o.YouziData._isDataLoaded?this.freshShow():(o.YouziData._loadedCallBacks.push(this.freshShow.bind(this)),o.YouziData._isLoadFinish?this.loadErrHandle():(console.log("add err callback to list"),o.YouziData._requestErrorCbs.push(this.loadErrHandle.bind(this))))},freshShow:function(){"undefined"!=typeof wx?(this.launch&&(YouziBoxManager.wxLaunch(this.launch),this.initUI(this.launch)),wx.onShow(this.wxOnShowCall.bind(this))):this.goGame()},wxOnShowCall:function(t){YouziBoxManager.wxOnShow(t),this.initUI(t)},initUI:function(t){var e=YouziBoxManager.referrerInfo.togame;if(e){var i=o.YouziData.getDataFromAllGameObj(e);i?(this.luodiInfo=i,t.query&&t.query.anChannelId&&(this.luodiInfo.anChannelId=t.query.anChannelId,this.luodiInfo.ioChannelId=t.query.ioChannelId),this.showLuoDi(i.newPush,i.iconImg)):(console.log("\u6ca1\u53d1\u73b0\u843d\u5730\u9875data",e),this.goGame())}else console.log("\u6ca1\u53d1\u73b0\u843d\u5730\u9875appid"),this.goGame()},showLuoDi:function(t,e){var i=this;t?cc.loader.load(t,function(t,e){i&&(!t&&i.luodiBigImg&&i.luodiNode?(i.luodiBigImg.spriteFrame=new cc.SpriteFrame(e),i.luodiNode.active=!0,YouziBoxManager.sendBox2Open()):i.closeLuoDi())}):e?cc.loader.load(e,function(t,e){i&&(!t&&i.luodiSmallImg&&i.luodiNode?(i.luodiSmallImg.spriteFrame=new cc.SpriteFrame(e),i.luodiNode.active=!0,YouziBoxManager.sendBox2Open()):i.closeLuoDi())}):i.closeLuoDi()},btnLuoDiClick:function(){var t=this,e=this.luodiInfo;console.log("\u70b9\u51fb\u843d\u5730\u9875 \u5373\u5c06\u8df3\u8f6c:",e.appid);YouziBoxManager.navigateToOtherGame(e,function(e){t.closeLuoDi()})},closeLuoDi:function(){this.luodiNode&&(this.luodiNode.active=!1),this.goGame()},goGame:function(){this.customEnterGame?(wx.offShow(this.wxOnShowCall),this.customEnterGame()):this.gameSceneName&&(wx.offShow(this.wxOnShowCall),console.log("\u76d2\u5b50\u9875\u5b8c\u6bd5=>\u8df3\u8f6c\u5230\u573a\u666f",this.gameSceneName),cc.director.loadScene(this.gameSceneName))}});cc._RF.pop()},{"./YouziData":"YouziData"}],YouziUI_SmallMatrixWall:[function(t,e,i){"use strict";cc._RF.push(e,"8b2373vb9ZBfbngq4viCUgl","YouziUI_SmallMatrixWall"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateSmallMatrixWall=function(t,e){cc.loader.loadRes("youzi/prefabs/YouziUI_SmallMatrixWall",function(i,o){try{e=e||{};var n=cc.instantiate(o),a=n.getComponent(s);n.position=cc.v2(0,0),a.DIY(e),t.addChild(n),e.callback&&e.callback(n)}catch(i){console.error("YouziCreateSmallMatrixWall \u751f\u6210\u9519\u8bef",t,e)}})};var o=t("./YouziData"),n=t("./Youzi_Icon"),s=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loged=0,this.h=this.node.getChildByName("H"),this.v=this.node.getChildByName("V")},start:function(){var t=this.isVerticle?this.v:this.h;this.scrollCount=this.isVerticle?8:10,this.scrollTime=this.isVerticle?.4:.3,t.active=!0,this.bg=t.getChildByName("bg"),this.scr=this.bg.getChildByName("ScrollView").getComponent(cc.ScrollView),this.view=this.scr.node.getChildByName("view"),this.title=this.bg.getChildByName("title"),this.initShow()},DIY:function(t){var e=cc.view.getVisibleSize(),i=e.width<e.height?e.width:e.height;this.node.scale=i/640,this.isVerticle=t.isVerticle},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){var t=this,e=o.YouziData.getPropertiesValue(o.NAME_HIDE_KEY.SmallWall_Name);e&&(this.view.getChildByName("content").getComponent(cc.Layout).spacingY=25);(0,n.YouziCreateIcons)(o.BI_PAGE_TYPE.SMALL_MATRIX_WALL,{size:{width:110,height:110},nameClose:e},function(e){if(t&&t.scr&&t.scr.content){t.isVerticle?t.scrollTime=1.4*Math.ceil(e.length/4):t.scrollTime=1.2*Math.ceil(e.length/4);for(var i=0;i<e.length;i++)t.scr.content.addChild(e[i])}setTimeout(function(){t&&t.scr&&(o.YouziData.scrollviewAction(t.scr,0,t.scrollCount,t.scrollTime,0),t.scrollCallBack())},500)})},scrollCallBack:function(t,e,i){if(this.scr&&this.scr.content){cc.ScrollView.EventType.SCROLL_BEGAN!==e&&cc.ScrollView.EventType.TOUCH_UP!==e||(this.scr.node.stopAllActions(),o.YouziData.scrollviewAction(this.scr,0,this.scrollCount,this.scrollTime,0));var n=[],s=this.scr.content.children;if(this.initPosition||(this.initPosition=!0,this.minPosition=this.view.convertToWorldSpaceAR(cc.v2(0,-this.view.height/2)),this.maxPosition=this.view.convertToWorldSpaceAR(cc.v2(0,this.view.height/2))),this.loged!==s.length){for(var a=0;a<s.length;a++){var c=!1;a<this.loged&&(c=!0),c||n.push(s[a])}n.length>0&&(this.loged+=o.YouziData._checkExposureInview1(n,!0,o.YouziData.moreDatas,o.BI_PAGE_TYPE.SMALL_MATRIX_WALL,0,0,this.minPosition.y,this.maxPosition.y))}}}});cc._RF.pop()},{"./YouziData":"YouziData","./Youzi_Icon":"Youzi_Icon"}],Youzi_FloatBtn:[function(t,e,i){"use strict";cc._RF.push(e,"053a7aqdoFHfb2yzxOKxg14","Youzi_FloatBtn"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateFloatBtn=function(t,e){cc.loader.loadRes("youzi/prefabs/Youzi_FloatBtn",function(i,n){try{e=e||{};var s=cc.instantiate(n);s.position=cc.v2(0,0),t.addChild(s);var a=s.getComponent(o);a.DIY(e),e.callback&&e.callback(s)}catch(i){console.error("YouziCreateFloatBtn \u751f\u6210\u9519\u8bef",t,e)}})};var o=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.img=this.node.getChildByName("Image"),this.btn=this.node.getComponent(cc.Button)},start:function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Youzi_FloatBtn",t.handler="btnClick",this.btn.clickEvents.push(t),this.btnAnim()},btnAnim:function(){this.img.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.1),cc.scaleTo(.5,1))))},btnClick:function(){this.clickEvent&&this.clickEvent()},DIY:function(t){this.isRight=t.isRight,this.node.scaleX=this.isRight?-1:1,this.clickEvent=t.clickEvent,t.position&&(this.node.position=t.position)}});cc._RF.pop()},{}],Youzi_FullScreenIcon:[function(t,e,i){"use strict";cc._RF.push(e,"99619/cL/ZMvY1TkObv55NJ","Youzi_FullScreenIcon"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateFullScreenIcons=function(t,e,i){cc.loader.loadRes("youzi/prefabs/Youzi_FullScreenIcon",function(s,a){try{e=e||{};var c=[];if(o.YouziData._isDataLoaded){for(var r=o.YouziData.getDatasByBIType(t),l=0;l<r.length;l++){var h=r[l],d=cc.instantiate(a);d.position=cc.v2(0,0),d.name=h.appid;var u=d.getComponent(n);e.youziData=h,e.locationIndex=t,u.DIY(e),c.push(d)}i&&i(c)}else console.warn("\u83b7\u5f97\u4e2d\u5fc3\u5316\u6570\u636e\u5931\u8d25,\u6216\u4e2d\u5fc3\u5316\u6570\u636e\u4e0b\u884c\u672a\u5b8c\u6210 \u65e0\u6cd5\u521b\u5efaIcon"),i&&i([])}catch(t){console.error("YouziCreateIcon \u751f\u6210\u9519\u8bef",parentNode,e),i&&i([])}})};var o=t("./YouziData"),n=(t("../Youzi"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.locationIndex=this.locationIndex||o.BI_PAGE_TYPE.CUSTOM_COMPONENT,this.mask=this.node.getChildByName("mask"),this.iconSp=this.mask.getChildByName("icon").getComponent(cc.Sprite),this.nameLabel=this.mask.getChildByName("nameNode").getChildByName("name").getComponent(cc.RichText),this.redHitNode=this.mask.getChildByName("tip")},start:function(){var t=this.changeSize;if(t){this.node.width=t.width,this.node.height=t.height,this.mask.width=t.width,this.mask.height=t.height,this.iconSp.node.width=t.width,this.iconSp.node.height=t.height;var e=t.width/200,i=t.height/200,o=e>=i?i:e;this.nameLabel.node.width=200*o,this.nameLabel.node.height=32*o,this.nameLabel.fontSize=Math.floor(24*o),this.nameLabel.lineHeight=Math.floor(46*o)}this.nameClose&&(this.nameLabel.node.active=!1),this.nameBgHide&&(this.nameLabel.node.parent.active=!1),this.changeColor&&(this.nameLabel.node.color=this.changeColor),this.youziData&&1==this.youziData.hotred&&(this.redHitNode.active=!0),this.initShow()},DIY:function(t){this.pageParentNode=o.YouziData.jsonHasKey(t,"pageParentNode")?t.pageParentNode:null,this.youziData=t.youziData,this.locationIndex=t.locationIndex,this.iconAnimSpeed=t.iconAnimSpeed||.6,this.changeSize=t.size;var e=t.position;this.changeColor=t.nameColor,this.nameClose=t.nameClose,this.nameBgHide=t.nameBgHide,this.cancelCallback=t.cancelCallback,e&&(this.node.position=e)},initShow:function(){var t=this;this.youziData?(1==t.youziData.dynamicType&&this.youziData.dynamicIcon?cc.loader.load(this.youziData.dynamicIcon,function(e,i){if(t&&!e){for(var o=[],n=0;n<4;n++)for(var s=0;s<4;s++){var a=new cc.SpriteFrame(i,cc.rect(120*s,120*n,120,120));o.push(a)}var c="anim_icon"+t.youziData.appid,r=cc.AnimationClip.createWithSpriteFrames(o,o.length);r.speed=t.iconAnimSpeed,r.name=c,r.wrapMode=cc.WrapMode.Loop;var l=t.iconSp.node.getComponent(cc.Animation);l.addClip(r),l.play(c)}}):cc.loader.load(this.youziData.iconImg,function(e,i){t&&(e||t.iconSp&&(t.iconSp.spriteFrame=new cc.SpriteFrame(i)))}),this.nameLabel.string="<b><color=#ffffff>"+this.youziData.title+"</color></b>"):console.error("Youzi_Icon\u6570\u636e\u9519\u8bef",this.youziData)},sendExposureLog:function(){o.YouziData.sendExposureLog(this.youziData,this.locationIndex)},touchIconClick:function(){this.youziData.locationIndex=this.locationIndex,console.log("touchIconClick",this.youziData),o.YouziData.startOtherGame(this.youziData,null,this.cancelCallback,null)}}));cc._RF.pop()},{"../Youzi":"Youzi","./YouziData":"YouziData"}],Youzi_Icon:[function(t,e,i){"use strict";cc._RF.push(e,"1aa38PsQ1dD2reWB6XP3oBC","Youzi_Icon"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateIcons=function(t,e,i){e=e||{};var s=[];cc.loader.loadRes("youzi/prefabs/Youzi_Icon",function(a,c){try{if(o.YouziData._isDataLoaded){var r=e.hasOwnProperty("dataOrder")?e.dataOrder:1,l=[];2==r?(l=o.YouziData.getDatasByBIType(t).slice(0)).reverse():l=o.YouziData.getDatasByBIType(t);for(var h=0;h<l.length;h++){var d=l[h],u=cc.instantiate(c);u.position=cc.v2(0,0),u.name=d.appid;var p=u.getComponent(n);e.youziData=d,e.locationIndex=t,p.DIY(e),s.push(u)}i&&i(s)}else console.warn("\u83b7\u5f97\u4e2d\u5fc3\u5316\u6570\u636e\u5931\u8d25,\u6216\u4e2d\u5fc3\u5316\u6570\u636e\u4e0b\u884c\u672a\u5b8c\u6210 \u65e0\u6cd5\u521b\u5efaIcon"),i&&i([])}catch(t){console.error("YouziCreateIcon \u751f\u6210\u9519\u8bef",parentNode,e),i&&i([])}})};var o=t("./YouziData"),n=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.locationIndex=this.locationIndex||o.BI_PAGE_TYPE.CUSTOM_COMPONENT,this.mask=this.node.getChildByName("mask"),this.iconSp=this.mask.getChildByName("icon").getComponent(cc.Sprite),this.redHitNode=this.node.getChildByName("redHit"),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label)},start:function(){var t=this.changeSize;if(t){this.node.width=t.width,this.node.height=t.height,this.mask.width=t.width,this.mask.height=t.height,this.iconSp.node.width=t.width,this.iconSp.node.height=t.height;var e=t.width/130,i=t.height/130,o=e>=i?i:e;this.redHitNode.width=30*o,this.redHitNode.height=30*o,this.nameLabel.node.width=150*o,this.nameLabel.node.height=32*o,this.nameLabel.fontSize=Math.floor(24*o),this.nameLabel.lineHeight=Math.floor(26*o),this.redHitNode.x=this.node.width/2-5,this.redHitNode.y=this.node.height/2-10,this.nameLabel.node.y=-(this.node.height/2+21*o)}this.nameClose&&(this.nameLabel.node.active=!1),this.changeColor&&(this.nameLabel.node.color=this.changeColor),this.youziData&&1==this.youziData.hotred&&(this.redHitNode.active=!0),this.initShow()},DIY:function(t){this.pageParentNode=o.YouziData.jsonHasKey(t,"pageParentNode")?t.pageParentNode:null,this.youziData=t.youziData,this.locationIndex=t.locationIndex,this.iconAnimSpeed=t.iconAnimSpeed||.6,this.changeSize=t.size;var e=t.position;this.changeColor=t.nameColor,this.nameClose=t.nameClose,this.cancelCallback=t.cancelCallback,this.cancelType=t.cancelType,e&&(this.node.position=e)},initShow:function(){var t=this;this.youziData?(1==t.youziData.dynamicType&&this.youziData.dynamicIcon?cc.loader.load(this.youziData.dynamicIcon,function(e,i){if(t&&!e){for(var o=[],n=0;n<4;n++)for(var s=0;s<4;s++){var a=new cc.SpriteFrame(i,cc.rect(120*s,120*n,120,120));o.push(a)}var c="anim_icon"+t.youziData.appid,r=cc.AnimationClip.createWithSpriteFrames(o,o.length);r.speed=t.iconAnimSpeed,r.name=c,r.wrapMode=cc.WrapMode.Loop;var l=t.iconSp.node.getComponent(cc.Animation);l.addClip(r),l.play(c)}}):cc.loader.load(this.youziData.iconImg,function(e,i){t&&(e||t.iconSp&&(t.iconSp.spriteFrame=new cc.SpriteFrame(i)))}),this.nameLabel.string=this.youziData.title):console.error("Youzi_Icon\u6570\u636e\u9519\u8bef",this.youziData)},sendExposureLog:function(){o.YouziData.sendExposureLog(this.youziData,this.locationIndex)},touchIconClick:function(){this.redHitNode.active=!1,this.youziData.locationIndex=this.locationIndex,console.log("touchIconClick",this.youziData),o.YouziData.startOtherGame(this.youziData,null,this.cancelCallback,this.cancelType)}});cc._RF.pop()},{"./YouziData":"YouziData"}],Youzi_InviteFriendPlayGame:[function(t,e,i){"use strict";cc._RF.push(e,"c1ffeHScNVOo7cAiU6Iwbl/","Youzi_InviteFriendPlayGame"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateInviteFriendPlayGame=function(t,e){cc.loader.loadRes("youzi/prefabs/Youzi_InviteFriendPlayGame",function(i,o){try{e=e||{};var s=cc.instantiate(o),a=s.getComponent(n);s.position=cc.v2(0,0),a.DIY(e),t.addChild(s),e.callback&&e.callback(s)}catch(i){console.error("YouziCreateInviteFriendPlayGame \u751f\u6210\u9519\u8bef",t,e),console.error(i)}})};var o=t("./YouziData"),n=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.noTouch=this.node.getChildByName("notTouch"),this.bg=this.node.getChildByName("Bg"),this.playerContent=this.bg.getChildByName("playerContent"),this.closeBtn=this.bg.getChildByName("closeBtn"),this.closeBtn.active=!1},start:function(){var t=this.bg.getChildByName("line").getComponent(cc.Graphics),e=cc.Color.BLACK;t.strokeColor=e.fromHEX("#B7B7B7"),t.moveTo(0,0),t.lineTo(500,0),t.stroke(),t.close(),this.initShow()},DIY:function(t){this.cancelCallback=t.cancelCallback,this.cancelType=t.cancelType,this.gameData=null},initShow:function(){o.YouziData._isDataLoaded?this.freshShow():o.YouziData._loadedCallBacks.push(this.freshShow.bind(this))},freshShow:function(){var t=this;o.YouziData.getYouziInviteGameFilterDatas(function(e){e.length>0?(t.gameData=t.chooseGameData(e),t.noTouch.active=!0,t.bg.active=!0,t.showCloseBtn(),t.postMessageToWechatSubContext(),o.YouziData.sendExposureLog(t.gameData,o.BI_PAGE_TYPE.INVITE_FRIEND_PLAYGAME)):t.node.destroy()})},showCloseBtn:function(){var t=this;this.scheduleOnce(function(){t.closeBtn.active=!0},3)},chooseGameData:function(t){var e=o.YouziData.getRandomElementFromArray(t);return e.locationIndex=o.BI_PAGE_TYPE.INVITE_FRIEND_PLAYGAME,e},postMessageToWechatSubContext:function(){wx.getOpenDataContext().postMessage({message:"showYouziInviteContent",gameName:this.gameData.title,playerContentWidth:this.playerContent.width,playerContentHeight:this.playerContent.height})},clickEnter:function(){o.YouziData.startOtherGame(this.gameData,null,this.cancelCallback,this.cancelType),this.clickClose()},clickClose:function(){this.bg.active=!1,this.noTouch.active=!1,this.node.destroy()}});cc._RF.pop()},{"./YouziData":"YouziData"}],Youzi_MoreGameBtn:[function(t,e,i){"use strict";cc._RF.push(e,"76931GseHRB25IA3/burNKv","Youzi_MoreGameBtn"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateMoreGameBtn=function(t,e){cc.loader.loadRes("youzi/prefabs/Youzi_MoreGameBtn",function(i,n){try{e=e||{};var s=cc.instantiate(n);s.position=cc.v2(0,0),t.addChild(s);var a=s.getComponent(o);a.DIY(e),e.callback&&e.callback(s)}catch(i){console.error("YouziCreateMoreGameBtn \u751f\u6210\u9519\u8bef",t,e)}})};var o=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.btn=this.node.getComponent(cc.Button)},start:function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Youzi_MoreGameBtn",t.handler="btnClick",this.btn.clickEvents.push(t)},btnClick:function(){this.clickEvent&&this.clickEvent()},DIY:function(t){this.clickEvent=t.clickEvent,t.size&&(this.node.width=t.size.width,this.node.height=t.size.height),t.position&&(this.node.position=t.position)}});cc._RF.pop()},{}],Youzi_MultipleMain:[function(t,e,i){"use strict";cc._RF.push(e,"34286su8u9CJ6/blG56alOv","Youzi_MultipleMain"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();i.YouziCreateMultipleMain=function(t,e,i){var o=new a;YouziData._isDataLoaded?o.createMultipleMain(t,e,i):YouziData._loadedCallBacks.push(function(){o.createMultipleMain(t,e,i)});return o};var n=t("./YouziUI_Main");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){s(this,t)}return o(t,[{key:"createMultipleMain",value:function(t,e,i){var o=YouziData.getMainNum(t);if(o[0]){var s=o[0],a=o[1];this.mainNodeNum=s,this.isSwitchMain=a,this.nodes=t,e||(e=[]);for(var c=0;c<s;c++)e[c]||(e[c]={}),e[c].cancelType=i,e[c].isCreateMultipleMain=!0,e[c].mainIconIndex=c,(0,n.YouziCreateMain)(t[c],e[c]);this.setMainInterval()}}},{key:"setMainInterval",value:function(){if(this.isSwitchMain){var t=this;t.changeIconInterval=setInterval(function(){for(var e=YouziData.mainRecDatas.length,i=YouziData.getGamesIndex(e,t.mainNodeNum),o=0;o<t.mainNodeNum;o++)t.nodes[o].getParent()||clearInterval(t.changeIconInterval),t.nodes[o].updateMultipleMain&&t.nodes[o].updateMultipleMain(i[o])},5e3)}}},{key:"clearMainInterval",value:function(){this.changeIconInterval&&clearInterval(this.changeIconInterval)}}]),t}();cc._RF.pop()},{"./YouziUI_Main":"YouziUI_Main"}],Youzi_StripIcon:[function(t,e,i){"use strict";cc._RF.push(e,"4f7edCpkUlLo6Nb+zXYI4qz","Youzi_StripIcon"),Object.defineProperty(i,"__esModule",{value:!0}),i.YouziCreateStripIcon=function(t,e,i){e=e||{};var s=[];cc.loader.loadRes("youzi/prefabs/Youzi_StripIcon",function(a,c){try{if(o.YouziData._isDataLoaded){var r=o.YouziData.getDatasByBIType(t);console.log("datas---\x3e"+r);for(var l=0;l<r.length;l++){var h=r[l],d=cc.instantiate(c);d.position=cc.v2(0,0),d.name=h.appid;var u=d.getComponent(n);e.youziData=h,e.locationIndex=t,u.DIY(e),s.push(d)}i&&i(s)}else console.warn("\u83b7\u5f97\u4e2d\u5fc3\u5316\u6570\u636e\u5931\u8d25,\u6216\u4e2d\u5fc3\u5316\u6570\u636e\u4e0b\u884c\u672a\u5b8c\u6210 \u65e0\u6cd5\u521b\u5efaIcon"),i&&i([])}catch(t){console.error("YouziCreateStripIcon \u751f\u6210\u9519\u8bef",e),i&&i([])}})};var o=t("./YouziData"),n=cc.Class({extends:cc.Component,properties:{icon:cc.Node,title:cc.Node,redDot:cc.Node,separateLine:cc.Node},onLoad:function(){this.iconSp=this.icon.getComponent(cc.Sprite),this.nameLabel=this.title.getComponent(cc.RichText);var t=this.separateLine.getComponent(cc.Graphics),e=cc.Color.BLACK;t.strokeColor=e.fromHEX("#e5dfdf"),t.moveTo(0,0),t.lineTo(497,0),t.stroke(),t.close()},start:function(){this.initShow()},DIY:function(t){this.pageParentNode=o.YouziData.jsonHasKey(t,"pageParentNode")?t.pageParentNode:null,this.youziData=t.youziData,this.locationIndex=t.locationIndex,this.iconAnimSpeed=t.iconAnimSpeed||.6;var e=t.position;e&&(this.node.position=e)},initShow:function(){var t=this;this.youziData?(1==t.youziData.dynamicType&&this.youziData.dynamicIcon?cc.loader.load(this.youziData.dynamicIcon,function(e,i){if(t&&!e){for(var o=[],n=0;n<4;n++)for(var s=0;s<4;s++){var a=new cc.SpriteFrame(i,cc.rect(120*s,120*n,120,120));o.push(a)}var c="anim_icon"+t.youziData.appid,r=cc.AnimationClip.createWithSpriteFrames(o,o.length);r.speed=t.iconAnimSpeed,r.name=c,r.wrapMode=cc.WrapMode.Loop;var l=t.iconSp.node.getComponent(cc.Animation);t.icon.scale=88/120,l.addClip(r),l.play(c)}}):cc.loader.load(this.youziData.iconImg,function(e,i){t&&(e||t.iconSp&&(t.iconSp.spriteFrame=new cc.SpriteFrame(i),t.icon.height=88,t.icon.width=88))}),this.nameLabel.string="<color=#000000>"+t.youziData.title+"</c>",this.youziData.hotred&&(this.redDot.active=!0)):console.error("Youzi_StripIcon\u6570\u636e\u9519\u8bef",this.youziData)},touchIconClick:function(){this.youziData.locationIndex=this.locationIndex,console.log("touchIconClick",this.youziData),o.YouziData.startOtherGame(this.youziData,null,this.cancelCallback,null)}});cc._RF.pop()},{"./YouziData":"YouziData"}],Youzi_WechatBanner:[function(t,e,i){"use strict";cc._RF.push(e,"f05d3utcaFHPb+vkl12uwMg","Youzi_WechatBanner"),Object.defineProperty(i,"__esModule",{value:!0}),i.Youzi_WechatBanner=i.WECHAT_BANNER_POSTYPE=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=t("./YouziData");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=i.WECHAT_BANNER_POSTYPE={BOTTOM:1,TOP:2};i.Youzi_WechatBanner=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];s(this,t),this.adUnitId=e,this.posType=i||1,this.offset=o||cc.v2(0,0),this.bannerType=n.BANNER_TYPE.WX,this.isShowBanner=!1,this.isOffSwitch=a,this.isOffSwitchSelf=c,this.initShow()}return o(t,[{key:"initShow",value:function(){n.YouziData._isDataLoaded?this.freshShow():n.YouziData._loadedCallBacks.push(this.freshShow.bind(this))}},{key:"freshShow",value:function(){this.createWXBanner(),this.isOffSwitch||(n.YouziData.addBanner(this),this._autoSwitchSelf())}},{key:"createWXBanner",value:function(){if(window.wx&&wx.createBannerAd){var t=this,e=wx.getSystemInfoSync().screenWidth,i=wx.getSystemInfoSync().screenHeight,o=cc.view.getDesignResolutionSize(),n=e/o.width*o.height,s=e/o.width*100+(i-n)/2,c=this.bannerAd,r=wx.createBannerAd({adUnitId:this.adUnitId,style:{left:this.offset.x,top:this.offset.y,width:e}}),l=!1;r.onResize(function(o){if(!l){if(r.style.realHeight>s){l=!0;var n=e*s/r.style.realHeight;n=cc.misc.clampf(n,300,9999),r.style.width=n,r.style.top=i-r.style.realHeight*(n/r.style.realWidth)+t.offset.y,r.style.left=(e-r.style.width)/2+t.offset.x}else r.style.top=i-r.style.realHeight+t.offset.y,i/e>2&&(r.style.top=r.style.top-34+t.offset.y);t.posType==a.TOP&&(r.style.left=(e-r.style.width)/2+t.offset.x,r.style.top=t.offset.y,i/e>2?r.style.top+=76:e/i>2&&(r.style.top+=76))}}),r.onLoad(function(e){c&&(c.hide(),c.destroy()),t.isShowBanner?r.show():r.hide()}),r.onError(function(t){console.warn("\u5fae\u4fe1banner\u51fa\u9519",t)}),this.bannerAd=r}}},{key:"showBanner",value:function(){this.isShowBanner=!0,this.bannerAd&&this.bannerAd.show()}},{key:"hideBanner",value:function(){this.isShowBanner=!1,this.bannerAd&&this.bannerAd.hide()}},{key:"destroySelf",value:function(){this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null),this.isShowBanner=!1}},{key:"switchBannerNow",value:function(){this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null),this.createWXBanner(),this._autoSwitchSelf()}},{key:"_autoSwitchSelf",value:function(){if(!this.isOffSwitchSelf){var t=this;this.refreshTimer=setInterval(function(){t.createWXBanner()},1e3*n.YouziData._bannerCreateInterval)}}}]),t}();cc._RF.pop()},{"./YouziData":"YouziData"}],Youzi:[function(t,e,i){"use strict";cc._RF.push(e,"5ac48YRSw5Iw7qFNrDdQ46Y","Youzi"),Object.defineProperty(i,"__esModule",{value:!0}),i.Youzi=void 0;var o=t("./scripts/YouziData"),n=t("./scripts/YouziUI_Main"),s=t("./scripts/YouziUI_Float"),a=t("./scripts/Youzi_FloatBtn"),c=t("./scripts/YouziUI_MoreGame"),r=t("./scripts/Youzi_MoreGameBtn"),l=t("./scripts/YouziUI_Guess"),h=t("./scripts/YouziUI_Matrix"),d=t("./scripts/YouziUI_GameBanner"),u=t("./scripts/Youzi_WechatBanner"),p=t("./scripts/YouziUI_Box"),f=t("./scripts/Youzi_Icon"),m=t("./scripts/YouziUI_ScreenPage"),g=t("./scripts/YouziUI_SmallMatrixWall"),v=t("./scripts/Youzi_MultipleMain"),y=t("./scripts/YouziUI_FullScreen"),_=t("./scripts/YouziUI_FullScreen2"),C=t("./scripts/YouziUI_FullScreen3"),A=t("./scripts/YouziUI_FloatBanner"),I=t("./scripts/Youzi_InviteFriendPlayGame"),w={1:null,2:null,3:null,4:null,5:null,6:null,10:null,11:null,12:null},E=i.Youzi={gamePageCallFun:null,init:function(t,e,i){o.YouziData.setPropertiesValue("createGamePageCall",this.onlySdk_Call_GamePage.bind(this)),o.YouziData.init(t,e,i)},openFullAutoNavigate:function(t){o.YouziData.openFullNavigate(t)},setGameNameHide:function(t,e){o.YouziData.setPropertiesValue(t,e)},registerCancelCallback:function(t){var e,i=this;w[11]=t,o.YouziData._cancelCallback=[];(e=o.YouziData._cancelCallback).push.apply(e,[function(){i._createMoreAfterCancel(t)},function(){i._createFullScreenAfterCancel(t,1)},function(){i._createFullScreenAfterCancel(t,2)},function(){i._createFullScreenAfterCancel(t,3)}])},createYouziUI_Main:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[1]=t;var i=function(){o.YouziData.mainRecDatas.length<=0||o.YouziData.touTiaoAllow&&(0,n.YouziCreateMain)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},_createFullScreenAfterCancel:function(t,e){var i={isClose:!1,cancelCallback:!0,screenType:e};this.createYouziUI_FullScreenIcon(t,i)},createYouziUI_MultipleMain:function(t,e,i){return w[1]=t[t.length-1],o.YouziData.touTiaoAllow?(0,v.YouziCreateMultipleMain)(t,e,i):null},createYouzi_FloatBtn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){o.YouziData.hotListDatas.length<=0||o.YouziData.touTiaoAllow&&(0,a.YouziCreateFloatBtn)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},createYouziUI_Float:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[2]=t;var i=function(){o.YouziData.hotListDatas.length<=0||o.YouziData.touTiaoAllow&&(0,s.YouziCreateFloat)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},createYouzi_FloatBanner:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[2]=t;var i=function(){o.YouziData.hotListDatas.length<=0||o.YouziData.touTiaoAllow&&(0,A.YouziCreateFloatBanner)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},createYouzi_MoreGameBtn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){o.YouziData.moreDatas.length<=0||o.YouziData.touTiaoAllow&&(0,r.YouziCreateMoreGameBtn)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},createYouziUI_MoreGame:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[5]=t;var i=function(){o.YouziData.moreDatas.length<=0||o.YouziData.touTiaoAllow&&(0,c.YouziCreateMoreGame)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},createYouziUI_Guess:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[4]=t;var i=function(){o.YouziData.matrixBannerDatas.length<=0||o.YouziData.touTiaoAllow&&(0,l.YouziCreateGuess)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},_createMoreAfterCancel:function(t){(0,c.YouziCreateMoreGame)(t,{isShowNow:!0,cancelCallback:!0})},createYouziUI_Matrix:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[3]=t;var i=function(){o.YouziData.matrixBannerDatas.length<=0||o.YouziData.touTiaoAllow&&(0,h.YouziCreateMatrix)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},createYouziUI_GameBanner:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[6]=t;var i=function(){o.YouziData.gameBannerDatas.length<=0||o.YouziData.touTiaoAllow&&(0,d.YouziCreateGameBanner)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},createYouziUI_WechatBanner:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(o.YouziData.touTiaoAllow)return new u.Youzi_WechatBanner(t,e,i,n,s)},createYouziIcons:function(t,e,i){o.YouziData.touTiaoAllow&&(0,f.YouziCreateIcons)(t,e,i)},createYouziUI_Box:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.YouziData.touTiaoAllow&&(0,p.YouziCreateBox)(t,e)},createYouziUI_ScreenPage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.YouziData.touTiaoAllow&&(0,m.YouziCreateScreenPage)(t,e)},createYouziUI_SmallMatrixWall:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[10]=t;var i=function(){o.YouziData.moreDatas.length<=0||o.YouziData.touTiaoAllow&&(0,g.YouziCreateSmallMatrixWall)(t,e)};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},creatYouziUI_IviteFriendPlayGame:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log("parentNode"+t.name),CC_WECHATGAME){w[12]=t,console.log("\u8fdb\u5165YZ\u5f39\u7a97\u63a8\u9001\u4e2d");var i=function(){(0,I.YouziCreateInviteFriendPlayGame)(t,e)};o.YouziData.getDataLoaded()?(i(),console.log("\u8fdb\u5165YZ\u5f39\u7a97\u63a8\u9001\u4e2d111111111111111")):(o.YouziData._loadedCallBacks.push(i.bind(this)),console.log("\u8fdb\u5165YZ\u5f39\u7a97\u63a8\u9001\u4e2d222222222222"))}},createYouziUI_FullScreenIcon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w[11]=t;var i=function(){if(!(o.YouziData.fullMatrixScrennDatas.length<=0)&&o.YouziData.touTiaoAllow){var i=e.screenType?e.screenType:o.YouziData.screenType;1===i?(0,y.YouziCreateFullScreen)(t,e):2===i?(0,_.YouziCreateFullScreen2)(t,e):3===i&&(0,C.YouziCreateFullScreen3)(t,e)}};o.YouziData.getDataLoaded()?i():o.YouziData._loadedCallBacks.push(i.bind(this))},registerGamePageCall:function(t){this.gamePageCallFun=t},offGamePageCall:function(){this.gamePageCallFun=null},onlySdk_Call_GamePage:function(t,e,i){var o=w[11]||w[String(t)];if(o){var n={gamePageData:e,gamePageComplete:i,pageType:2,gamePageUiState:this.gamePageCallFun};(0,m.YouziCreateScreenPage)(o,n)}else i()}};window.Youzi=E,cc._RF.pop()},{"./scripts/YouziData":"YouziData","./scripts/YouziUI_Box":"YouziUI_Box","./scripts/YouziUI_Float":"YouziUI_Float","./scripts/YouziUI_FloatBanner":"YouziUI_FloatBanner","./scripts/YouziUI_FullScreen":"YouziUI_FullScreen","./scripts/YouziUI_FullScreen2":"YouziUI_FullScreen2","./scripts/YouziUI_FullScreen3":"YouziUI_FullScreen3","./scripts/YouziUI_GameBanner":"YouziUI_GameBanner","./scripts/YouziUI_Guess":"YouziUI_Guess","./scripts/YouziUI_Main":"YouziUI_Main","./scripts/YouziUI_Matrix":"YouziUI_Matrix","./scripts/YouziUI_MoreGame":"YouziUI_MoreGame","./scripts/YouziUI_ScreenPage":"YouziUI_ScreenPage","./scripts/YouziUI_SmallMatrixWall":"YouziUI_SmallMatrixWall","./scripts/Youzi_FloatBtn":"Youzi_FloatBtn","./scripts/Youzi_Icon":"Youzi_Icon","./scripts/Youzi_InviteFriendPlayGame":"Youzi_InviteFriendPlayGame","./scripts/Youzi_MoreGameBtn":"Youzi_MoreGameBtn","./scripts/Youzi_MultipleMain":"Youzi_MultipleMain","./scripts/Youzi_WechatBanner":"Youzi_WechatBanner"}],adada:[function(t,e,i){"use strict";cc._RF.push(e,"ce705yCpuRO0ZvqxjkgVuXa","adada");var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=t("BILog"),a={banner:!0},c=new(function(){function t(){n(this,t),this.WX_BANNER_ID=["adunit-c0a04d921b66e345"],this.WX_INTERSTITIAL_ID=["adunit-cc105d403a0df57d"],this.WX_VIDEO_IDS=["adunit-71366677a995ce81"],this.BAIDU_APP_ID="e15c9d37",this.BAIDU_BANNER_ID="6343860",this.BAIDU_VIDEO_IDS=["6343861","6343862"],this.TT_BANNER_ID=["9kcmisrc8d64dinl4j"],this.TT_VIDEO_IDS=["177fkdlp2n05ddishb","8ej5n3l7b153h4fh5u","a2db3bq4qjb358w6bk"],this.OPPO_BANNER_ID="139442",this.OPPO_INTERSTITIAL_ID="139443",this.OPPO_VIDEO_IDS=["139445"],this.VIVO_BANNER_ID="ee90cc9df0344d97b59c247289382ce6",this.VIVO_INTERSTITIAL_ID="3ad785d91f0645a690c2395d0142b51b",this.VIVO_VIDEO_IDS=["23f63511821d4295b086b026822fc255"],this.QQ_BANNER_ID=["b74e65991b5346b106bc5a15ee11e4d2"],this.QQ_VIDEO_IDS=["c7a90d5f0802368fd5d087be90a9eacc","2fdbc1c3a9ef407932e9c4171da0e33b","4da8ea81f72677b36171ac9cfb0227e0"],this.curBannerId=0,this.wxBannerAd=null,this.oppoBannerAd=null,this.vivoBannerAd=null,this.baiduBannerAd=null,this.wxInterstitialAd=[null,null,null],this.oppoInterstitialAd=null,this.vivoInterstitialAd=null,this.hasShowGameClub=!1,this.isShowBanner=!1,this.bannerTime=0,this.userinfoBtn=null,this.curBannerId=Math.floor(Math.random()*this.WX_BANNER_ID.length)}return o(t,[{key:"showVideo",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(cc.sys.platform===cc.sys.WECHAT_GAME){var o=null;o=window.isTT?this.TT_VIDEO_IDS[t]:this.WX_VIDEO_IDS[t],this.showWxVideo(t,o,e,i)}else{if(window.isQQ){var n=this.QQ_VIDEO_IDS[t];return void this.showWxVideo(t,n,e,i)}cc.sys.platform===cc.sys.VIVO_GAME?this.showVIVOVideo(t,e,i):window.qg?this.showOPPOVideo(t,e,i):cc.sys.platform===cc.sys.BAIDU_GAME?this.showBaiduVideo(t,e,i):(e(!0),console.log("\u64ad\u653e\u89c6\u9891"))}}},{key:"showBaiduVideo",value:function(t,e,i){var o={adUnitId:this.BAIDU_VIDEO_IDS[t],appSid:this.BAIDU_APP_ID},n=swan.createRewardedVideoAd(o);cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll(),n.onError(function(t){console.log(t.errMsg+" errCode:"+t.errCode),i(t),n.offLoad(),n.offError(),n.offClose(),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()}),n.onClose(function(t){e(t.isEnded),n.offLoad(),n.offError(),n.offClose(),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()}),n.load().then(function(){return n.show()}).catch(function(t){return console.log(t)})}},{key:"showOPPOVideo",value:function(t,e,i){var o=this;console.log("id"+t);var n=void 0;cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll();var s=function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1",t.code),e(!0),n.offLoad(),n.offVideoStart(),n.offClose(),n.offError(),n.destroy()};try{(n=qg.createRewardedVideoAd({posId:o.OPPO_VIDEO_IDS[t]})).onLoad(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",t.code),n.show()}),n.onError(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u51fa\u9519",t.code),i(),n.offLoad(),n.offVideoStart(),n.offClose(),n.offError(),n=null,cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()}),n.onVideoStart(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u5f00\u59cb\u64ad\u653e",t.code),1}),console.log("1"),n.onClose(function(t){t.isEnded?s(t):(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e(!1)),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()}),console.log("2"),n.load()}catch(t){return console.log("7"),void console.error(t)}}},{key:"showVIVOVideo",value:function(t,e,i){if(qg.getSystemInfoSync().platformVersionCode>=1041){var o=void 0,n=this;cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll();var s=function(){console.log("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f");var t=o.show();t&&t.catch(function(t){console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})},a=function t(e){console.log("\u89c6\u9891\u5e7f\u544a\u51fa\u9519",e.errCode),i(),o.offLoad(s),o.offClose(c),o.offError(t),o=null,cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()},c=function(t){t.isEnded?r():(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),e(!1)),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()},r=function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e(!0),o.offLoad(s),o.offClose(c),o.offError(a),o=null};try{o=function(){if(qg.createRewardedVideoAd)return qg.createRewardedVideoAd({posId:n.VIVO_VIDEO_IDS[t],style:{}})}(),console.log("1"),o.onLoad(s),o.onClose(c),o.onError(a),console.log("2"),o.load()}catch(t){return void console.log("7")}}}},{key:"showBanner",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t=t||function(){},e=e||function(){},cc.sys.platform===cc.sys.WECHAT_GAME){var i=null;window.isTT?(i=this.TT_BANNER_ID[0],this.showTTBanner(i,t,e)):cc.sys.platform===cc.sys.WECHAT_GAME&&(i=this.WX_BANNER_ID[0],this.showWxBanner(i,t,e))}else window.isQQ?this.showWxBanner(this.QQ_BANNER_ID[0],t,e):cc.sys.platform===cc.sys.VIVO_GAME?this.showVIVOBanner(t,e):window.qg?this.showOPPOBanner(t,e):cc.sys.platform===cc.sys.BAIDU_GAME&&this.showBaiduBanner(t,e)}},{key:"showBaiduBanner",value:function(t,e){var i=this,o=swan.getSystemInfoSync(),n={adUnitId:this.BAIDU_BANNER_ID,appSid:this.BAIDU_APP_ID,style:{top:o.windowHeight,left:(o.windowWidth-300)/2,width:0}};baiduBannerAd=swan.createBannerAd(n),this.baiduBannerAd.onLoad(function(){i.baiduBannerAd.show().then().catch(function(t){return console.log(t)})}),this.baiduBannerAd.onResize(function(t){i.baiduBannerAd.style.top=o.windowHeight-t.height}),this.baiduBannerAd.style.width=300}},{key:"showOPPOBanner",value:function(t,e){var i=this;try{console.log("11"),this.oppoBannerAd=qg.createBannerAd({posId:i.OPPO_BANNER_ID}),console.log("22"),this.oppoBannerAd.onShow(function(e){console.log("oppo Banner load",e.code),t()}),this.oppoBannerAd.onHide(function(t){console.log("banner \u5e7f\u544a\u9690\u85cf",t.code),i.oppoBannerAd.offShow(),i.oppoBannerAd.offHide(),i.oppoBannerAd.offError(),i.oppoBannerAd=null}),console.log("33"),this.oppoBannerAd.onError(function(t){console.error("oppo Banner err",t.code),console.error(t),e()}),console.log("44"),this.oppoBannerAd.show(),console.log("55")}catch(t){return void console.log("66")}}},{key:"showVIVOBanner",value:function(t,e){var i=this;if(qg.getSystemInfoSync().platformVersionCode>=1031){var o=function(){console.log("vivo Banner show")};if(null===this.vivoBannerAd){var n=function(t){console.error("vivo Banner err",t)};try{console.log("11"),this.vivoBannerAd=qg.createBannerAd({posId:i.VIVO_BANNER_ID,style:{}}),this.vivoBannerAd.onLoad(function(){console.log("vivo Banner load");var n=i.vivoBannerAd.show();n&&n.then(o).catch(function(o){console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25",o),3e4===o.code&&(i.vivoBannerAd.destroy(),i.vivoBannerAd=null,i.showVIVOBanner(t,e))}),console.log("55")}),this.vivoBannerAd.onError(n),this.vivoBannerAd.onClose(function t(){console.log("banner \u5e7f\u544a\u5173\u95ed"),i.vivoBannerAd.offError(n),i.vivoBannerAd.offClose(t),i.vivoBannerAd.destroy(),i.vivoBannerAd=null}),console.log("44")}catch(t){return void console.log("66")}}else{var s=this.vivoBannerAd.show();s&&s.then(o).catch(function(o){console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25",o),3e4===o.code&&(i.vivoBannerAd.destroy(),i.vivoBannerAd=null,i.showVIVOBanner(t,e))})}}}},{key:"initGameClub",value:function(t){if(!cc.sys.platform!==cc.sys.WECHAT_GAME){var e=wx.getSystemInfoSync(),i=e.SDKVersion;if(this.compareVersion(i,"2.0.4")>=0)if(this.hasShowGameClub)cc.dlm.gameClub.show();else{var o=e.screenWidth/cc.director.getWinSize().width,n=t.w*o,s=t.h*o,a=t.t*o,c=t.l*o,r=wx.createGameClubButton({icon:"green",style:{left:c,top:a,width:n,height:s}});r.onTap(function(t){}),cc.dlm.gameClub=r,this.hasShowGameClub=!0}}}},{key:"hideGameClub",value:function(){this.hasShowGameClub&&cc.dlm.gameClub.hide()}},{key:"showGameClub",value:function(){this.hasShowGameClub&&cc.dlm.gameClub.show()}},{key:"hideBanner",value:function(){cc.sys.platform===cc.sys.WECHAT_GAME?this.wxBannerAd&&(this.isShowBanner=!1,this.wxBannerAd.hide()):window.qg?this.oppoBannerAd&&this.oppoBannerAd.hide():cc.sys.platform===cc.sys.BAIDU_GAME&&this.baiduBannerAd&&this.baiduBannerAd.hide()}},{key:"showTTBanner",value:function(t,e,i){var o=this;a.banner&&this.bannerTime%2&&this.wxBannerAd&&(this.wxBannerAd.destroy(),this.wxBannerAd=null),this.bannerTime++;var n=wx.getSystemInfoSync();n.SDKVersion;if(window.isTT){if(!this.wxBannerAd){var c=tt.getSystemInfoSync(),r=c.windowWidth,l=c.windowHeight,h=200;this.wxBannerAd=tt.createBannerAd({adUnitId:t,style:{width:h,top:l-h/16*9-20}});var d=this;this.wxBannerAd.style.left=(r-h)/2,this.wxBannerAd.onResize(function(t){console.log(t.width,t.height),h!=t.width&&(h=t.width,o.wxBannerAd.style.top=l-t.height-25,o.wxBannerAd.style.left=(r-t.width)/2)}),this.wxBannerAd.onLoad(function(){if(console.log("onLoad"),!window.isTT){var t=d.wxBannerAd.style.realWidth,i=(n.screenWidth-t)/2;d.wxBannerAd.style.left=i,e&&e()}}),this.wxBannerAd.onError(function(t){i&&i(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.error(1,t.errCode))})}this.wxBannerAd.show()}else i&&i()}},{key:"showWxBanner",value:function(t,e,i){var o=this;a.banner&&this.bannerTime%2&&this.wxBannerAd&&(this.wxBannerAd.destroy(),this.wxBannerAd=null),this.bannerTime++;var n=wx.getSystemInfoSync().SDKVersion;if(this.compareVersion(n,"2.0.4")>=0||window.isQQ||window.isTT){if(!this.wxBannerAd){var c=wx.getSystemInfoSync().screenWidth,r=wx.getSystemInfoSync().screenHeight,l=cc.view.getDesignResolutionSize(),h=c/l.width*l.height,d=c/l.width*100+(r-h)/2;this.wxBannerAd=wx.createBannerAd({adUnitId:t,style:{left:0,top:0,width:c}});var u=!1;this.wxBannerAd.onLoad(function(){e&&e()}),this.wxBannerAd.onError(function(t){i&&i(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.error(1,t.errCode))}),this.wxBannerAd.onResize(function(t){if(!u){var e=o.wxBannerAd;if(e.style.realHeight>d){u=!0;var i=c*d/e.style.realHeight;i=cc.misc.clampf(i,300,9999),e.style.width=i,e.style.top=r-e.style.realHeight*(i/e.style.realWidth),e.style.left=c-e.style.width}else e.style.top=r-e.style.realHeight,r/c>2&&(e.style.top=e.style.top-34)}})}this.wxBannerAd.show()}else i&&i()}},{key:"showWxVideo",value:function(t,e,i,o){var n=wx.getSystemInfoSync().SDKVersion;if(this.compareVersion(n,"2.0.4")>=0||window.isQQ||isTT){cc.systemEvent.emit("block_on"),cc.dlm.soundMgr.pauseAll();var a=null,c=function(){console.log("onLoad")},r=function t(e){cc.director.resume(),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll(),cc.sys.platform===cc.sys.WECHAT_GAME&&(window.isTT||cc.sys.platform===cc.sys.WECHAT_GAME&&s.error(0,err.errCode)),o&&o(),console.log("onError"),console.log(e),a.offLoad(c),a.offClose(l),a.offError(t)},l=function t(e){cc.director.resume(),e&&e.isEnded||void 0===e?i(!0):i(!1),console.log("onClose"),a.offLoad(c),a.offClose(t),a.offError(r),cc.systemEvent.emit("block_off"),cc.dlm.soundMgr.resumeAll()};(a=window.isTT?tt.createRewardedVideoAd({adUnitId:e}):wx.createRewardedVideoAd({adUnitId:e})).onLoad(c),a.onError(r),a.onClose(l),a.load().then(function(){return a.show()}).catch(function(t){console.log(t.errMsg),a.load().then(function(){return a.show()}).catch(function(t){console.log(t.errMsg),a.load().then(function(){return a.show()}).catch(function(t){console.log(t.errMsg)})})})}else o&&o(),console.log("\u7248\u672c\u4e0d\u5bf9")}},{key:"showInterstitial",value:function(t,e,i){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.VIVO_GAME?this.showVIVOInterstitial(e,i):window.qg)}},{key:"showWxInterstitial",value:function(t,e,i){e=e||function(){},i=i||function(){};var o=wx.getSystemInfoSync().SDKVersion;if(this.compareVersion(o,"2.6.0")>=0)try{if(this.wxInterstitialAd[t])return void this.wxInterstitialAd[t].show();var n=this.WX_INTERSTITIAL_ID[t];this.wxInterstitialAd[t]=wx.createInterstitialAd({adUnitId:n});this.wxInterstitialAd[t].onLoad(function(){e()}),this.wxInterstitialAd[t].onError(function(t){i()}),this.wxInterstitialAd[t].show()}catch(t){console.log(t)}}},{key:"showOPPOInterstitial",value:function(t,e){var i=this;try{this.oppoInterstitialAd=function(){var t=cc.sys.platform==cc.sys.OPPO_GAME?i.OPPO_INTERSTITIAL_ID:i.VIVO_INTERSTITIAL_ID;return qg.createInsertAd({posId:t})}(),this.oppoInterstitialAd.onLoad(function(){console.log("oppo Interstitial load"),i.oppoInterstitialAd.show()}),this.oppoInterstitialAd.onShow(function(){console.log("oppo Interstitial show"),t()}),this.oppoInterstitialAd.onError(function(t){console.error("oppo Interstitial err",t.code),console.error(t),e()}),this.oppoInterstitialAd.load()}catch(t){return void console.log(t)}}},{key:"showVIVOInterstitial",value:function(t,e){var i=this;if(qg.getSystemInfoSync().platformVersionCode>=1031){var o=function(t){console.error("vivo Interstitial err",t)},n=function(){console.log("vivo Interstitial load");var t=i.vivoInterstitialAd.show();t&&t.then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",t)})};try{this.vivoInterstitialAd=qg.createInterstitialAd({posId:i.VIVO_INTERSTITIAL_ID}),this.vivoInterstitialAd.onError(o),this.vivoInterstitialAd.onLoad(n)}catch(t){return void console.log(t)}}}},{key:"compareVersion",value:function(t,e){t=t||[],e=e||[],t=(""+t).split("."),e=(""+e).split(".");for(var i=Math.max(t.length,e.length);t.length<i;)t.push("0");for(;e.length<i;)e.push("0");for(var o=0;o<i;o++){var n=parseInt(t[o]),s=parseInt(e[o]);if(n>s)return 1;if(n<s)return-1}return 0}},{key:"destroyWxLoginBtn",value:function(){this.userinfoBtn&&(this.userinfoBtn.destroy(),this.userinfoBtn=null)}},{key:"createWxLoginBtn",value:function(t,e){var i=this;!cc.sys.platform!==cc.sys.WECHAT_GAME&&(a.isLogin||(this.destroyWxLoginBtn(),console.log("wx.getUserInfo "),wx.getUserInfo({success:function(t){a.isLogin=!0,console.log("\u767b\u9646\u6210\u529f")},fail:function(o){console.log("\u767b\u9646\u5931\u8d25");var n=t.convertToWorldSpace(cc.v2(0,0)),s=n.x,a=n.y,c=t.width,r=t.height,l=cc.winSize,h=s,d=l.height-a-r,u=wx.getSystemInfoSync().screenWidth/l.width;h*=u,d*=u,c*=u,r*=u,i.userinfoBtn=wx.createUserInfoButton({type:"image",image:"https://cdnminigame.lightlygame.com.cn/wherekey/1shouji/"+["btn1.png","btn1.png","btn2.png","btn3.png"][e],style:{left:h,top:d,width:c,height:r,textAlign:"center"}}),i.userinfoBtn.onTap(function(t){"getUserInfo:fail auth deny"==t.errMsg?console.log("\u6388\u6743\u5931\u8d25"):(i.userinfoBtn.destroy(),console.log("\u6388\u6743\u6210\u529f"))})}})))}}]),t}());e.exports=c,cc._RF.pop()},{BILog:"BILog"}],"camera-control":[function(t,e,i){"use strict";cc._RF.push(e,"3b0d21XP2NLoLK5VbzVmfR5","camera-control");var o=t("EventConst");cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},_shake:null,_zoomTo:1,_zoomDelta:0},onLoad:function(){this.camera=this.getComponent(cc.Camera),cc.dlm.camera=this.camera,this._shake=this.getComponent("Shake"),cc.systemEvent.on(o.CAMERA_RATIO,this.zoomAnim,this)},onDestroy:function(){cc.systemEvent.off(o.CAMERA_RATIO,this.zoomAnim,this)},zoomAnim:function(t,e){if(e=e||0,this._zoomTo=t,e<=0)this.camera.zoomRatio=t,this._zoomDelta=0;else{var i=t-this.camera.zoomRatio;this._zoomDelta=i/e}},lateUpdate:function(t){if(this.target){var e=cc.visibleRect,i=this.target.x-e.width/3,o=this.target.y-2*e.height/5;this._shake&&(i+=this._shake._offX,o+=this._shake._offY),this.node.position=cc.v2(i,o);var n=this.camera.zoomRatio;if(this._zoomTo!=n){var s=this._zoomDelta*t;n+=s,Math.abs(n-this._zoomTo)<Math.abs(s)?this.camera.zoomRatio=this._zoomTo:this.camera.zoomRatio=n}}}}),cc._RF.pop()},{EventConst:"EventConst"}],earcut:[function(t,e,i){"use strict";function o(t,e,i){i=i||2;var o,s,c,r,l,h,u,p=e&&e.length,f=p?e[0]*i:t.length,m=n(t,0,f,i,!0),g=[];if(!m||m.next===m.prev)return g;if(p&&(m=d(t,e,m,i)),t.length>80*i){o=c=t[0],s=r=t[1];for(var v=i;v<f;v+=i)l=t[v],h=t[v+1],l<o&&(o=l),h<s&&(s=h),l>c&&(c=l),h>r&&(r=h);u=0!==(u=Math.max(c-o,r-s))?1/u:0}return a(m,g,i,o,s,u),g}function n(t,e,i,o,n){var s,a;if(n===Y(t,e,i,o)>0)for(s=e;s<i;s+=o)a=x(s,t[s],t[s+1],a);else for(s=i-o;s>=e;s-=o)a=x(s,t[s],t[s+1],a);return a&&w(a,a.next)&&(G(a),a=a.next),a}function s(t,e){if(!t)return t;e||(e=t);var i,o=t;do{if(i=!1,o.steiner||!w(o,o.next)&&0!==I(o.prev,o,o.next))o=o.next;else{if(G(o),(o=e=o.prev)===o.next)break;i=!0}}while(i||o!==e);return e}function a(t,e,i,o,n,d,u){if(t){!u&&d&&g(t,o,n,d);for(var p,f,m=t;t.prev!==t.next;)if(p=t.prev,f=t.next,d?r(t,o,n,d):c(t))e.push(p.i/i),e.push(t.i/i),e.push(f.i/i),G(t),t=f.next,m=f.next;else if((t=f)===m){u?1===u?a(t=l(s(t),e,i),e,i,o,n,d,2):2===u&&h(t,e,i,o,n,d):a(s(t),e,i,o,n,d,1);break}}}function c(t){var e=t.prev,i=t,o=t.next;if(I(e,i,o)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(C(e.x,e.y,i.x,i.y,o.x,o.y,n.x,n.y)&&I(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function r(t,e,i,o){var n=t.prev,s=t,a=t.next;if(I(n,s,a)>=0)return!1;for(var c=n.x<s.x?n.x<a.x?n.x:a.x:s.x<a.x?s.x:a.x,r=n.y<s.y?n.y<a.y?n.y:a.y:s.y<a.y?s.y:a.y,l=n.x>s.x?n.x>a.x?n.x:a.x:s.x>a.x?s.x:a.x,h=n.y>s.y?n.y>a.y?n.y:a.y:s.y>a.y?s.y:a.y,d=y(c,r,e,i,o),u=y(l,h,e,i,o),p=t.prevZ,f=t.nextZ;p&&p.z>=d&&f&&f.z<=u;){if(p!==t.prev&&p!==t.next&&C(n.x,n.y,s.x,s.y,a.x,a.y,p.x,p.y)&&I(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&C(n.x,n.y,s.x,s.y,a.x,a.y,f.x,f.y)&&I(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=d;){if(p!==t.prev&&p!==t.next&&C(n.x,n.y,s.x,s.y,a.x,a.y,p.x,p.y)&&I(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=u;){if(f!==t.prev&&f!==t.next&&C(n.x,n.y,s.x,s.y,a.x,a.y,f.x,f.y)&&I(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function l(t,e,i){var o=t;do{var n=o.prev,a=o.next.next;!w(n,a)&&E(n,o,o.next,a)&&b(n,a)&&b(a,n)&&(e.push(n.i/i),e.push(o.i/i),e.push(a.i/i),G(o),G(o.next),o=t=a),o=o.next}while(o!==t);return s(o)}function h(t,e,i,o,n,c){var r=t;do{for(var l=r.next.next;l!==r.prev;){if(r.i!==l.i&&A(r,l)){var h=B(r,l);return r=s(r,r.next),h=s(h,h.next),a(r,e,i,o,n,c),void a(h,e,i,o,n,c)}l=l.next}r=r.next}while(r!==t)}function d(t,e,i,o){var a,c,r,l=[];for(a=0,c=e.length;a<c;a++)(r=n(t,e[a]*o,a<c-1?e[a+1]*o:t.length,o,!1))===r.next&&(r.steiner=!0),l.push(_(r));for(l.sort(u),a=0;a<l.length;a++)p(l[a],i),i=s(i,i.next);return i}function u(t,e){return t.x-e.x}function p(t,e){if(e=f(t,e)){var i=B(e,t);s(i,i.next)}}function f(t,e){var i,o=e,n=t.x,s=t.y,a=-1/0;do{if(s<=o.y&&s>=o.next.y&&o.next.y!==o.y){var c=o.x+(s-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(c<=n&&c>a){if(a=c,c===n){if(s===o.y)return o;if(s===o.next.y)return o.next}i=o.x<o.next.x?o:o.next}}o=o.next}while(o!==e);if(!i)return null;if(n===a)return i;var r,l=i,h=i.x,d=i.y,u=1/0;o=i;do{n>=o.x&&o.x>=h&&n!==o.x&&C(s<d?n:a,s,h,d,s<d?a:n,s,o.x,o.y)&&(r=Math.abs(s-o.y)/(n-o.x),b(o,t)&&(r<u||r===u&&(o.x>i.x||o.x===i.x&&m(i,o)))&&(i=o,u=r)),o=o.next}while(o!==l);return i}function m(t,e){return I(t.prev,t,e.prev)<0&&I(e.next,t,t.next)<0}function g(t,e,i,o){var n=t;do{null===n.z&&(n.z=y(n.x,n.y,e,i,o)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,v(n)}function v(t){var e,i,o,n,s,a,c,r,l=1;do{for(i=t,t=null,s=null,a=0;i;){for(a++,o=i,c=0,e=0;e<l&&(c++,o=o.nextZ);e++);for(r=l;c>0||r>0&&o;)0!==c&&(0===r||!o||i.z<=o.z)?(n=i,i=i.nextZ,c--):(n=o,o=o.nextZ,r--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=o}s.nextZ=null,l*=2}while(a>1);return t}function y(t,e,i,o,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-o)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function C(t,e,i,o,n,s,a,c){return(n-a)*(e-c)-(t-a)*(s-c)>=0&&(t-a)*(o-c)-(i-a)*(e-c)>=0&&(i-a)*(s-c)-(n-a)*(o-c)>=0}function A(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!D(t,e)&&(b(t,e)&&b(e,t)&&M(t,e)&&(I(t.prev,t,e.prev)||I(t,e.prev,e))||w(t,e)&&I(t.prev,t,t.next)>0&&I(e.prev,e,e.next)>0)}function I(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,i,o){var n=T(I(t,e,i)),s=T(I(t,e,o)),a=T(I(i,o,t)),c=T(I(i,o,e));return n!==s&&a!==c||(!(0!==n||!S(t,i,e))||(!(0!==s||!S(t,o,e))||(!(0!==a||!S(i,t,o))||!(0!==c||!S(i,e,o)))))}function S(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function T(t){return t>0?1:t<0?-1:0}function D(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&E(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function b(t,e){return I(t.prev,t,t.next)<0?I(t,e,t.next)>=0&&I(t,t.prev,e)>=0:I(t,e,t.prev)<0||I(t,t.next,e)<0}function M(t,e){var i=t,o=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(o=!o),i=i.next}while(i!==t);return o}function B(t,e){var i=new z(t.i,t.x,t.y),o=new z(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,o.next=i,i.prev=o,s.next=o,o.prev=s,o}function x(t,e,i,o){var n=new z(t,e,i);return o?(n.next=o.next,n.prev=o,o.next.prev=n,o.next=n):(n.prev=n,n.next=n),n}function G(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function z(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Y(t,e,i,o){for(var n=0,s=e,a=i-o;s<i;s+=o)n+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return n}cc._RF.push(e,"7920ffB5BhImKLDWTC2ZU5h","earcut"),e.exports=o,e.exports.default=o,o.deviation=function(t,e,i,o){var n=e&&e.length,s=n?e[0]*i:t.length,a=Math.abs(Y(t,0,s,i));if(n)for(var c=0,r=e.length;c<r;c++){var l=e[c]*i,h=c<r-1?e[c+1]*i:t.length;a-=Math.abs(Y(t,l,h,i))}var d=0;for(c=0;c<o.length;c+=3){var u=o[c]*i,p=o[c+1]*i,f=o[c+2]*i;d+=Math.abs((t[u]-t[f])*(t[p+1]-t[u+1])-(t[u]-t[p])*(t[f+1]-t[u+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},o.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},o=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var a=0;a<e;a++)i.vertices.push(t[n][s][a]);n>0&&(o+=t[n-1].length,i.holes.push(o))}return i},cc._RF.pop()},{}],"infinite-world":[function(t,e,i){"use strict";cc._RF.push(e,"16a86R6wlJCGp79m2G787o5","infinite-world");var o=t("MathUtils");cc.Class({extends:cc.Component,properties:{pixelStep:10,baseWidth:300,deltaWidth:200,baseHeight:300,deltaHeight:200,xOffset:0,yOffset:240,target:{default:null,type:cc.Node}},onLoad:function(){for(this.hills=[],this.pools=[];this.xOffset<1200;)this.generateHill(10)},generateHillPiece:function(t,e){var i=this.hills,o=i[0];if(o&&this.target.x-o.node.x>1e3)return o.node.x=t,o.collider.points=e,o.collider.apply(),void i.push(i.shift());var n=new cc.Node;n.group="earth",n.x=t,n.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var s=n.addComponent(cc.PhysicsPolygonCollider);s.points=e,s.friction=0,s.restitution=0,n.parent=this.node,i.push({node:n,collider:s})},generateHill:function(){var t=this.pixelStep,e=this.xOffset,i=this.yOffset,n=this.baseWidth+Math.floor(Math.random()*this.deltaWidth),s=(n=Math.ceil(n/this.pixelStep)*this.pixelStep)/t,a=void 0,c=void 0;0===e?(c=0,s=(n=Math.ceil(1e3/this.pixelStep)*this.pixelStep)/t):c=this.baseHeight+Math.floor((2*Math.random()-1)*this.deltaHeight)-i;for(i+=c/2,a=0;a<s;a++){var r=[];r.push(cc.v2(0,-200)),r.push(cc.v2(0,i-c/2*o.cos(180/s*a))),r.push(cc.v2(t,i-c/2*o.cos(180/s*(a+1)))),r.push(cc.v2(t,-200)),this.generateHillPiece(e+a*t,r)}i+=c/2,this.xOffset+=n,this.yOffset=i},update:function(t){if(this.target)for(;this.target.x+1200>this.xOffset;)this.generateHill()}}),cc._RF.pop()},{MathUtils:"MathUtils"}],"long-texture":[function(t,e,i){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}cc._RF.push(e,"b5b9cCXX6NIx5n0AIupVbYv","long-texture");var n=cc.gfx;t("earcut");function s(t,e,i,o,n){var s=t.length,a=[],c=0,r=0,l=i/o;l=l<1?l:o/i;for(var h=0;h<s;h++){var d=0,u=0;Math.floor(h/2);h%2==0?(d=(c+=e[h])*l/n,u=0):h%2==1&&(d=(r+=e[h])/n,u=1);var p=cc.v2(d,u);a.push(p)}return a}cc.Class({extends:cc.Component,editor:{executeInEditMode:!0},properties:{h:128,tarNode:cc.Node},start:function(){var t=this.tarNode.getComponent(cc.PhysicsChainCollider),e=new n.VertexFormat([{name:n.ATTR_POSITION,type:n.ATTR_TYPE_FLOAT32,num:2},{name:n.ATTR_UV0,type:n.ATTR_TYPE_FLOAT32,num:2}]),i=[].concat(o(t.points));this.vertexes=[];for(var a=i.length,c=this.h,r=[],l=null,h=[],d=[],u=[],p=0,f=0,m=0;m<a-1;m++){var g=i[m],v=i[m+1],y=g.sub(v);if(0===m){var _=cc.v2(y.y,-y.x).normalizeSelf().mulSelf(c);r.push(g.add(_))}else{var C=y.add(l),A=cc.v2(C.y,-C.x).normalizeSelf().mulSelf(c);r.push(g.add(A))}if(m===a-2){var I=cc.v2(y.y,-y.x).normalizeSelf().mulSelf(c);r.push(v.add(I))}l=y}h.push(0),d.push(0),u.push(0),u.push(0);for(var w=0;w<a&&(this.vertexes.push(r[w]),this.vertexes.push(i[w]),w!==a-1);w++){var E=r[w].sub(r[w+1]).mag(),S=i[w].sub(i[w+1]).mag();d.push(E),h.push(S),f+=E,p+=S,u.push(E),u.push(S)}this.index=[];for(var T=2*a-2,D=0;D<T;D++)this.index.push(D),this.index.push(D+1),this.index.push(D+2);this.uv=s(this.vertexes,u,p,f,c);var b=new cc.Mesh;b.init(e,this.vertexes.length,!1),this.mesh=b,b.setVertices(n.ATTR_POSITION,this.vertexes),b.setVertices(n.ATTR_UV0,this.uv),b.setIndices(this.index);var M=this.node.getComponent(cc.MeshRenderer);M||(M=this.node.addComponent(cc.MeshRenderer)),M.mesh=b,this.mesh=b},update:function(t){0}}),cc._RF.pop()},{earcut:"earcut"}],"mesh-texture":[function(t,e,i){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}cc._RF.push(e,"d7dd2xwnihNcJKZ0mNTnEFH","mesh-texture");var n=cc.gfx,s=t("earcut");function a(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y);return s(e,null,2)}function c(t,e,i){for(var o=t.length,n=[],s=0;s<o;s++){var a=t[s],c=a.x/256,r=a.y/256,l=cc.v2(c,r);n.push(l)}return n}cc.Class({extends:cc.Component,editor:{executeInEditMode:!0},properties:{speed:50},onLoad:function(){this.sc=this.node.scale,this.pos=this.node.position},start:function(){var t=this.getComponent(cc.PhysicsChainCollider),e=new n.VertexFormat([{name:n.ATTR_POSITION,type:n.ATTR_TYPE_FLOAT32,num:2},{name:n.ATTR_UV0,type:n.ATTR_TYPE_FLOAT32,num:2}]);this.vertexes=[].concat(o(t.points)),this.uv=c(this.vertexes),this.index=a(this.vertexes);var i=new cc.Mesh;i.init(e,this.vertexes.length,!1),this.mesh=i,i.setVertices(n.ATTR_POSITION,this.vertexes),i.setVertices(n.ATTR_UV0,this.uv),i.setIndices(this.index);var s=this.node.getComponent(cc.MeshRenderer);s||(s=this.node.addComponent(cc.MeshRenderer)),s.mesh=i,this.mesh=i},update:function(t){0}}),cc._RF.pop()},{earcut:"earcut"}],pStarRun:[function(t,e,i){"use strict";cc._RF.push(e,"20caexNYFZIeJ+iCEXDkbVy","pStarRun"),cc.Class({extends:cc.Component,properties:{w2:30,w:114,h:114,t:.8},start:function(){var t=this.node.x,e=this.node.y,i=cc.v2(t-this.w/2,e+this.h/2),o=cc.v2(t+this.w/2,e+this.h/2),n=cc.v2(t+this.w/2,e-this.h/2),s=cc.v2(t-this.w/2,e-this.h/2),a=this.t;this.node.position=i,this.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(a,o),cc.moveTo(a,n),cc.moveTo(a,s),cc.moveTo(a,i))))}}),cc._RF.pop()},{}],"physics-settings":[function(t,e,i){"use strict";cc._RF.push(e,"fb5dbqQzmFGD5i6QcIHB9MF","physics-settings"),cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){var t=cc.director.getPhysicsManager();t.enabled=!0,t.debugDrawFlags=0}),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,i){"use strict";cc._RF.push(e,"b11c5B3fJdAcYQZsQ/b4zi/","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],vivoNativeAd:[function(t,e,i){"use strict";cc._RF.push(e,"28454aDuh5IzIUjzq5tou5e","vivoNativeAd"),cc.Class({extends:cc.Component,properties:{adUnitId:"cf825d90cb1047bb98193389e11f2d98",_nativeAd:null,_adList:null,_spriteFrames:[],_curId:0,_time:0},changeId:function(){this._adList&&0!==this._adList.length&&(this._curId=(this._curId+1)%this._adList.length,console.log("this._curId=",this._curId),this.showAd())},showAd:function(){if(this._adList){var t=this._curId,e=this.getComponent(cc.Sprite);if(this._spriteFrames[t])e.spriteFrame=this._spriteFrames[t];else{var i=this;cc.loader.load(this._adList[t].icon,function(o,n){if(o)console.error(o);else{console.log("sf=",n);var s=new cc.SpriteFrame(n);i._spriteFrames[t]=s,e.spriteFrame=s}})}this._nativeAd.reportAdShow({adId:this._adList[this._curId].adId})}},initAd:function(){var t=this;console.log(this.adUnitId);var e=qg.createNativeAd({posId:this.adUnitId});e.onLoad(function(e){console.log("native\u5e7f\u544a\u52a0\u8f7d",e.adList),t._adList=e.adList,t.changeId()}),e.onError(function(t){console.log(t)}),e.load(),this._nativeAd=e},onClicked:function(){cc.sys.platform===cc.sys.VIVO_GAME&&this._nativeAd&&this._adList&&this._nativeAd.reportAdClick({adId:this._adList[this._curId].adId})},start:function(){cc.sys.platform===cc.sys.VIVO_GAME&&(console.log("\u5728VIVO\u5e73\u53f0\u4e0b\u8fd0\u884c"),this.initAd())},update:function(t){cc.sys.platform===cc.sys.VIVO_GAME&&(this._time+=1*t,this._time>=20&&(this.initAd(),this._time=0))}}),cc._RF.pop()},{}],yzFloat:[function(t,e,i){"use strict";cc._RF.push(e,"278a2dLOnBNAYysvNJpq0j8","yzFloat"),cc.Class({extends:cc.Component,properties:{isRight:!1,browser:!0,wechat:!0,oppo:!0,moreGameNode:cc.Node},start:function(){var t=this;if(window.Youzi&&(this.browser&&cc.sys.isBrowser||this.wechat&&cc.sys.platform===cc.sys.WECHAT_GAME||this.oppo&&cc.sys.platform==cc.sys.OPPO_GAME)){var e=this.moreGameNode;Youzi.createYouzi_FloatBtn(this.node,{isRight:this.isRight,callback:function(i){Youzi.createYouziUI_Float(t.node,{isRight:t.isRight,btnNode:i},e)}})}}}),cc._RF.pop()},{}],yzFullScreenIcon:[function(t,e,i){"use strict";cc._RF.push(e,"e972747k5FG65V+RhluYcu+","yzFullScreenIcon");var o=t("EventConst");cc.Class({extends:cc.Component,properties:{browser:!0,wechat:!0,oppo:!1},onLoad:function(){cc.systemEvent.on(o.FULL_SCREEN_ICON,this.onShow,this)},onDestroy:function(){cc.systemEvent.off(o.FULL_SCREEN_ICON,this.onShow,this)},onShow:function(t){this.show(t)},show:function(t){window.Youzi&&(this.browser&&cc.sys.isBrowser||this.wechat&&cc.sys.platform===cc.sys.WECHAT_GAME||this.oppo&&cc.sys.platform==cc.sys.OPPO_GAME)&&(t&&t>=1&&t<=3?Youzi.createYouziUI_FullScreenIcon(this.node,{screenType:t}):Youzi.createYouziUI_FullScreenIcon(this.node))},start:function(){}}),cc._RF.pop()},{EventConst:"EventConst"}],yzGuess:[function(t,e,i){"use strict";cc._RF.push(e,"fafe7m2MCRF2KAXIqygCtWC","yzGuess"),cc.Class({extends:cc.Component,properties:{browser:!0,wechat:!0,oppo:!1,RegisterCancelCallback:cc.Node},start:function(){window.Youzi&&(this.browser&&cc.sys.isBrowser||this.wechat&&cc.sys.platform===cc.sys.WECHAT_GAME||this.oppo&&cc.sys.platform==cc.sys.OPPO_GAME)&&Youzi.createYouziUI_Guess(this.node,{cancelType:0,isVerticle:!0})}}),cc._RF.pop()},{}],yzIviteFriendPlayGame:[function(t,e,i){"use strict";cc._RF.push(e,"8cf27pzMTNNFLfkFa2OsKJY","yzIviteFriendPlayGame");var o=t("EventConst");cc.Class({extends:cc.Component,properties:{},start:function(){cc.systemEvent.on(o.YZ,this.onbtnclick,this)},onbtnclick:function(){console.log("\u8fdb\u5165"),window.Youzi&&(console.log("\u8fdb\u516511111"),console.log("\u8fdb\u5165\u5f39\u7a97\u63a8\u9001"),console.log(this.node+"sdfsdfsdf"),Youzi.creatYouziUI_IviteFriendPlayGame(this.node,{cancelType:3}),console.log("\u5f39\u7a97\u63a8\u9001\u7ed3\u675f"))}}),cc._RF.pop()},{EventConst:"EventConst"}],yzMain:[function(t,e,i){"use strict";cc._RF.push(e,"29d3c0d1f9F2IMh/CwfDmgt","yzMain"),cc.Class({extends:cc.Component,properties:{browser:!0,wechat:!0,oppo:!0,RegisterCancelCallback:cc.Node},start:function(){window.Youzi&&(this.browser&&cc.sys.isBrowser||this.wechat&&cc.sys.platform===cc.sys.WECHAT_GAME||this.oppo&&cc.sys.platform==cc.sys.OPPO_GAME)&&(console.log("\u8fdb\u5165\u4e3b\u63a8"),Youzi.createYouziUI_Main(this.node,{cancelType:0}))}}),cc._RF.pop()},{}],yzMatrix:[function(t,e,i){"use strict";cc._RF.push(e,"00a56YS1J1PQq5w84pE+TdY","yzMatrix"),cc.Class({extends:cc.Component,properties:{browser:!0,wechat:!0,oppo:!0},start:function(){window.Youzi&&(this.browser&&cc.sys.isBrowser||this.wechat&&cc.sys.platform===cc.sys.WECHAT_GAME||this.oppo&&cc.sys.platform===cc.sys.OPPO_GAME)&&Youzi.createYouziUI_Guess(this.node,{isVerticle:!1})}}),cc._RF.pop()},{}],yzMoreGame:[function(t,e,i){"use strict";cc._RF.push(e,"71702GlQ99Dy5AwLYcnzqN0","yzMoreGame");var o=t("EventConst");cc.Class({extends:cc.Component,properties:{browser:!0,wechat:!0,oppo:!1,MoreGamebtn:cc.Node,MoreGameNode:cc.Node},onLoad:function(){cc.systemEvent.on(o.MORE_GAME,this.onMoreGame,this)},onDestroy:function(){cc.systemEvent.off(o.MORE_GAME,this.onMoreGame,this)},onMoreGame:function(){this.show()},show:function(){if(window.Youzi&&(console.log("\u70b9\u51fb\u8fdb\u5165"),this.browser&&cc.sys.isBrowser||this.wechat&&cc.sys.platform===cc.sys.WECHAT_GAME||this.oppo&&cc.sys.platform===cc.sys.OPPO_GAME)){console.log("\u70b9\u51fb\u8fdb\u5165\u5e7f\u544a");var t=this;Youzi.createYouzi_MoreGameBtn(this.MoreGamebtn,{callback:function(e){console.log("\u70b9\u51fb\u8fdb\u5165\u5e7f\u544a1111"),Youzi.createYouziUI_MoreGame(t.MoreGameNode,{btnNode:e,isVerticle:!1})}})}},start:function(){this.show()}}),cc._RF.pop()},{EventConst:"EventConst"}],yzMulMain:[function(t,e,i){"use strict";cc._RF.push(e,"416e7MDf89IsafIRXUB3R0k","yzMulMain"),cc.Class({extends:cc.Component,properties:{browser:!0,wechat:!0,oppo:!1,nodes:[cc.Node]},start:function(){if(window.Youzi&&(this.browser&&cc.sys.isBrowser||this.wechat&&cc.sys.platform===cc.sys.WECHAT_GAME||this.oppo&&cc.sys.platform==cc.sys.OPPO_GAME))Youzi.createYouziUI_MultipleMain(this.nodes,[],this.node)}}),cc._RF.pop()},{}],yzSmallMatrix:[function(t,e,i){"use strict";cc._RF.push(e,"c2a2bOSYxRK87VgczFjIuGX","yzSmallMatrix"),cc.Class({extends:cc.Component,properties:{browser:!0,wechat:!0,oppo:!0},onLoad:function(){},start:function(){console.log("\u5c0f\u77e9\u9635\u5899\u663e\u793a"),window.Youzi&&(this.browser&&cc.sys.isBrowser||this.wechat&&cc.sys.platform===cc.sys.WECHAT_GAME||this.oppo&&cc.sys.platform==cc.sys.OPPO_GAME)&&(console.log("\u5f00\u59cb\u8ba9\u5c0f\u77e9\u9635\u5899\u663e\u793a"),Youzi.createYouziUI_SmallMatrixWall(this.node,{isVerticle:!1}),console.log("\u8ba9\u5c0f\u77e9\u9635\u5899\u663e\u793a\u6210\u529f"))}}),cc._RF.pop()},{}],yzcallback:[function(t,e,i){"use strict";cc._RF.push(e,"ecccdQigGxBwqd57jrMKAIu","yzcallback"),cc.Class({extends:cc.Component,properties:{browser:!0,wechat:!0,oppo:!0},onLoad:function(){console.log("RegisterCancelCallback"+this.node),window.Youzi&&(Youzi.registerCancelCallback(this.node),console.log("\u6ce8\u518c\u53d6\u6d88\u56de\u8c03"))},start:function(){}}),cc._RF.pop()},{}]},{},["use_v2.1-2.2.1_cc.Toggle_event","pStarRun","Youzi","YouziBoxManager","YouziData","YouziUI_Box","YouziUI_Float","YouziUI_FloatBanner","YouziUI_FullScreen","YouziUI_FullScreen2","YouziUI_FullScreen3","YouziUI_GameBanner","YouziUI_Guess","YouziUI_Main","YouziUI_Matrix","YouziUI_MoreGame","YouziUI_Offline","YouziUI_ScreenPage","YouziUI_SmallMatrixWall","Youzi_FloatBtn","Youzi_FullScreenIcon","Youzi_Icon","Youzi_InviteFriendPlayGame","Youzi_MoreGameBtn","Youzi_MultipleMain","Youzi_StripIcon","Youzi_WechatBanner","BtnEffect","BtnMove","BlockComp","NotchScreenFit","RotationAnim","Shake","SoundManager","Toast","CarData","DailyMapData","EventConst","GameAssets","GameConfig","GameData","ItemType","LoginDataManager","MapData","SaveData","ShareData","BgManager","BgMap","Bullet","BulletManager","Car","Game","Gold","Item","Map","MapManager","StartMap","camera-control","earcut","infinite-world","physics-settings","AddGold","CarGarage","CarItem","CarTry","DailyBattle","DailyEnergy","DailyGift","DailyItem","EnergySupply","GameLose","GameUI","GameWin","GameWin2","GameWin2_3","GameWin_3","Integral","Loading","MainMenu","Setting","SkillInfo","UIManager","UserUI","UserUIManager","AdUtils","BILog","HttpUtils","MathUtils","ShareUtils","TTLogin","VibrateUtils","adada","vivoNativeAd","yzFloat","yzFullScreenIcon","yzGuess","yzIviteFriendPlayGame","yzMain","yzMatrix","yzMoreGame","yzMulMain","yzSmallMatrix","yzcallback","long-texture","mesh-texture"]);